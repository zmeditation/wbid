pbjsChunk([295],{310:function(e,t,n){e.exports=n(311)},311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return p}));var r=n(0),i=n(3),d=n(1),o=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p={code:"dspx",gvlid:602,aliases:[],supportedMediaTypes:[o.b,o.d],isBidRequestValid:function(e){return!!e.params.placement},buildRequests:function(e,t){return e.map((function(e){var n,i=e.params,d=i.placement,s=Math.floor(99999999999*Math.random()),p=t.refererInfo.referer,u=e.bidId,f=i.devMode||!1,y=e.adUnitCode||!1,b=e.auctionId||!1,m=f?"https://dcbuyer.dspx.tv/request/":"https://buyer.dspx.tv/request/",v=function(e){var t={};e.mediaTypes?Object.keys(e.mediaTypes).forEach((function(n){n===o.b&&(t[n]=c(e)),n===o.d&&(t[n]=function(e){return l(Object(r.deepAccess)(e,"mediaTypes.video.playerSize")||e.sizes)}(e))})):t[o.b]=c(e);return t}(e),g=v["banner"===(n=e).mediaType||Object(r.deepAccess)(n,"mediaTypes.banner")||!function(e){return"video"===e.mediaType||!!Object(r.deepAccess)(e,"mediaTypes.video")}(n)?o.b:o.d],h={_f:"auto",alternative:"prebid_js",inventory_item_id:d,srw:g?g[0].width:0,srh:g?g[0].height:0,idt:100,rnd:s,ref:p,bid_id:u,pbver:"6.10.0-pre"};return void 0!==v[o.d]&&void 0!==i.vastFormat&&(h.vf=i.vastFormat),void 0!==i.pfilter&&(h.pfilter=i.pfilter),t&&t.gdprConsent&&(void 0!==h.pfilter?h.pfilter.gdpr_consent||(h.pfilter.gdpr_consent=t.gdprConsent.consentString,h.pfilter.gdpr=t.gdprConsent.gdprApplies):h.pfilter={gdpr_consent:t.gdprConsent.consentString,gdpr:t.gdprConsent.gdprApplies}),void 0!==i.bcat&&(h.bcat=i.bcat),void 0!==i.dvt&&(h.dvt=i.dvt),f&&(h.prebidDevMode=1),e.userId&&e.userId.netId&&(h.did_netid=e.userId.netId),e.userId&&e.userId.uid2&&(h.did_uid2=e.userId.uid2),b&&(h.auctionId=b),y&&(h.pbcode=y),h.media_types=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].map((function(e){return e.width+"x"+e.height})).join(",")})),t}(v),{method:"GET",url:m,data:a(h)}}))},interpretResponse:function(e,t){var n=[],r=e.body,d=r.crid||0,o=r.cpm/1e6||0;if(0!==o&&0!==d){var s=r.dealid||"",p=r.currency||"EUR",u=void 0===r.netRevenue||r.netRevenue,a={requestId:r.bid_id,cpm:o,width:r.width,height:r.height,creativeId:d,dealId:s,currency:p,netRevenue:u,type:r.type,ttl:i.b.getConfig("_bidderTimeout"),meta:{advertiserDomains:r.adomain||[]}};r.vastXml?(a.vastXml=r.vastXml,a.mediaType="video"):a.ad=r.adTag,n.push(a)}return n},getUserSyncs:function(e,t,n,r){if(!t||0===t.length)return[];var i=[],d="";return n&&(d="gdprApplies"in n&&"boolean"==typeof n.gdprApplies?"gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):"gdpr_consent=".concat(n.consentString)),t.length>0&&t[0].body.userSync&&(e.iframeEnabled&&t[0].body.userSync.iframeUrl.forEach((function(e){return i.push({type:"iframe",url:u(e,d)})})),e.pixelEnabled&&t[0].body.userSync.imageUrl.forEach((function(e){return i.push({type:"image",url:u(e,d)})}))),i}};function u(e,t){return t?e+(-1!==e.indexOf("?")?"&":"?")+t:e}function a(e,t){var n,r=[];for(n in e)if(e.hasOwnProperty(n)){var i=t?t+"["+n+"]":n,d=e[n];r.push(null!==d&&"object"===s(d)?a(d,i):encodeURIComponent(i)+"="+encodeURIComponent(d))}return r.join("&")}function c(e){return l(Object(r.deepAccess)(e,"mediaTypes.banner.sizes")||e.sizes)}function f(e){var t={};return t.width=parseInt(e[0],10),t.height=parseInt(e[1],10),t}function l(e){return Array.isArray(e[0])?e.map((function(e){return f(e)})):[f(e)]}Object(d.registerBidder)(p),window.pbjs.installedModules.push("dspxBidAdapter")}},[310]);