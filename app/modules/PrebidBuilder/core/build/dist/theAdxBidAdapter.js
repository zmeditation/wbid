pbjsChunk([122],{760:function(e,t,i){e.exports=i(761)},761:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"spec",(function(){return c}));var a=i(0),n=i(2),r=i(1),d="theadx",s={0:"title",1:"cta",2:"icon",3:"image",4:"body",5:"sponsoredBy",6:"body2",7:"phone",8:"privacyLink",9:"displayurl",10:"rating",11:"address",12:"downloads",13:"likes",14:"price",15:"saleprice"},o={title:{id:0,name:"title"},body:{id:4,name:"data",type:2},body2:{id:6,name:"data",type:10},privacyLink:{id:8,name:"data",type:501},sponsoredBy:{id:5,name:"data",type:1},image:{id:3,type:3,name:"img"},icon:{id:2,type:1,name:"img"},displayurl:{id:9,name:"data",type:11},cta:{id:1,type:12,name:"data"},rating:{id:7,name:"data",type:3},address:{id:11,name:"data",type:5},downloads:{id:12,name:"data",type:5},likes:{id:13,name:"data",type:4},phone:{id:7,name:"data",type:8},price:{id:14,name:"data",type:6},saleprice:{id:15,name:"data",type:7}},c={code:d,aliases:["theadx"],supportedMediaTypes:[n.b,n.d,n.c],isBidRequestValid:function(e){Object(a.logInfo)("theadx.isBidRequestValid",e);var t=!1;return e&&e.params&&(t=!(!e.params.pid||!e.params.tagId)),t},buildRequests:function(e,t){Object(a.logInfo)("theadx.buildRequests","validBidRequests",e,"bidderRequest",t);var i=[],n="POST";return Object(a.isEmpty)(e)||(i=e.map((function(e){return{method:n,type:n,url:"".concat("https://ssp.theadx.com/request","?tagid=").concat(e.params.tagId),options:{withCredentials:!0},bidder:"theadx",referrer:encodeURIComponent(t.refererInfo.referer),data:v(e,t),mediaTypes:e.mediaTypes,requestId:t.bidderRequestId,bidId:e.bidId,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))),i},interpretResponse:function(e,t){Object(a.logInfo)("theadx.interpretResponse","serverResponse",e," request",t);var i=[];if(e.body){var r=e.body,c=r.seatbid;if(!Object(a.isEmpty)(c)&&!Object(a.isEmpty)(c[0].bid)){var p=c[0].bid[0],u=function(e){return void 0===e?null:parseInt(e)},l=null;p.ext&&(l=u(p.ext.ttl)?u(p.ext.ttl):2e3);var m=u(p.w),v=u(p.h),y=null,b=null,f=null,h=null;if(t.mediaTypes&&t.mediaTypes.video)b=p.ext.vast_url,f=n.d;else if(t.mediaTypes&&t.mediaTypes.banner)f=n.b,y=p.adm;else if(t.mediaTypes&&t.mediaTypes.native){f=n.c;var g=p.ext.native,x=g.assets,k=g.link,I=g.imptrackers,w=g.jstracker;h={clickUrl:k.url,clickTrackers:k.clicktrackers||p.ext.cliu?[]:void 0,impressionTrackers:I||p.nurl?[]:void 0,javascriptTrackers:w?[w]:void 0},p.nurl&&(h.impressionTrackers.unshift(p.ext.impu),h.impressionTrackers.unshift(p.nurl),h.clickTrackers&&h.clickTrackers.unshift(p.ext.cliu)),x.forEach((function(e){var t=s[e.id],i=t&&e[o[t].name];i&&(h[t]=i.text||i.value||{url:i.url,width:i.w,height:i.h})}))}var T={bidderCode:d,requestId:t.bidId,cpm:p.price,width:0|m,height:0|v,ad:y,ttl:l||3e3,creativeId:p.crid,netRevenue:!0,currency:r.cur,mediaType:f,native:h};f==n.d&&b&&(T.vastUrl=b,T.videoCacheKey=p.ext.rid),i.push(T)}}return i},getUserSyncs:function(e,t){Object(a.logInfo)("theadx.getUserSyncs","syncOptions",e,"serverResponses",t);var i=[];return e.iframeEnabled||e.pixelEnabled?(t.forEach((function(t){var n=Object(a.deepAccess)(t,"body.ext.sync.iframe"),r=Object(a.deepAccess)(t,"body.ext.sync.image");e.iframeEnabled&&n&&n.forEach((function(e){i.push({type:"iframe",url:e})})),e.pixelEnabled&&r&&r.forEach((function(e){i.push({type:"image",url:e})}))})),i):i}},p=function(e,t){var i=Object(a.parseUrl)(t.refererInfo.referer,{decodeSearchAsString:!0}),n={domain:i.hostname,page:i.href,id:e.params.wid,publisher:{id:e.params.pid}};if(i.search&&(n.search=i.search),document){var r=document.getElementsByTagName("meta").keywords;r&&r.content&&(n.keywords=r.content)}return n};var u=function(e,t){return e.bidId},l=function(e,t){var i=null,n=null,r=[],d=e.mediaTypes;d&&(d.banner&&d.banner.sizes||d.video&&d.video.sizes)?r=d.banner?d.banner.sizes:d.video.sizes:Object(a.isEmpty)(e.sizes)||(r=e.sizes);var s=Object(a.parseSizesInput)(r);if(!Object(a.isEmpty)(s)&&null!=s[0]){var o=s[0].split("x");i=parseInt(o[0]),n=parseInt(o[1])}return{w:i,h:n}},m=function(e,t){var i=e.mediaTypes,n=null,r=null,d=null;i&&i.video?r=function(e,t){var i=l(e);return{w:i.w,h:i.h}}(e):i&&i.banner?n=function(e,t){var i=l(e);return{w:i.w,h:i.h}}(e):i&&i.native&&(d=function(e,t){return{request:{assets:Object(a._map)(e.mediaTypes.native,(function(e,t){var i=o[t],a={required:1&e.required};if(i)return a.id=i.id,a[i.name]={len:e.len,wmin:e.sizes&&e.sizes[0],hmin:e.sizes&&e.sizes[1],type:i.type},a})).filter(Boolean)}}}(e));var s={id:e.index,tagid:e.params.tagId+""};return n&&(s.banner=n),r&&(s.video=r),d&&(s.native=d),s},v=function(e,t){var i,n,r={id:u(e),site:p(e,t),device:(i={js:1,language:"language"in navigator?navigator.language:null,ua:"userAgent"in navigator?navigator.userAgent:null,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:Object(a.getDNT)()?1:0},n=navigator.connection||navigator.webkitConnection,n&&n.type&&(i.connectiontype=n.type,n.downlinkMax&&(i.connectionDownlinkMax=n.downlinkMax)),i),imp:[m(e)]};return JSON.stringify(r)};Object(r.registerBidder)(c),window.pbjs.installedModules.push("theAdxBidAdapter")}},[760]);