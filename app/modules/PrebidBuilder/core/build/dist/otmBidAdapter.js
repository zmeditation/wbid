pbjsChunk([183],{581:function(e,t,r){e.exports=r(582)},582:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return c}));var n=r(1),i=r(0),a=r(2),o="https://ssp.otm-r.com/adjson",d="RUB",c={code:"otm",url:o,supportedMediaTypes:[a.b],isBidRequestValid:function(e){return!!e.params.tid},buildRequests:function(e,t){Object(i.logInfo)("validBidRequests",e);var r=[],n=(new Date).getTimezoneOffset(),a="";return t&&t.refererInfo&&(a=t.refererInfo.referer),Object(i._each)(e,(function(e){var t=Object(i.getValue)(e.params,"domain")||"",c=Object(i.getValue)(e.params,"tid"),s=Object(i.getValue)(e.params,"currency")||d,u=Object(i.getBidIdParameter)("bidId",e),b=Object(i.getBidIdParameter)("transactionId",e),f=Object(i.getBidIdParameter)("auctionId",e),l=function(e){if(!Object(i.isFn)(e.getFloor))return e.params.bidfloor?e.params.bidfloor:0;var t=e.getFloor({currency:d,mediaType:"*",size:"*"});if(Object(i.isPlainObject)(t)&&!isNaN(t.floor)&&t.currency===d)return t.floor;return 0}(e);Object(i._each)(e.sizes,(function(e){var i=0,d=0;e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&(i=e[0],d=e[1]),r.push({method:"GET",url:o,data:{tz:n,w:i,h:d,domain:t,l:a,s:c,cur:s,bidid:u,transactionid:b,auctionid:f,bidfloor:l}})}))})),r},interpretResponse:function(e,t){Object(i.logInfo)("serverResponse",e.body);var r=e?e.body:{},n=[];try{if(0===r.length)return[];Object(i._each)(r,(function(e){e.ad&&n.push({requestId:e.bidid,cpm:e.cpm,width:e.w,height:e.h,creativeId:e.creativeid,currency:e.currency||"RUB",netRevenue:!0,ad:e.ad,ttl:e.ttl,transactionId:e.transactionid,meta:{advertiserDomains:e.adDomain?[e.adDomain]:[]}})}))}catch(e){Object(i.logError)(e)}return n}};Object(n.registerBidder)(c),window.pbjs.installedModules.push("otmBidAdapter")}},[581]);