pbjsChunk([320],{252:function(e,t,r){e.exports=r(253)},253:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return b}));var n=r(0),a=r(1),o=r(2),i=r(3);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p="https://sa-lb.deliverimp.com/pbjs";function l(e){if(!(e.requestId&&e.cpm&&e.creativeId&&e.ttl&&e.currency))return!1;switch(e.mediaType){case o.b:return Boolean(e.width&&e.height&&e.ad);case o.d:return Boolean(e.vastUrl||e.vastXml);case o.c:return Boolean(e.native&&e.native.impressionTrackers&&e.native.impressionTrackers.length);default:return!1}}function u(e){var t=e.params,r=e.bidId,a=e.mediaTypes,i=e.schain||{},c=t.placementId,d=t.endpointId,s={bidId:r,schain:i,bidfloor:function(e){if(!Object(n.isFn)(e.getFloor))return Object(n.deepAccess)(e,"params.bidfloor",0);try{return e.getFloor({currency:"USD",mediaType:"*",size:"*"}).floor}catch(e){return Object(n.logError)(e),0}}(e)};return c?(s.placementId=c,s.type="publisher"):d&&(s.endpointId=d,s.type="network"),a&&a[o.b]?(s.adFormat=o.b,s.sizes=a[o.b].sizes):a&&a[o.d]?(s.adFormat=o.d,s.playerSize=a[o.d].playerSize,s.minduration=a[o.d].minduration,s.maxduration=a[o.d].maxduration,s.mimes=a[o.d].mimes,s.protocols=a[o.d].protocols,s.startdelay=a[o.d].startdelay,s.placement=a[o.d].placement,s.skip=a[o.d].skip,s.skipafter=a[o.d].skipafter,s.minbitrate=a[o.d].minbitrate,s.maxbitrate=a[o.d].maxbitrate,s.delivery=a[o.d].delivery,s.playbackmethod=a[o.d].playbackmethod,s.api=a[o.d].api,s.linearity=a[o.d].linearity):a&&a[o.c]&&(s.native=a[o.c],s.adFormat=o.c),s}var b={code:"compass",supportedMediaTypes:[o.b,o.d,o.c],isBidRequestValid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params,r=e.bidId,n=e.mediaTypes,a=Boolean(r&&t&&(t.placementId||t.endpointId));return a=n&&n[o.b]?a&&Boolean(n[o.b]&&n[o.b].sizes):n&&n[o.d]?a&&Boolean(n[o.d]&&n[o.d].playerSize):!(!n||!n[o.c])&&(a&&Boolean(n[o.c]))},buildRequests:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=0,o=0;try{var c=window.top;a=c.screen.width,o=c.screen.height,e=c.location}catch(t){Object(n.logMessage)(t),e=window.location}var d,s=r.refererInfo&&r.refererInfo.referer;try{d=s&&new URL(s)}catch(e){Object(n.logMessage)(e)}for(var l=d||e,b=navigator&&navigator.language?navigator.language.split("-")[0]:"",m=l.host,g=l.pathname,f="https:"===l.protocol?1:0,v=[],y={deviceWidth:a,deviceHeight:o,language:b,secure:f,host:m,page:g,placements:v,coppa:!0===i.b.getConfig("coppa")?1:0,ccpa:r.uspConsent||void 0,gdpr:r.gdprConsent||void 0,tmax:i.b.getConfig("bidderTimeout")},h=t.length,O=0;O<h;O++){var j=t[O];v.push(u(j))}return{method:"POST",url:p,data:y}},interpretResponse:function(e){for(var t=[],r=0;r<e.body.length;r++){var n=e.body[r];if(l(n)){var a=n.adomain&&n.adomain.length?n.adomain:[];n.meta=d(d({},n.meta),{},{advertiserDomains:a}),t.push(n)}}return t},getUserSyncs:function(e,t,r,n){var a=e.iframeEnabled?"iframe":"image",o="https://sa-cs.deliverimp.com"+"/".concat(a,"?pbjs=1");r&&r.consentString&&("boolean"==typeof r.gdprApplies?o+="&gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):o+="&gdpr=0&gdpr_consent=".concat(r.consentString)),n&&n.consentString&&(o+="&ccpa_consent=".concat(n.consentString));var c=i.b.getConfig("coppa")?1:0;return[{type:a,url:o+="&coppa=".concat(c)}]}};Object(a.registerBidder)(b),window.pbjs.installedModules.push("compassBidAdapter")}},[252]);