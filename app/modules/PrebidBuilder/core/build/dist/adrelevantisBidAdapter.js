pbjsChunk([375],{115:function(e,r,t){e.exports=t(116)},116:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return j}));var a=t(13),n=t(0),i=t(3),s=t(1),o=t(2),d=t(11),p=t.n(d),c=t(12),u=t.n(c),l=t(17);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var b="https://ssp.adrelevantis.com/prebid",g=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],h=["age","externalUid","segments","gender","dnt","language"],_=["geo","device_id"],O={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},j={code:"adrelevantis",aliases:["adr","adsmart","compariola"],supportedMediaTypes:[o.b,o.d,o.c],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,r){var t,a=e.map(C),s=p()(e,A);!0===i.b.getConfig("coppa")&&(t={coppa:!0}),s&&(t={},Object.keys(s.params.user).filter((function(e){return u()(h,e)})).forEach((function(e){return t[e]=s.params.user[e]})));var o,d=p()(e,S);d&&d.params&&d.params.app&&(o={},Object.keys(d.params.app).filter((function(e){return u()(_,e)})).forEach((function(e){return o[e]=d.params.app[e]})));var c,l=p()(e,P);l&&l.params&&d.params.app&&d.params.app.id&&(c={appid:l.params.app.id});var m={tags:f(a),user:t,sdk:{source:"pbjs",version:"6.10.0-pre"}};if(d&&(m.device=o),l&&(m.app=c),r&&r.gdprConsent&&(m.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),r&&r.refererInfo){var y={rd_ref:encodeURIComponent(r.refererInfo.referer),rd_top:r.refererInfo.reachedTop,rd_ifs:r.refererInfo.numIframes,rd_stk:r.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")};m.referrer_detection=y}var v=i.b.getLegacyFpd(i.b.getConfig("ortb2"));if(v&&v.context){var g={keywords:v.context.keywords||"",category:v.context.category||""};m.fpd=g}return function(e,r){var t=[];if(e.tags.length>15){var a=Object(n.deepClone)(e);Object(n.chunk)(e.tags,15).forEach((function(e){a.tags=e;var n=JSON.stringify(a);t.push({method:"POST",url:b,data:n,bidderRequest:r})}))}else{var i=JSON.stringify(e);t={method:"POST",url:b,data:i,bidderRequest:r}}return t}(m,r)},interpretResponse:function(e,r){var t=this,i=r.bidderRequest;e=e.body;var s=[];if(!e||e.error){var d="in response for ".concat(i.bidderCode," adapter");return e&&e.error&&(d+=": ".concat(e.error)),Object(n.logError)(d),s}return e.tags&&e.tags.forEach((function(e){var r,d=(r=e)&&r.ads&&r.ads.length&&p()(r.ads,(function(e){return e.rtb}));if(d&&0!==d.cpm&&u()(t.supportedMediaTypes,d.ad_type)){var c=function(e,r,t){var i=Object(n.getBidRequest)(e.uuid,[t]),s={requestId:e.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,adrelevantis:{buyerMemberId:r.buyer_member_id,dealPriority:r.deal_priority,dealCode:r.deal_code}};r.advertiser_id&&(s.meta=y({},s.meta,{advertiserId:r.advertiser_id}));if(r.rtb.video){switch(y(s,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastImpUrl:r.notify_url,ttl:3600}),Object(n.deepAccess)(i,"mediaTypes.video.context")){case l.b:if(s.adResponse=e,s.adResponse.ad=s.adResponse.ads[0],s.adResponse.ad.video=s.adResponse.ad.rtb.video,s.vastXml=r.rtb.video.content,r.renderer_url){var d=p()(t.bids,(function(r){return r.bidId===e.uuid})),c=Object(n.deepAccess)(d,"renderer.options");s.renderer=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.a.install({id:r.renderer_id,url:r.renderer_url,config:t,loaded:!1,adUnitCode:e});try{i.setRender(w)}catch(e){Object(n.logWarn)("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:function(){return Object(n.logMessage)("AdRelevantis outstream video impression event")},loaded:function(){return Object(n.logMessage)("AdRelevantis outstream video loaded event")},ended:function(){Object(n.logMessage)("AdRelevantis outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),i}(s.adUnitCode,r,c)}break;case l.a:s.vastUrl=r.notify_url+"&redir="+encodeURIComponent(r.rtb.video.asset_url)}}else if(r.rtb[o.c]){var u=r.rtb[o.c],m=r.viewability.config.replace("src=","data-src="),f=u.javascript_trackers;null==f?f=m:Object(n.isStr)(f)?f=[f,m]:f.push(m),s[o.c]={title:u.title,body:u.desc,body2:u.desc2,cta:u.ctatext,rating:u.rating,sponsoredBy:u.sponsored,privacyLink:u.privacy_link,address:u.address,downloads:u.downloads,likes:u.likes,phone:u.phone,price:u.price,salePrice:u.saleprice,clickUrl:u.link.url,displayUrl:u.displayurl,clickTrackers:u.link.click_trackers,impressionTrackers:u.impression_trackers,javascriptTrackers:f},u.main_img&&(s.native.image={url:u.main_img.url,height:u.main_img.height,width:u.main_img.width}),u.icon&&(s.native.icon={url:u.icon.url,height:u.icon.height,width:u.icon.width})}else{y(s,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{var v=r.rtb.trackers[0].impression_urls[0],b=Object(n.createTrackPixelHtml)(v);s.ad+=b}catch(e){Object(n.logError)("Error appending tracking pixel",e)}}return s}(e,d,i);c.mediaType=function(e){return e.ad_type===o.d?o.d:o.b}(d),s.push(c)}})),s},transformBidParams:function(e,r){return e=Object(n.convertTypes)({placementId:"number",keywords:n.transformBidderParamKeywords},e),r&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,k(e.keywords)&&e.keywords.forEach(I),Object.keys(e).forEach((function(r){var t=Object(n.convertCamelToUnderscore)(r);t!==r&&(e[t]=e[r],delete e[r])}))),e}};function k(e){return!!(Object(n.isArray)(e)&&e.length>0)}function I(e){k(e.value)&&""===e.value[0]&&delete e.value}function w(e){var r,t;r=e.adUnitCode,(t=document.getElementById(r).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},R.bind(null,e))}))}function R(e,r,t){e.renderer.handleVideoEvent({id:r,eventName:t})}function C(e){var r,t,a={};if(a.sizes=T(e.sizes),a.primary_size=a.sizes[0],a.ad_types=[],a.uuid=e.bidId,e.params.placementId&&(a.id=parseInt(e.params.placementId,10)),e.params.cpm&&(a.cpm=e.params.cpm),a.allow_smaller_sizes=e.params.allowSmallerSizes||!1,a.use_pmt_rule=e.params.usePaymentRule||!1,a.prebid=!0,a.disable_psa=!0,e.params.position&&(a.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(a.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(a.private_sizes=T(e.params.privateSizes)),e.params.supplyType&&(a.supply_type=e.params.supplyType),e.params.pubClick&&(a.pubclick=e.params.pubClick),e.params.extInvCode&&(a.ext_inv_code=e.params.extInvCode),e.params.externalImpId&&(a.external_imp_id=e.params.externalImpId),!Object(n.isEmpty)(e.params.keywords)){var i=Object(n.transformBidderParamKeywords)(e.params.keywords);i.length>0&&i.forEach(I),a.keywords=i}if(e.params.category&&(a.category=e.params.category),(e.mediaType===o.c||Object(n.deepAccess)(e,"mediaTypes.".concat(o.c)))&&(a.ad_types.push(o.c),0===a.sizes.length&&(a.sizes=T([1,1])),e.nativeParams)){var s=(r=e.nativeParams,t={},Object.keys(r).forEach((function(e){var a=O[e]&&O[e].serverName||O[e]||e,i=O[e]&&O[e].requiredParams;if(t[a]=y({},i,r[e]),(a===O.image.serverName||a===O.icon.serverName)&&t[a].sizes){var s=t[a].sizes;(Object(n.isArrayOfNums)(s)||Object(n.isArray)(s)&&s.length>0&&s.every((function(e){return Object(n.isArrayOfNums)(e)})))&&(t[a].sizes=T(t[a].sizes))}a===O.privacyLink&&(t.privacy_supported=!0)})),t);a[o.c]={layouts:[s]}}var d=Object(n.deepAccess)(e,"mediaTypes.".concat(o.d)),p=Object(n.deepAccess)(e,"mediaTypes.video.context");return a.hb_source=1,(e.mediaType===o.d||d)&&a.ad_types.push(o.d),(e.mediaType===o.d||d&&"outstream"!==p)&&(a.require_asset_url=!0),e.params.video&&(a.video={},Object.keys(e.params.video).filter((function(e){return u()(g,e)})).forEach((function(r){return a.video[r]=e.params.video[r]}))),e.renderer&&(a.video=y({},a.video,{custom_renderer_present:!0})),(Object(n.isEmpty)(e.mediaType)&&Object(n.isEmpty)(e.mediaTypes)||e.mediaType===o.b||e.mediaTypes&&e.mediaTypes[o.b])&&a.ad_types.push(o.b),a}function T(e){var r=[],t={};if(Object(n.isArray)(e)&&2===e.length&&!Object(n.isArray)(e[0]))t.width=parseInt(e[0],10),t.height=parseInt(e[1],10),r.push(t);else if("object"===m(e))for(var a=0;a<e.length;a++){var i=e[a];(t={}).width=parseInt(i[0],10),t.height=parseInt(i[1],10),r.push(t)}return r}function A(e){return!!e.params.user}function S(e){if(e.params)return!!e.params.app}function P(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}Object(s.registerBidder)(j),window.pbjs.installedModules.push("adrelevantisBidAdapter")}},[115]);