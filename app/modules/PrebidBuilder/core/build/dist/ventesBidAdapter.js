pbjsChunk([105],{801:function(e,r,t){e.exports=t(802)},802:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return S}));var n=t(2),i=t(0),a=t(11),u=t.n(a),c=t(1);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){p(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function b(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,i,a=[],u=!0,c=!1;try{for(t=t.call(e);!(u=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);u=!0);}catch(e){c=!0,i=e}finally{try{u||null==t.return||t.return()}finally{if(c)throw i}}return a}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var f=new RegExp("//([^/]*)");function d(e,r){var t=e.reduce((function(e,t){var n=t[r];return e[n]||(e[n]=[]),e[n].push(t),e}),{});return Object.keys(t).map((function(e){return{id:e,key:r,values:t[e]}}))}function O(e,r){return!!Object(i.isPlainObject)(e)&&(!!r.some((function(r){return r in e}))&&!(function(e){return Object(i.isPlainObject)(e)&&Object(i.isPlainObject)(e.banner)}(e)&&(t=e.banner,!(Object(i.isPlainObject)(t)&&Object(i.isArray)(t.sizes)&&t.sizes.length>0&&t.sizes.every(m)))));var t}function m(e){return Object(i.isArray)(e)&&2===e.length&&e.every((function(e){return Object(i.isNumber)(e)&&e>=0}))}function j(e){return!!e.params.user}function v(e,r){if(!r||!r.refererInfo)return null;var t=function(e){if(!e||!Object(i.isStr)(e))return null;var r=e.match(f);return Object(i.isArray)(r)&&2===r.length?r[1]:null}(r.refererInfo.referer),n=e[0].params.publisherId;return t?{page:r.refererInfo.referer,domain:t,name:t,publisher:{id:n}}:null}function y(e,r,t){var n=u()(e,j),a={};n&&Object.keys(n.params.user).forEach((function(e){var r=Object(i.convertCamelToUnderscore)(e);if("segments"===e&&Object(i.isArray)(n.params.user[e])){var t=[];n.params.user[e].forEach((function(e){Object(i.isNumber)(e)?t.push({id:e}):Object(i.isPlainObject)(e)&&t.push(e)})),a[r]=t}else"segments"!==e&&(a[r]=n.params.user[e])}));var c,s=u()(e,P);s&&s.params&&s.params.device?(c={},Object.keys(s.params.device).forEach((function(e){return c[e]=s.params.device[e]})),s.hasOwnProperty("ua")||(c.ua=navigator.userAgent),s.hasOwnProperty("language")||(c.language=navigator.language)):((c={}).ua=navigator.userAgent,c.language=navigator.language);var o={};o.id=r,o.at=1,o.cur=["USD"],o.imp=e.reduce(h,[]);var p,b=u()(e,w);b?(b&&b.params&&b.params.app&&b.params.app.id&&(p={},Object.keys(b.params.app).forEach((function(e){return p[e]=b.params.app[e]}))),o.app=p):o.site=v(e,t);return o.device=c,o.user=a,o}function h(e,r){var t=r.bidId,n=r.mediaTypes,i=r.params,a=(i.placementId,Object.keys(n).reduce((function(e,r){var a=n[r],u="".concat(t);if("banner"===r)return e.concat(function(e,r,t){var n=t.position,i=t.placementId,a=n||0,u={},c={placementId:i};i&&(u.deals=[{id:i}]);return r.sizes.map((function(r){var t=b(r,2),n=t[0],s=t[1];return{id:"".concat(e),banner:{format:[{w:n,h:s}],w:n,h:s,pos:a},pmp:u,ext:c,tagid:i}}))}(u,a,i))}),[]));return e.concat(a)}function g(e,r,t){return e.bid.filter((function(e){return function(e){if(!Object(i.isPlainObject)(e))return!1;if(!Object(i.isStr)(e.impid))return!1;if(!Object(i.isStr)(e.crid))return!1;if(!Object(i.isNumber)(e.price))return!1;if(!Object(i.isNumber)(e.w))return!1;if(!Object(i.isNumber)(e.h))return!1;if(!e.adm)return!1;if(e.adm&&!Object(i.isStr)(e.adm))return!1;return!0}(e)})).map((function(e){return function(e,r){var t=function(e){if(new RegExp(/VAST\s+version/).test(e))return n.d;var r=function(){try{return JSON.parse.apply(JSON,arguments)}catch(e){return}}(e.replace(/\\/g,""));if(r&&Object(i.isPlainObject)(r.native))return n.c;return n.b}(e.adm),a={requestId:e.impid,cpm:e.price,currency:r.cur,ttl:10,creativeId:e.crid,mediaType:t,netRevenue:!0};e.adomain&&(a.meta={advertiserDomains:e.adomain});var u=function(e){if(Object(i.isNumber)(e.w)&&Object(i.isNumber)(e.h))return{width:e.w,height:e.h};return{width:null,height:null}}(e),c=function(e){var r=!!e.adm,t=e.price;return{markup:r?Object(i.replaceAuctionPrice)(e.adm,t):null,markupUrl:r?null:Object(i.replaceAuctionPrice)(e.nurl,t)}}(e);return o(o({},a),{},{height:u.height,width:u.width,ad:c.markup,adUrl:c.markupUrl,renderer:c.renderer})}(e,r)}))}function P(e){if(e.params)return!!e.params.device}function w(e){if(e.params)return!!e.params.app}var S={code:"ventes",supportedMediaTypes:[n.b],isBidRequestValid:function(e){var r,t=[this.code];return Object(i.isPlainObject)(e)&&-1!==t.indexOf(e.bidder)&&Object(i.isStr)(e.adUnitCode)&&Object(i.isStr)(e.bidderRequestId)&&Object(i.isStr)(e.bidId)&&O(e.mediaTypes,this.supportedMediaTypes)&&(!!(r=e.params).placementId&&!!r.publisherId)},buildRequests:function(e,r){return e?d(e,"bidderRequestId").map((function(e){var t=e.id;return function(e,r,t){return{method:"POST",url:"http://13.234.201.146:8088/va/ad",data:y(e,r,t),options:{contentType:"application/json",withCredentials:!1}}}(d(e.values,"bidId").map((function(e){var r=e.values.length;return r>0&&e.values[r-1]})),t,r)})):null},interpretResponse:function(e,r){if(!function(e){return Object(i.isPlainObject)(e)&&Object(i.isPlainObject)(e.data)&&Object(i.isArray)(e.data.imp)}(r))return[];if(!function(e){return Object(i.isPlainObject)(e)&&Object(i.isPlainObject)(e.body)&&Object(i.isStr)(e.body.cur)&&Object(i.isArray)(e.body.seatbid)}(e))return[];var t=e.body;return t.seatbid.filter((function(e){return Object(i.isPlainObject)(e)&&Object(i.isArray)(e.bid)})).reduce((function(e,r){return e.concat(g(r,t))}),[])}};Object(c.registerBidder)(S),window.pbjs.installedModules.push("ventesBidAdapter")}},[801]);