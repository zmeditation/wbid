pbjsChunk([365],{147:function(e,r,t){e.exports=t(148)},148:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return u}));var i=t(0),a=t(13),n=t(1),d=t(2);function s(){return(s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var p=1,o=2,c=3,u={code:"aja",supportedMediaTypes:[d.d,d.b,d.c],isBidRequestValid:function(e){return!!e.params.asi},buildRequests:function(e,r){for(var t=[],a=r&&r.refererInfo&&r.refererInfo.referer||void 0,n=0,d=e.length;n<d;n++){var s=e[n],p="",o=Object(i.getBidIdParameter)("asi",s.params);p=Object(i.tryAppendQueryString)(p,"asi",o),p=Object(i.tryAppendQueryString)(p,"skt",5),p=Object(i.tryAppendQueryString)(p,"tid",s.transactionId),p=Object(i.tryAppendQueryString)(p,"prebid_id",s.bidId),p=Object(i.tryAppendQueryString)(p,"prebid_ver","6.10.0-pre"),a&&(p=Object(i.tryAppendQueryString)(p,"page_url",a));var c=s.userIdAsEids;c&&c.length&&(p=Object(i.tryAppendQueryString)(p,"eids",JSON.stringify({eids:c}))),t.push({method:"GET",url:"https://ad.as.amanad.adtdp.com/v2/prebid",data:p})}return t},interpretResponse:function(e){var r=e.body;if(!r.is_ad_return)return[];var t=r.ad,a={requestId:t.prebid_id,cpm:t.price,creativeId:t.creative_id,dealId:t.deal_id,currency:t.currency||"USD",netRevenue:!0,ttl:300,meta:{advertiserDomains:[]}};if(c===t.ad_type){var n=r.ad.video;s(a,{vastXml:n.vtag,width:n.w,height:n.h,renderer:l(r),adResponse:r,mediaType:d.d}),Array.prototype.push.apply(a.meta.advertiserDomains,n.adomain)}else if(p===t.ad_type){var u=r.ad.banner;s(a,{width:u.w,height:u.h,ad:u.tag,mediaType:d.b});try{u.imps.forEach((function(e){var r=Object(i.createTrackPixelHtml)(e);a.ad+=r}))}catch(e){Object(i.logError)("Error appending tracking pixel",e)}Array.prototype.push.apply(a.meta.advertiserDomains,u.adomain)}else if(o===t.ad_type){var h=t.native.template_and_ads.ads;if(0===h.length)return[];var y=h[0],g=y.assets;s(a,{mediaType:d.c}),a.native={title:g.title,body:g.description,cta:g.cta_text,sponsoredBy:g.sponsor,clickUrl:g.lp_link,impressionTrackers:y.imps,privacyLink:g.adchoice_url},void 0!==g.img_main&&(a.native.image={url:g.img_main,width:parseInt(g.img_main_width,10),height:parseInt(g.img_main_height,10)}),void 0!==g.img_icon&&(a.native.icon={url:g.img_icon,width:parseInt(g.img_icon_width,10),height:parseInt(g.img_icon_height,10)}),Array.prototype.push.apply(a.meta.advertiserDomains,y.adomain)}return[a]},getUserSyncs:function(e,r){var t=[];if(!r.length)return t;var i=r[0].body;return e.pixelEnabled&&i.syncs&&i.syncs.forEach((function(e){t.push({type:"image",url:e})})),e.iframeEnabled&&i.sync_htmls&&i.sync_htmls.forEach((function(e){t.push({type:"iframe",url:e})})),t}};function l(e){var r=a.a.install({id:e.ad.prebid_id,url:e.ad.video.purl,loaded:!1});try{r.setRender(h)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on newRenderer",e)}return r}function h(e){e.renderer.push((function(){window.aja_vast_player.init({vast_tag:e.adResponse.ad.video.vtag,ad_unit_code:e.adUnitCode,width:e.width,height:e.height,progress:e.adResponse.ad.video.progress,loop:e.adResponse.ad.video.loop,inread:e.adResponse.ad.video.inread})}))}Object(n.registerBidder)(u),window.pbjs.installedModules.push("ajaBidAdapter")}},[147]);