pbjsChunk([101],{809:function(e,t,r){e.exports=r(810)},810:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return p}));var n=r(0),i=r(1),a=r(2);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=["mimes","minduration","maxduration","placement","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"],p={code:"videobyte",supportedMediaTypes:[a.d],VERSION:"1.0.0",ENDPOINT:"https://x.videobyte.com/ortbhb",isBidRequestValid:function(e){return function(e){if(!e.params)return!1;if(!e.params.pubId)return Object(n.logError)("failed validation: pubId not declared"),!1;var t=Object(n.deepAccess)(e,"mediaTypes.video",{}),r=Object(n.deepAccess)(e,"params.video",{});if(r&&r.e2etest)return!0;var i=c(c({},t),r);if(!i.context)return Object(n.logError)("failed validation: context id not declared"),!1;if("instream"!==i.context)return Object(n.logError)("failed validation: only context instream is supported "),!1;if(void 0===i.playerSize||!Array.isArray(i.playerSize)||!Array.isArray(i.playerSize[0]))return Object(n.logError)("failed validation: player size not declared or is not in format [[w,h]]"),!1;return!0}(e)},buildRequests:function(e,t){if(e)return e.map((function(e){var r=e.params,i=r.pubId,a=r.placementId,o=r.nid;e.params.video&&e.params.video.e2etest&&(Object(n.logMessage)("E2E test mode enabled"),i="e2etest");var c=p.ENDPOINT+"?pid="+i;return a&&(c+="&placementId="+a),o&&(c+="&nid="+o),{method:"POST",url:c,data:JSON.stringify(l(e,t))}}))},interpretResponse:function(e){var t=[],r=(e||{}).body;if(r&&r.seatbid&&1===r.seatbid.length&&r.seatbid[0].bid&&1===r.seatbid[0].bid.length){var n=r.seatbid[0].bid[0];if(n.adm&&n.price){var i={requestId:r.id,bidderCode:p.code,cpm:n.price,width:n.w,height:n.h,ttl:300,creativeId:n.crid,netRevenue:true,currency:"USD",mediaType:"video",vastXml:n.adm,meta:{advertiserDomains:n.adomain}};t.push(i)}}return t},getUserSyncs:function(e,t){var r=[];return e.iframeEnabled||e.pixelEnabled?(t.forEach((function(t){var i=Object(n.deepAccess)(t,"body.ext.usersync");if(i){var a=[];Object.keys(i).forEach((function(e){var t=i[e];t.syncs&&t.syncs.length&&(a=a.concat(t.syncs))})),a.forEach((function(e){r.push({type:"iframe"===e.type?"iframe":"image",url:e.url})})),e.iframeEnabled?r=r.filter((function(e){return"iframe"===e.type})):e.pixelEnabled&&(r=r.filter((function(e){return"image"===e.type})))}})),r):r}};function l(e,t){var r=e.params,i=Object(n.deepAccess)(e,"mediaTypes.video",{}),a=Object(n.deepAccess)(e,"params.video",{}),o=c(c({},i),a);e.params.video&&e.params.video.e2etest&&(o.playerSize=[[640,480]],o.conext="instream");var s={w:parseInt(o.playerSize[0][0],10),h:parseInt(o.playerSize[0][1],10)};d.forEach((function(e){o.hasOwnProperty(e)&&(s[e]=o[e])})),s.placement=s.placement||2,"instream"===r.context&&(s.startdelay=s.startdelay||0,s.placement=1);var l={currency:e.params.cur||"USD",mediaType:"video",size:"*"},u=e.params;Object(n.isFn)(e.getFloor)?u=e.getFloor(l):r.bidfloor&&(u={floor:r.bidfloor,currency:r.currency||"USD"});var b={id:e.bidId,imp:[{id:"1",video:s,secure:"https:"===document.location.protocol?1:0,bidfloor:u.floor,bidfloorcur:u.currency}],site:{domain:window.location.hostname,page:window.location.href,ref:e.refererInfo&&e.refererInfo.referer||null},ext:{hb:1,prebidver:"6.10.0-pre",adapterver:p.VERSION}};if(o.content&&Object(n.isPlainObject)(o.content)){b.site.content={};var f=["id","title","series","season","genre","contentrating","language","url"],m=["episode","prodq","context","livestream","len"],y=["cat"],v=["ext"];for(var O in a.content)f.indexOf(O)>-1&&Object(n.isStr)(o.content[O])||m.indexOf(O)>-1&&Object(n.isNumber)(o.content[O])||v.indexOf(O)>-1&&Object(n.isPlainObject)(o.content[O])||y.indexOf(O)>-1&&Object(n.isArray)(o.content[O])&&o.content[O].every((function(e){return Object(n.isStr)(e)}))?b.site.content[O]=o.content[O]:Object(n.logMessage)("videobyte bid adapter validation error: ",O," is either not supported is OpenRTB V2.5 or value is undefined")}return e.schain&&(Object(n.deepSetValue)(b,"source.ext.schain",e.schain),b.source.ext.schain.nodes[0].rid=b.id),t.gdprConsent&&(Object(n.deepSetValue)(b,"user.ext.consent",t.gdprConsent.consentString),Object(n.deepSetValue)(b,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t.uspConsent&&Object(n.deepSetValue)(b,"regs.ext.us_privacy",t.uspConsent),b}Object(i.registerBidder)(p),window.pbjs.installedModules.push("videobyteBidAdapter")}},[809]);