pbjsChunk([361],{155:function(e,r,t){e.exports=t(156)},156:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"amxIdSubmodule",(function(){return i}));var n=t(9),o=t(4),c=t(8),l=t(18),a=t(0);var u="amxId";var i={name:u,version:"1.0",gvlid:737,decode:function(e){return null!=e&&e.length>0?function(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}({},"amxId",e):void 0},getId:function(e,r,t){if(function(e){return null==e||null==e.storage?(Object(a.logError)("".concat(u,": config.storage is required.")),!1):"html5"!==e.storage.type?(Object(a.logError)("".concat(u,' only supports storage.type "html5". ').concat(e.storage.type," was provided")),!1):!("number"==typeof e.storage.expires&&e.storage.expires>30&&(Object(a.logError)("".concat(u,": storage.expires must be <= 30. ").concat(e.storage.expires," was provided")),1))}(e)){var c=r||{gdprApplies:!1,consentString:""},i=Object(o.b)(300),s=n.uspDataHandler.getConsentData(),d=Object(l.a)(),p={tagId:Object(a.deepAccess)(e,"params.tagId",""),ref:d.referer,u:d.stack[0]||Object(a.getWindowTop)().location.href,v:"6.10.0-pre",vg:"pbjs",us_privacy:s,gdpr:c.gdprApplies?1:0,gdpr_consent:c.consentString};return{callback:function(e){return i("https://id.a-mx.com/sync/",{error:function(r){Object(a.logError)("".concat(u," failed to load"),r),e(null)},success:function(r){if(null!=r&&r.length>0)try{var t=JSON.parse(r);return void function(e,r,t){null!=r.id&&r.id.length>0?t(r.id):null!=r.u&&0!==r.u.length?e(r.u,{error:function(e){Object(a.logError)("".concat(u," failed on ").concat(r.u),e),t(null)},success:function(e){if(null!=e&&e.length>0){var r=JSON.parse(e);if(null!=r.id)return void t(r.id)}Object(a.logError)("".concat(u," invalid value"),e),t(null)}}):t(null)}(i,t,e)}catch(e){Object(a.logError)("".concat(u," invalid response"),r)}e(null)}},p,{method:"GET"})}}}}};Object(c.e)("userId",i),window.pbjs.installedModules.push("amxIdSystem")}},[155]);