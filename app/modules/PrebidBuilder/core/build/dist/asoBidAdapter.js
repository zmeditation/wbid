pbjsChunk([353],{175:function(e,r,t){e.exports=t(176)},176:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return c}));var n=t(0),i=t(1),a=t(3),o=t(2),s=t(13);function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,i,a=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var c={code:"aso",supportedMediaTypes:[o.b,o.d],isBidRequestValid:function(e){return!!e.params&&!!e.params.zone},buildRequests:function(e,r){var t=[];return Object(n._each)(e,(function(e){var i,s=function(e,r){var t=function(e){var r="",t="",i=e.refererInfo;if(Object(n.inIframe)())r=i.referer;else{var o=Object(n.getWindowTop)();r=o.location.href,t=o.document.referrer||""}return r=a.b.getConfig("pageUrl")||r,{domain:Object(n.parseUrl)(r).hostname,page:r,referrer:t}}(r),i={id:e.auctionId+"_"+e.bidId,at:1,tmax:r.timeout,site:{id:t.domain,domain:t.domain,page:t.page,ref:t.referrer},device:{dnt:Object(n.getDNT)()?1:0,h:window.innerHeight,w:window.innerWidth},imp:[],ext:{},user:{}};e.params.attr&&Object(n.deepSetValue)(i,"site.ext.attr",e.params.attr);if(r.gdprConsent){Object(n.deepSetValue)(i,"user.ext.consent",r.gdprConsent.consentString);var o=b(r.gdprConsent);o&&Object(n.deepSetValue)(i,"user.ext.consents",o),Object(n.deepSetValue)(i,"regs.ext.gdpr",1&r.gdprConsent.gdprApplies)}r.uspConsent&&Object(n.deepSetValue)(i,"regs.ext.us_privacy",r.uspConsent);a.b.getConfig("coppa")&&Object(n.deepSetValue)(i,"regs.coppa",1);var s=Object(n.deepAccess)(e,"userIdAsEids");s&&s.length&&Object(n.deepSetValue)(i,"user.ext.eids",s);return i}(e,r),d=Object(n.deepAccess)(e,"mediaTypes.banner"),u=Object(n.deepAccess)(e,"mediaTypes.video");d&&u&&Object(n.logWarn)("Please note, multiple mediaTypes are not supported. The only banner will be used."),d?i=function(e,r){e.mediaType=o.b;var t=l(r.sizes),i=f(e,t);return i.banner={w:t.w,h:t.h,topframe:Object(n.inIframe)()?0:1},i}(e,d):u&&(i=function(e,r){e.mediaType=o.d;var t=l(r.playerSize),n=f(e,t);n.video={mimes:r.mimes,minduration:r.minduration,startdelay:r.startdelay,linearity:r.linearity,maxduration:r.maxduration,skip:r.skip,protocols:r.protocols,skipmin:r.skipmin,api:r.api},t&&(n.video.w=t.w,n.video.h=t.h);return n}(e,u)),i&&(s.imp.push(i),t.push({method:"POST",url:m(e),data:s,options:{withCredentials:!0,crossOrigin:!0},bidRequest:e}))})),t},interpretResponse:function(e,r){var t=r.bidRequest,i=e&&e.body;if(!i)return[];var a=i.seatbid.reduce((function(e,r){return e.concat(r.bid)}),[])[0],d=[],u={requestId:a.impid,cpm:a.price,width:a.w,height:a.h,ttl:300,creativeId:a.crid,netRevenue:!0,currency:i.cur,mediaType:t.mediaType,meta:{mediaType:t.mediaType,advertiserDomains:a.adomain?a.adomain:[]}};return u.mediaType===o.b?u.ad=a.adm:u.mediaType===o.d&&(u.vastXml=a.adm,"outstream"===Object(n.deepAccess)(t,"mediaTypes.video.context")&&(u.adResponse={content:u.vastXml},u.renderer=function(e,r){var t=s.a.install({id:e.bidId,url:r,loaded:!1,config:Object(n.deepAccess)(e,"renderer.options"),adUnitCode:e.adUnitCode});return t.setRender(p),t}(t,"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"))),d.push(u),d},getUserSyncs:function(e,r,t,i){var a=[];if(r&&0!==r.length){var o="";if(t){o=Object(n.tryAppendQueryString)(o,"gdpr",t.gdprApplies?1:0),o=Object(n.tryAppendQueryString)(o,"consents_str",t.consentString);var s=b(t);s&&(o=Object(n.tryAppendQueryString)(o,"consents",s))}i&&(o=Object(n.tryAppendQueryString)(o,"us_privacy",i)),Object(n._each)(r,(function(e){var r=Object(n.deepAccess)(e,"body.ext.user_syncs");r&&Object(n._each)(r,(function(e){a.push({type:e.type,url:e.url+(o?"?"+o:"")})}))}))}return a}};function p(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()})}))}function l(e){return Object(n.parseSizesInput)(e).map((function(e){var r=d(e.split("x"),2),t=r[0],n=r[1];return{w:parseInt(t,10),h:parseInt(n,10)}}))[0]||null}function f(e,r){var t={id:e.bidId,tagid:e.adUnitCode,secure:1},i=function(e,r){if(!Object(n.isFn)(e.getFloor))return null;var t=e.getFloor({mediaType:e.mediaType,size:r?[r.w,r.h]:"*"});return isNaN(t.floor)?null:t}(e,r);return null!==i&&(t.bidfloor=i.floor,t.bidfloorcur=i.currency),t}function m(e){return(e.params.serverUrl||"https://srv.aso1.net")+(e.params.serverPath||"/prebid/bidder")+"?zid="+e.params.zone+"&pbjs=6.10.0-pre"}function b(e){var r=Object(n.deepAccess)(e,"vendorData.purpose.consents",[]),t=[];return Object.keys(r).forEach((function(e){!0===r[e]&&t.push(e)})),t.join(",")}Object(i.registerBidder)(c),window.pbjs.installedModules.push("asoBidAdapter")}},[175]);