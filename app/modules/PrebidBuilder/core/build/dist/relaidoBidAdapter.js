pbjsChunk([158],{652:function(e,t,r){e.exports=r(653)},653:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=j,r.d(t,"spec",(function(){return _}));var n=r(0),i=r(1),d=r(2),a=r(13),c=r(7);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,d=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw d}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u="api.relaido.jp",p="1.0.7",l="relaido_uuid",b=Object(c.b)();function f(e){return'<script src="'.concat(e,'"><\/script>')}function m(e,t){var r=a.a.install({id:e,url:t,loaded:!1});try{r.setRender(v)}catch(e){Object(n.logWarn)("renderer.setRender Error",e)}return r}function v(e){e.renderer.push((function(){window.RelaidoPlayer.renderAd({adUnitCode:e.adUnitCode,width:e.width,height:e.height,vastXml:e.vastXml,mediaType:e.mediaType})}))}function y(e){return!!j()&&I(Object(n.deepAccess)(e,"mediaTypes.banner.sizes")).length>0}function h(e){if(I(Object(n.deepAccess)(e,"mediaTypes.video.playerSize")).length>0){var t=Object(n.deepAccess)(e,"mediaTypes.video.context");if(t&&"outstream"===t)return!0}return!1}function O(){var e=b.getCookie(l);if(e)return e;var t=Object(n.generateUUID)();return b.setCookie(l,t),t}function j(){var e=navigator.userAgent;return e.indexOf("iPhone")>-1||e.indexOf("iPod")>-1||e.indexOf("Android")>-1&&-1==e.indexOf("Tablet")}function g(e){return!!Object(n.deepAccess)(e,"mediaTypes.banner")}function A(e){return!!Object(n.deepAccess)(e,"mediaTypes.video")}function I(e){var t=[];if(e&&Object(n.isArray)(e)&&e.length>0)for(var r=0;r<e.length;r++)if(Object(n.isArray)(e[r])&&2==e[r].length){var i=e[r][0],d=e[r][1];if(1==i&&1==d)return[[1,1]];i>=300&&d>=250&&t.push([i,d])}return t}var _={code:"relaido",supportedMediaTypes:[d.b,d.d],isBidRequestValid:function(e){return Object(n.deepAccess)(e,"params.placementId")?!(!A(e)||!h(e))||(Object(n.logWarn)("Invalid mediaType video."),!(!g(e)||!y(e))||(Object(n.logWarn)("Invalid mediaType banner."),!1)):(Object(n.logWarn)("placementId param is reqeuired."),!1)},buildRequests:function(e,t){for(var r=[],i=null,a=null,c=null,o=null,s=0;s<e.length;s++){var l=e[s],b="",f=0,m=0;if(A(l)&&h(l)){var v=I(Object(n.deepAccess)(l,"mediaTypes.video.playerSize"));f=v[0][0],m=v[0][1],b=d.d}else if(g(l)&&y(l)){var j=I(Object(n.deepAccess)(l,"mediaTypes.banner.sizes"));f=j[0][0],m=j[0][1],b=d.b}if(!i){var _=Object(n.deepAccess)(l,"userId.imuid");_&&(i=_)}a||(a=l.params.domain),c||(c=l.bidder),c||(c=l.bidder),o||(o=l.bidRequestsCount),r.push({bid_id:l.bidId,placement_id:Object(n.getBidIdParameter)("placementId",l.params),transaction_id:l.transactionId,bidder_request_id:l.bidderRequestId,ad_unit_code:l.adUnitCode,auction_id:l.auctionId,player:l.params.player,width:f,height:m,media_type:b})}var w=JSON.stringify({version:p,bids:r,timeout_ms:t.timeout,bidder:c,bid_requests_count:o,uuid:O(),pv:"6.10.0-pre",imuid:i,ref:t.refererInfo.referer});return{method:"POST",url:"https://".concat(a||u,"/bid/v1/sprebid"),options:{withCredentials:!0},data:w}},interpretResponse:function(e,t){var r=[],n=e.body;if(!n||"ok"!=n.status)return[];var i,a,c,s,u=t.player||n.playerUrl,p=o(n.ads);try{for(p.s();!(i=p.n()).done;){var l=i.value,b={requestId:l.bidId,width:l.width,height:l.height,cpm:l.price,currency:l.currency,creativeId:l.creativeId,dealId:n.dealId||"",ttl:n.ttl||300,netRevenue:!0,mediaType:l.mediaType||d.d,meta:{advertiserDomains:l.adomain||[],mediaType:d.d}};if(b.mediaType===d.d)b.vastXml=l.vast,b.renderer=m(l.bidId,u);else{var v=f(u),y=(a=l.width,c=l.height,s=l.vast,"<script>(function(){window.RelaidoPlayer.renderAd({"+"width: ".concat(a,",")+"height: ".concat(c,",")+"vastXml: '".concat(s.replace(/\r?\n/g,""),"',")+"mediaType: 'banner'});})();<\/script>");b.ad='<div id="rop-prebid">'.concat(v).concat(y,"</div>")}r.push(b)}}catch(e){p.e(e)}finally{p.f()}return console.log(JSON.stringify(r)),r},getUserSyncs:function(e,t){if(!e.iframeEnabled)return[];var r="https://".concat(u,"/tr/v1/prebid/sync.html");return t.length>0&&(r=Object(n.deepAccess)(t,"0.body.syncUrl")||r),[{type:"iframe",url:"".concat(r,"?uu=").concat(O())}]},onBidWon:function(e){var t=Object(n.parseQueryStringParameters)({placement_id:Object(n.deepAccess)(e,"params.0.placementId"),creative_id:Object(n.deepAccess)(e,"creativeId"),price:Object(n.deepAccess)(e,"cpm"),auction_id:Object(n.deepAccess)(e,"auctionId"),bid_id:Object(n.deepAccess)(e,"requestId"),ad_id:Object(n.deepAccess)(e,"adId"),ad_unit_code:Object(n.deepAccess)(e,"adUnitCode"),ref:window.location.href}).replace(/\&$/,""),r=Object(n.deepAccess)(e,"params.0.domain")||u,i="https://".concat(r,"/tr/v1/prebid/win.gif?").concat(t);Object(n.triggerPixel)(i)},onTimeout:function(e){var t=Object(n.parseQueryStringParameters)({placement_id:Object(n.deepAccess)(e,"0.params.0.placementId"),timeout:Object(n.deepAccess)(e,"0.timeout"),auction_id:Object(n.deepAccess)(e,"0.auctionId"),bid_id:Object(n.deepAccess)(e,"0.bidId"),ad_unit_code:Object(n.deepAccess)(e,"0.adUnitCode"),version:p,ref:window.location.href}).replace(/\&$/,""),r=Object(n.deepAccess)(e,"0.params.0.domain")||u,i="https://".concat(r,"/tr/v1/prebid/timeout.gif?").concat(t);Object(n.triggerPixel)(i)}};Object(i.registerBidder)(_),window.pbjs.installedModules.push("relaidoBidAdapter")}},[652]);