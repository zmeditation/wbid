pbjsChunk([355],{171:function(e,t,n){e.exports=n(172)},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return g}));var r=n(0),i=n(1),a=n(3),o=n(7);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={DSU_KEY:"apr_dsu",BIDDER_CODE:"apstream",GVLID:394},l=Object(o.b)(d.GVLID,d.BIDDER_CODE),p=function(){var e="apr_dsu",t="1",n={USERREPORT:"1"};function i(e,t){var n=e.l+t.l,r={h:e.h+t.h+(n/2>>>31)>>>0,l:n>>>0};e.h=r.h,e.l=r.l}function a(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function o(e,t){var n={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=n.h,e.l=n.l}function c(e){var t=e.l;e.l=e.h,e.h=t}function s(e,t,n,r){i(e,t),i(n,r),o(t,13),o(r,16),a(t,e),a(r,n),c(e),i(n,t),i(e,r),o(t,17),o(r,21),a(t,n),a(r,e),c(n)}function u(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function d(e,t){"string"==typeof t&&(t=function(e){if("function"==typeof TextEncoder)return(new TextEncoder).encode(e);e=unescape(encodeURIComponent(e));for(var t=new Uint8Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t}(t));var n={h:e[1]>>>0,l:e[0]>>>0},r={h:e[3]>>>0,l:e[2]>>>0},i={h:n.h,l:n.l},o=n,c={h:r.h,l:r.l},d=r,l=t.length,p=l-7,f=new Uint8Array(new ArrayBuffer(8));a(i,{h:1936682341,l:1886610805}),a(c,{h:1685025377,l:1852075885}),a(o,{h:1819895653,l:1852142177}),a(d,{h:1952801890,l:2037671283});for(var h=0;h<p;){var b={h:u(t,h+4),l:u(t,h)};a(d,b),s(i,c,o,d),s(i,c,o,d),a(i,b),h+=8}f[7]=l;for(var v=0;h<l;)f[v++]=t[h++];for(;v<7;)f[v++]=0;var m={h:f[7]<<24|f[6]<<16|f[5]<<8|f[4],l:f[3]<<24|f[2]<<16|f[1]<<8|f[0]};a(d,m),s(i,c,o,d),s(i,c,o,d),a(i,m),a(o,{h:0,l:255}),s(i,c,o,d),s(i,c,o,d),s(i,c,o,d),s(i,c,o,d);var g=i;return a(g,c),a(g,o),a(g,d),g}var p=function(e,t){var n=d(e,t);return("0000000"+n.h.toString(16)).substr(-8)+("0000000"+n.l.toString(16)).substr(-8)}.bind(null,[2251905623,1801168887,1769155591,711914637]),f=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),h={};function b(){var e=window.location.toString();if(e=e.replace(/\.demo\.audienceproject\.com\//,"/"),h.url===e)return h.parsed;var t=function(e){var t=0!==e.indexOf("/")&&-1!==e.indexOf("/")&&(-1===e.indexOf(":")||e.indexOf(":")>e.indexOf("/")),n=f.exec(t?"noscheme://"+e:e),r={scheme:t?"":n[2]||"",host:n[4]||"",hostname:n[4]?n[4].split(":")[0]:"",pathname:n[5]||"",search:n[7]||"",hash:n[9]||"",toString:function(){return e}};return r.origin=r.scheme+"://"+r.host,r}(e);return h.url=e,h.parsed=t,t}function v(){var e=Object(r.generateUUID)(),i=b(),a=p(e+i.toString()),o=a.substr(0,4),c=a.substr(4);e=e.substr(0,19)+o+"-"+c;var s,u=(s=(new Date).getTime()-new Date(2019,0,1).getTime(),Math.floor(s/864e5)),d=p(i.origin),l=[n.USERREPORT,u,d].join("."),f=p(e+l+"YicAu6ZpNG");return[t,f,e,l].join(".")}return{readOrCreateDsu:function(){var t;try{t=l.getDataFromLocalStorage(e)}catch(e){return null}t||(t=v());try{l.setDataInLocalStorage(e,t)}catch(e){return null}return t}}}();function f(e){return e&&!1!==e.gdprApplies?e.consentString:null}function h(e){return Object(r.deepAccess)(e,"gdprConsent")?function(e){var t=f(e);if(!t)return null;var n="static"!=a.b.getConfig("consentManagement.cmpApi"),r=!!(e.vendorData.vendorConsents||(e.vendorData.vendor||{}).consents||{})[d.GVLID.toString(10)];return n&&r?t:null}(e.gdprConsent):"disabled"}function b(e,t,n){if(!t&&!n)return e;var i=e;return t&&t.forEach((function(e){var t=Object(r.createTrackPixelHtml)(e);i+=t})),n&&n.forEach((function(e){var t='<script src="'.concat(e,'"><\/script>');i+=t})),i}function v(e){return e.map((function(e){var t=e.bidId,n="";switch(Object.keys(e.mediaTypes)[0]){case"video":n="v";break;case"native":n="n";break;case"audio":n="a";break;default:n="b"}var r,i=",c=".concat(e.adUnitCode);return e.params.code&&(i=",c=".concat(encodeURIComponent(e.params.code))),e.params.adunitId&&(i=",u=".concat(encodeURIComponent(e.params.adunitId))),"".concat(t,":t=").concat(n,",s=").concat((r=e.sizes,!1===Array.isArray(r[0])&&(r=[r]),r.map((function(e){return e[0]+"x"+e[1]})).join("_"))).concat(i)})).join(";")}function m(e){var t=[];return e.forEach((function(e){var n=function(e){var t=e.params.publisherId||a.b.getConfig("apstream.publisherId");return e.params.test||a.b.getConfig("apstream.test")?"https://mock-bapi.userreport.com/v2/".concat(t,"/bid"):e.params.endpoint?"".concat(e.params.endpoint).concat(t,"/bid"):"https://bapi.userreport.com/v2/".concat(t,"/bid")}(e),r=t.filter((function(e){return e.endpoint.indexOf(n)>-1}))[0];r?r.bids.push(e):t.push({endpoint:n,bids:[e]})})),t}var g={code:d.BIDDER_CODE,gvlid:d.GVLID,isBidRequestValid:function(e){var t=!(!a.b.getConfig("apstream.publisherId")&&!e.params.publisherId),n=1===Object.keys(e.mediaTypes).length;return t&&n},buildRequests:function(e,t){var n={med:encodeURIComponent(window.location.href),auid:t.auctionId,ref:document.referrer,dnt:Object(r.getDNT)()?1:0,sr:"".concat(window.screen.width,"x").concat(window.screen.height,"@").concat(window.devicePixelRatio)},i=f(t.gdprConsent);n.iab_consent=i;var o={withCredentials:!0},c=h(t),u=a.b.getConfig("apstream.noDsu");return n.dsu=!c||u?"":p.readOrCreateDsu(),c&&"disabled"!==c||(o.withCredentials=!1),m(e).map((function(e){return{method:"GET",url:e.endpoint,data:s(s({},n),{},{bids:v(e.bids),rnd:Math.random()}),options:o}}))},interpretResponse:function(e){var t=e&&e.body;return t&&t.length?t.map((function(e){return{requestId:e.bidId,cpm:e.bidDetails.cpm,width:e.bidDetails.width,height:e.bidDetails.height,creativeId:e.bidDetails.creativeId,currency:e.bidDetails.currency||"USD",netRevenue:e.bidDetails.netRevenue,dealId:e.bidDetails.dealId,ad:b(e.bidDetails.ad,e.bidDetails.noticeUrls,e.bidDetails.impressionScripts),ttl:e.bidDetails.ttl}})):[]}};Object(i.registerBidder)(g),window.pbjs.installedModules.push("apstreamBidAdapter")}},[171]);