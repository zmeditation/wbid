pbjsChunk([23],{6:function(e,t,n){"use strict";t.a=function(e){var t,n=e.url,i=e.analyticsType,o=e.global,d=e.handler,q=[],w=0,S=!0;(function(){if(S){for(var e=0;e<q.length;e++)q[e]();q.push=function(e){e()},S=!1}Object(a.logMessage)("event count sent to ".concat(o,": ").concat(w))})();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===_&&window[o](d,t,n);this.getAdapterType()===j&&U.apply(void 0,arguments)},enqueue:N,enableAnalytics:C,disableAnalytics:function(){Object(a._each)(t,(function(e,t){s.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:C},getAdapterType:function(){return i},getGlobal:function(){return o},getHandler:function(){return d},getUrl:function(){return n}};function U(e){var t=e.eventType,i=e.args,o=e.callback;Object(r.a)(n,o,JSON.stringify({eventType:t,args:i}))}function N(e){var t=e.eventType,n=e.args,i=this;o&&window[o]&&t&&n?this.track({eventType:t,args:n}):q.push((function(){w++,i.track({eventType:t,args:n})}))}function C(e){var n,i=this,r=this;"object"!==c(e)||"object"!==c(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(s.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==y&&N.call(r,{eventType:t,args:n})}})),u(n={},l,(function(e){return i.enqueue({eventType:l,args:e})})),u(n,b,(function(e){return i.enqueue({eventType:b,args:e})})),u(n,v,(function(e){return i.enqueue({eventType:v,args:e})})),u(n,g,(function(e){return i.enqueue({eventType:g,args:e})})),u(n,y,(function(e){return i.enqueue({eventType:y,args:e})})),u(n,T,(function(e){return i.enqueue({eventType:T,args:e})})),u(n,I,(function(e){return i.enqueue({eventType:I,args:e})})),u(n,h,(function(e){return i.enqueue({eventType:h,args:e})})),u(n,O,(function(e){return i.enqueue({eventType:O,args:e})})),u(n,f,(function(e){return i.enqueue({eventType:f,args:e})})),u(n,m,(function(e){return i.enqueue({eventType:m,args:e})})),u(n,E,(function(e){return i.enqueue({eventType:E,args:e})})),u(n,D,(function(e){return i.enqueue({eventType:D,args:e})})),u(n,A,(function(e){return i.enqueue({eventType:A,args:e})})),u(n,p,(function(t){t.config="object"===c(e)&&e.options||{},i.enqueue({eventType:p,args:t})})),t=n,Object(a._each)(t,(function(e,t){s.on(t,e)}))):Object(a.logMessage)('Analytics adapter for "'.concat(o,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Object(a.logMessage)('Analytics adapter for "'.concat(o,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var i=n(5),o=n.n(i),r=n(4),a=n(0);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(10),d=o.a.EVENTS,p=d.AUCTION_INIT,f=d.AUCTION_END,l=d.REQUEST_BIDS,b=d.BID_REQUESTED,y=d.BID_TIMEOUT,v=d.BID_RESPONSE,g=d.NO_BID,T=d.BID_WON,I=d.BID_ADJUSTMENT,h=d.BIDDER_DONE,O=d.SET_TARGETING,m=d.AD_RENDER_FAILED,E=d.AD_RENDER_SUCCEEDED,D=d.AUCTION_DEBUG,A=d.ADD_AD_UNITS,j="endpoint",_="bundle"},720:function(e,t,n){e.exports=n(721)},721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(6),r=n(5),a=n.n(r),u=n(9),c=n(4);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=Object(c.b)(0),b="apex.go.sonobi.com/keymaker",y=a.a.EVENTS,v=y.AUCTION_INIT,g=y.AUCTION_END,T=y.BID_REQUESTED,I=y.BID_ADJUSTMENT,h=y.BIDDER_DONE,O=y.BID_WON,m=y.BID_RESPONSE,E=y.BID_TIMEOUT,D={},A={};function j(e){return"/".concat(D.pubId,"/").concat(D.siteId,"/").concat(e.adUnitCode.toLowerCase())}function _(e){return e.responseTimestamp?e.responseTimestamp-e.requestTimestamp:-1}function q(e){return e.cpm?Math.round(100*e.cpm):0}function w(e,t){var n=A[e];n.queue=n.queue.filter((function(e){return e.bidid!==t||n.stats[t].data.p!==e.p})),n.queue.push(Object(i.deepClone)(n.stats[t].data)),n.qTimeout||(n.qTimeout=setTimeout((function(){!function(e){var t=A[e],n=t.queue;t.queue=[],t.qTimeout=!1,C.sendData(t,n)}(e)}),D.delay))}function S(e,t,n){var i=A[e];return i.stats[t].data=p(p({},i.stats[t].data),n),w(e,t),B("Updated Bid Stats: ",i.stats[t]),i.stats[t]}function U(e){A[e.auctionId]=function(e){return{id:e.auctionId,start:e.timestamp,timeout:e.timeout,adUnits:{},stats:{},queue:[],qTimeout:!1}}(e),function(){for(var e in A){var t=A[e];Date.now()-t.start>36e5&&delete A[e]}}(),B("Auction Init",e)}function N(e){var t=A[e.auctionId];e.bids.forEach((function(n){t=A[n.auctionId];var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.width?{width:e.width,height:e.height}:{width:e.sizes[0][0],height:e.sizes[0][1]};return{bidid:e.bidId||e.requestId,p:n,buyerid:e.bidder.toLowerCase(),bid:q(e),adunit_code:j(e),s:"".concat(i.width,"x").concat(i.height),latency:_(e),response:t,jsLatency:_(e),buyername:e.bidder.toLowerCase()}}(n,1,1);t.stats[i.bidid]={id:i.bidid,adUnitCode:n.adUnitCode,data:i},w(e.auctionId,i.bidid)})),B("Bids Requested ",[])}var C=s(Object(o.a)({url:b,analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;switch(t){case v:U(n);break;case T:N(n);break;case I:!function(e){B("Bid Adjustment",e)}(n);break;case h:!function(e){B("Bidder Done",e)}(n);break;case g:!function(e){var t={};e.bidsReceived.forEach((function(e){t[e.adUnitCode]?t[e.adUnitCode].cpm<e.cpm&&(t[e.adUnitCode]={bidId:e.requestId,cpm:e.cpm}):t[e.adUnitCode]={bidId:e.requestId,cpm:e.cpm}})),e.adUnitCodes.forEach((function(n){if(t[n]){var i=t[n].bidId;S(e.auctionId,i,{response:4})}})),B("Auction End",e),B("Auction Cache",A[e.auctionId].stats)}(n);break;case O:!function(e){var t=S(e.auctionId,e.requestId,{p:3,response:6});B("Bid Won ",e),B("Bid Update Result: ",t)}(n);break;case m:!function(e){var t=e.auctionId,n=e.requestId,i=e.cpm,o=e.size,r=e.timeToRespond;S(t,n,{bid:i,s:o,jsLatency:r,latency:r,p:2,response:9}),B("Bid Response ",e)}(n);break;case E:!function(e){var t=e.auctionId,n=e.bidId;B("Bid Timeout ",e),S(t,n,{p:2,response:0,latency:e.timeout,jsLatency:e.timeout})}(n);break;default:!function(e,t){B("Other Event: "+e,t)}(t,n)}}});function B(e,t){Object(i.logInfo)(R(e),t)}function k(e){Object(i.logError)(R(e))}function R(e){return"Sonobi Prebid Analytics: "+e}C.originEnableAnalytics=C.enableAnalytics,C.enableAnalytics=function(e){this.initConfig(e)&&(B("Analytics adapter enabled",D),C.originEnableAnalytics(e))},C.initConfig=function(e){var t=!0;return(D={}).options=Object(i.deepClone)(e.options),D.pubId=D.options.pubId||null,D.siteId=D.options.siteId||null,D.delay=D.options.delay||200,D.pubId||(k('"options.pubId" is empty'),t=!1),D.siteId||(k('"options.siteId" is empty'),t=!1),D.server=b,D.host=D.options.host||window.location.hostname,this.initOptions=D,t},C.getOptions=function(){return D},C.sendData=function(e,t){var n="https://"+D.server+"?pageviewid="+e.id+"&corscred=1&pubId="+D.pubId+"&siteId="+D.siteId;l(n,(function(){B("Auction ["+e.id+"] sent ",t)}),JSON.stringify(t),{method:"POST",contentType:"text/plain"})},u.default.registerAnalyticsAdapter({adapter:C,code:"sonobi"}),t.default=C,window.pbjs.installedModules.push("sonobiAnalyticsAdapter")}},[720]);