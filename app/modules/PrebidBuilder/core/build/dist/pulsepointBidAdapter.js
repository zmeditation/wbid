pbjsChunk([166],{632:function(e,r,t){e.exports=t(633)},633:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return f}));var n=t(0),i=t(1),a=t(13);function d(){return(d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var s=100,u=200,o=50,c=150,p=50,l="USD",m=["cp","ct","cf","video","battr","bcat","badv","bidfloor"],f={code:"pulsepoint",gvlid:81,aliases:["pulseLite","pulsepointLite"],supportedMediaTypes:["banner","native","video"],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.cp&&e.params.ct)},buildRequests:function(e,r){return{method:"POST",url:"https://bid.contextweb.com/header/ortb?src=prebid",data:{id:e[0].bidderRequestId,imp:e.map((function(e){return function(e){return{id:e.bidId,banner:b(e),native:h(e),tagid:e.params.ct.toString(),video:v(e),bidfloor:R(e),ext:g(e)}}(e)})),site:w(e,r),app:j(e),device:{ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},bcat:e[0].params.bcat,badv:e[0].params.badv,user:k(e[0],r),regs:x(r),source:P(e[0].schain)},bidderRequest:r}},interpretResponse:function(e,r){return function(e,r){var t={},i={},d={},s=r.body;e.data.imp.forEach((function(e){t[e.id]=e})),s&&s.seatbid.forEach((function(e){return e.bid.forEach((function(e){i[e.impid]=e}))}));e.bidderRequest&&e.bidderRequest.bids&&e.bidderRequest.bids.forEach((function(e){d[e.bidId]=e}));var u=[];return Object.keys(t).forEach((function(e){if(i[e]){var r={requestId:e,cpm:i[e].price,creative_id:i[e].crid,creativeId:i[e].crid,adId:e,ttl:i[e].exp||20,netRevenue:true,currency:s.cur||l,meta:{advertiserDomains:i[e].adomain||[]}};t[e].video?(d[e]&&"outstream"===Object(n.deepAccess)(d[e],"mediaTypes.video.context")&&(r.renderer=(o=Object(n.deepAccess)(d[e],"renderer.options"),c=Object(n.deepAccess)(i[e],"ext.outstream"),(p=a.a.install({url:c.rendererUrl,config:{defaultOptions:c.config,rendererOptions:o,type:c.type},loaded:!1})).setRender((function(e){e.renderer.push((function(){var r=e.renderer.getConfig();(new window.PulsePointOutstreamRenderer).render({adUnitCode:e.adUnitCode,vastXml:e.vastXml,type:r.type,defaultOptions:r.defaultOptions,rendererOptions:o})}))})),p)),r.vastXml=i[e].adm,r.mediaType="video",r.width=i[e].w,r.height=i[e].h):t[e].banner?(r.ad=i[e].adm,r.width=i[e].w||t[e].banner.w,r.height=i[e].h||t[e].banner.h):t[e].native&&(r.native=function(e,r){if(e.native){var t=function(e){try{if(e)return JSON.parse(e)}catch(e){Object(n.logError)("pulsepointLite.safeParse","ERROR",e)}return null}(r.adm),i={};if(t&&t.native&&t.native.assets)return t.native.assets.forEach((function(e){i.title=e.title?e.title.text:i.title,i.body=e.data&&2===e.data.type?e.data.value:i.body,i.sponsoredBy=e.data&&1===e.data.type?e.data.value:i.sponsoredBy,i.image=e.img&&3===e.img.type?e.img.url:i.image,i.icon=e.img&&1===e.img.type?e.img.url:i.icon})),t.native.link&&(i.clickUrl=encodeURIComponent(t.native.link.url)),i.impressionTrackers=t.native.imptrackers,i}return null}(t[e],i[e]),r.mediaType="native"),u.push(r)}var o,c,p})),u}(r,e)},getUserSyncs:function(e){return e.iframeEnabled?[{type:"iframe",url:"https://bh.contextweb.com/visitormatch"}]:e.pixelEnabled?[{type:"image",url:"https://bh.contextweb.com/visitormatch/prebid"}]:void 0},transformBidParams:function(e,r){return Object(n.convertTypes)({cf:"string",cp:"number",ct:"number"},e)}};function b(e){var r=function(e){var r=Object(n.deepAccess)(e,"mediaTypes.banner.sizes");if(r&&Object(n.isArray)(r))return r.filter((function(e){return Object(n.isArray)(e)&&2===e.length})).map((function(e){return{w:e[0],h:e[1]}}));return null}(e),t=function(e,r){if(e.params.cf){var t=e.params.cf.toUpperCase().split("X");return[parseInt(e.params.cw||t[0],10),parseInt(e.params.ch||t[1],10)]}if(r&&r.length>0)return[r[0].w,r[0].h];return[1,1]}(e,r);return e.mediaTypes&&e.mediaTypes.banner?{w:t[0],h:t[1],battr:e.params.battr,format:r}:null}function v(e){return e.params.video?d({},e.params.video,e.mediaTypes&&e.mediaTypes.video?e.mediaTypes.video:{},{battr:e.params.battr}):null}function g(e){var r={},t={};return m.forEach((function(e){return t[e]=1})),Object.keys(e.params).forEach((function(n){t[n]||(r[n]=e.params[n])})),Object.keys(r).length>0?{prebid:r}:null}function h(e){if(e.nativeParams){var r=[];return y(r,function(e,r,t){if(r)return{id:e,required:r.required?1:0,title:{len:r.len||t}};return null}(r.length+1,e.nativeParams.title,s)),y(r,O(r.length+1,e.nativeParams.body,2,u)),y(r,O(r.length+1,e.nativeParams.sponsoredBy,1,o)),y(r,I(r.length+1,e.nativeParams.icon,1,p,p)),y(r,I(r.length+1,e.nativeParams.image,3,c,c)),{request:JSON.stringify({assets:r}),ver:"1.1",battr:e.params.battr}}return null}function y(e,r){r&&e.push(r)}function I(e,r,t,n,i){return r?{id:e,required:r.required?1:0,img:{type:t,wmin:r.wmin||n,hmin:r.hmin||i}}:null}function O(e,r,t,n){return r?{id:e,required:r.required?1:0,data:{type:t,len:r.len||n}}:null}function w(e,r){var t=e&&e.length>0?e[0].params.cp:"0";return e[0].params.app?null:{publisher:{id:t.toString()},ref:T(),page:r&&r.refererInfo?r.refererInfo.referer:""}}function j(e){var r=e&&e.length>0?e[0].params.cp:"0",t=e[0].params.app;return t?{publisher:{id:r.toString()},bundle:t.bundle,storeurl:t.storeUrl,domain:t.domain}:null}function T(){try{return window.top.document.referrer}catch(e){return document.referrer}}function k(e,r){var t={};if(r&&r.gdprConsent&&(t.consent=r.gdprConsent.consentString),e&&e.userId){t.eids=[],q(t.eids,e.userId.pubcid,"pubcid.org"),q(t.eids,e.userId.britepoolid,"britepool.com"),q(t.eids,e.userId.criteoId,"criteo.com"),q(t.eids,e.userId.idl_env,"liveramp.com"),q(t.eids,Object(n.deepAccess)(e,"userId.id5id.uid"),"id5-sync.com",Object(n.deepAccess)(e,"userId.id5id.ext")),q(t.eids,Object(n.deepAccess)(e,"userId.parrableId.eid"),"parrable.com"),q(t.eids,e.userId.fabrickId,"neustar.biz"),q(t.eids,Object(n.deepAccess)(e,"userId.haloId.haloId"),"audigent.com"),q(t.eids,e.userId.merkleId,"merkleinc.com"),q(t.eids,e.userId.lotamePanoramaId,"crwdcntrl.net"),q(t.eids,e.userId.connectid,"verizonmedia.com"),q(t.eids,Object(n.deepAccess)(e,"userId.uid2.id"),"uidapi.com"),e.userId.lipb&&e.userId.lipb.lipbid&&q(t.eids,e.userId.lipb.lipbid,"liveintent.com"),q(t.eids,e.userId.tdid,"adserver.org",{rtiPartner:"TDID"});var i=e.userId.digitrustid;if(i&&i.data){var a={};i.data.id&&(a.id=i.data.id),i.data.keyv&&(a.keyv=i.data.keyv),t.digitrust=a}}return{ext:t}}function q(e,r,t,n){if(r){var i={id:r};n&&(i.ext=n),e.push({source:t,uids:[i]})}}function x(e){if(e.gdprConsent||e.uspConsent){var r={};return e.gdprConsent&&(r.gdpr=e.gdprConsent.gdprApplies?1:0),e.uspConsent&&(r.us_privacy=e.uspConsent),{ext:r}}return null}function P(e){return e?{ext:{schain:e}}:null}function R(e){var r=e.params.bidfloor;if(Object(n.isFn)(e.getFloor)){var t=e.getFloor({mediaType:e.mediaTypes.banner?"banner":e.mediaTypes.video?"video":"Native",size:"*",currency:l});t&&t.floor&&(r=t.floor)}return r}Object(i.registerBidder)(f),window.pbjs.installedModules.push("pulsepointBidAdapter")}},[632]);