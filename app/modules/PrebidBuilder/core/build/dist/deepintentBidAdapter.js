pbjsChunk([304],{292:function(e,r,t){e.exports=t(293)},293:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"ORTB_VIDEO_PARAMS",(function(){return c})),t.d(r,"spec",(function(){return p}));var n=t(0),a=t(1),i=t(2);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){u(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var d="1.0.0",c={mimes:function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e}))},minduration:function(e){return Object(n.isInteger)(e)},maxduration:function(e){return Object(n.isInteger)(e)},protocols:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=10}))},w:function(e){return Object(n.isInteger)(e)},h:function(e){return Object(n.isInteger)(e)},startdelay:function(e){return Object(n.isInteger)(e)},placement:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=5}))},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return Object(n.isInteger)(e)},skipafter:function(e){return Object(n.isInteger)(e)},sequence:function(e){return Object(n.isInteger)(e)},battr:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=17}))},maxextended:function(e){return Object(n.isInteger)(e)},minbitrate:function(e){return Object(n.isInteger)(e)},maxbitrate:function(e){return Object(n.isInteger)(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return-1!==[1,2,3].indexOf(e)},pos:function(e){return-1!==[0,1,2,3,4,5,6,7].indexOf(e)},api:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))}},p={code:"deepintent",supportedMediaTypes:[i.b,i.d],aliases:[],isBidRequestValid:function(e){var r=!1;return e&&e.params&&e.params.tagId&&("string"==typeof e.params.tagId||e.params.tagId instanceof String)&&(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(i.d)?e.mediaTypes[i.d].hasOwnProperty("context")&&(r=!0):r=!0),r},interpretResponse:function(e,r){var t=[];if(e&&e.body)try{var a=e.body.seatbid&&e.body.seatbid[0]?e.body.seatbid[0].bid:[];a&&a.forEach((function(e){var r,n={requestId:(r=e)&&r.impid?r.impid:void 0,cpm:r&&r.price?r.price:0,width:r&&r.w?r.w:0,height:r&&r.h?r.h:0,ad:r&&r.adm?r.adm:"",meta:{advertiserDomains:r&&r.adomain?r.adomain:[]},creativeId:r&&r.crid?r.crid:void 0,netRevenue:!1,currency:r&&r.cur?r.cur:"USD",ttl:300,dealId:r&&r.dealId?r.dealId:void 0},a=function(e){var r,t=new RegExp(/VAST\s+version/);e.adm&&e.adm.indexOf("deepintent_wrapper")>=0?r=i.b:t.test(e.adm)&&(r=i.d);return r}(e);a===i.b?n.mediaType=i.b:a===i.d&&(n.mediaType=i.d,n.vastXml=e.adm),t.push(n)}))}catch(e){Object(n.logError)(e)}return t},buildRequests:function(e,r){var t=e.map((function(e){return function(e){if(e&&e.params&&e.params.user)return{id:e.params.user.id&&"string"==typeof e.params.user.id?e.params.user.id:void 0,buyeruid:e.params.user.buyeruid&&"string"==typeof e.params.user.buyeruid?e.params.user.buyeruid:void 0,yob:e.params.user.yob&&"number"==typeof e.params.user.yob?e.params.user.yob:null,gender:e.params.user.gender&&"string"==typeof e.params.user.gender?e.params.user.gender:void 0,keywords:e.params.user.keywords&&"string"==typeof e.params.user.keywords?e.params.user.keywords:void 0,customdata:e.params.user.customdata&&"string"==typeof e.params.user.customdata?e.params.user.customdata:void 0}}(e)}));!function(e){for(var r in e)null!==e[r]&&void 0!==e[r]||delete e[r]}(t);var a={id:Object(n.generateUUID)(),at:1,imp:e.map((function(e){return function(e){var r={};r={id:e.bidId,tagid:e.params.tagId||"",secure:"https:"===window.location.protocol?1:0,displaymanager:"di_prebid",displaymanagerver:d,ext:f(e)},Object(n.deepAccess)(e,"mediaTypes.banner")&&(r.banner=function(e){if(Object(n.deepAccess)(e,"mediaTypes.banner")){if(!Object(n.deepAccess)(e,"mediaTypes.banner.sizes")||e.params.height||e.params.width)return{h:e.params.height,w:e.params.width,pos:e&&e.params&&e.params.pos?e.params.pos:0};var r=Object(n.deepAccess)(e,"mediaTypes.banner.sizes");if(Object(n.isArray)(r)&&r.length>0)return{h:r[0][1],w:r[0][0],pos:e&&e.params&&e.params.pos?e.params.pos:0}}}(e));Object(n.deepAccess)(e,"mediaTypes.video")&&(r.video=function(e){var r={},t=Object(n.deepAccess)(e,"mediaTypes.video",{}),a=Object(n.deepAccess)(e,"params.video",{}),i={};if(Array.isArray(t.playerSize)){var s=Array.isArray(t.playerSize[0])?t.playerSize[0]:t.playerSize;i.w=s[0],i.h=s[1]}var u=o(o(o({},i),t),a);return Object.keys(c).forEach((function(e){u.hasOwnProperty(e)&&(c[e](u[e])?r[e]=u[e]:Object(n.logWarn)("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),r}(e));return r}(e)})),site:m(r),device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"===navigator.doNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:t&&1===t.length?t[0]:{}};return r&&r.uspConsent&&Object(n.deepSetValue)(a,"regs.ext.us_privacy",r.uspConsent),r&&r.gdprConsent&&(Object(n.deepSetValue)(a,"user.ext.consent",r.gdprConsent.consentString),Object(n.deepSetValue)(a,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0)),function(e,r){var t=Object(n.deepAccess)(r,"0.userIdAsEids");Object(n.isArray)(t)&&t.length>0&&(Object(n.deepSetValue)(e,"user.eids",t),Object(n.deepSetValue)(e,"user.ext.eids",t))}(a,e),{method:"POST",url:"https://prebid.deepintent.com/prebid",data:JSON.stringify(a),options:{contentType:"application/json"}}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://cdn.deepintent.com/syncpixel.html"}]}};function f(e){return e.params&&e.params.custom?{deepintent:e.params.custom}:{}}function m(e){var r={};return e&&e.refererInfo&&e.refererInfo.referer&&(r.page=e.refererInfo.referer,r.domain=function(e){if(e){var r=document.createElement("a");return r.href=e,r.hostname}}(e.refererInfo.referer)),r}Object(a.registerBidder)(p),window.pbjs.installedModules.push("deepintentBidAdapter")}},[292]);