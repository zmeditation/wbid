pbjsChunk([99],{813:function(e,r,t){e.exports=t(814)},814:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return y}));var a=t(0),d=t(1),i=t(2),n=t(3),o=t(13),s=t(17);function p(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var a,d,i=[],n=!0,o=!1;try{for(t=t.call(e);!(n=(a=t.next()).done)&&(i.push(a.value),!r||i.length!==r);n=!0);}catch(e){o=!0,d=e}finally{try{n||null==t.return||t.return()}finally{if(o)throw d}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var c="vidoomy",u=["https://x.bidswitch.net/sync?ssp=vidoomy","https://ib.adnxs.com/getuid?https%3A%2F%2Fa-prebid.vidoomy.com%2Fsetuid%3Fbidder%3Dadnxs%26gdpr%3D{{GDPR}}%26gdpr_consent%3D{{GDPR_CONSENT}}%26uid%3D%24UID","https://pixel-sync.sitescout.com/dmp/pixelSync?nid=120&redir=https%3A%2F%2Fa.vidoomy.com%2Fapi%2Frtbserver%2Fcookie%3Fi%3DCEN%26uid%3D%7BuserId%7D","https://sync.1rx.io/usersync2/vidoomy?redir=https%3A%2F%2Fa.vidoomy.com%2Fapi%2Frtbserver%2Fcookie%3Fi%3DUN%26uid%3D%5BRX_UUID%5D","https://rtb.openx.net/sync/prebid?gdpr={{GDPR}}&gdpr_consent={{GDPR_CONSENT}}&r=https%3A%2F%2Fa-prebid.vidoomy.com%2Fsetuid%3Fbidder%3Dopenx%26uid%3D$%7BUID%7D","https://ads.pubmatic.com/AdServer/js/user_sync.html?gdpr={{GDPR}}&gdpr_consent={{GDPR_CONSENT}}&us_privacy=&predirect=https%3A%2F%2Fa-prebid.vidoomy.com%2Fsetuid%3Fbidder%3Dpubmatic%26gdpr%3D{{GDPR}}%26gdpr_consent%3D{{GDPR_CONSENT}}%26uid%3D","https://cm.adform.net/cookie?redirect_url=https%3A%2F%2Fa-prebid.vidoomy.com%2Fsetuid%3Fbidder%3Dadf%26gdpr%3D{{GDPR}}%26gdpr_consent%3D{{GDPR_CONSENT}}%26uid%3D%24UID","https://ups.analytics.yahoo.com/ups/58531/occ?gdpr={{GDPR}}&gdpr_consent={{GDPR_CONSENT}}","https://ap.lijit.com/pixel?redir=https%3A%2F%2Fa-prebid.vidoomy.com%2Fsetuid%3Fbidder%3Dsovrn%26gdpr%3D{{GDPR}}%26gdpr_consent%3D{{GDPR_CONSENT}}%26uid%3D%24UID"],l=function(e){e.ad=e.vastUrl;window.outstreamPlayer(e,e.adUnitCode,{vastTimeout:5e3,maxAllowedVastTagRedirects:3,allowVpaid:!0,autoPlay:!0,preload:!0,mute:!0})};var y={code:c,supportedMediaTypes:[i.b,i.d],isBidRequestValid:function(e){return e.params?+e.params.pid?+e.params.id?!(e.params&&e.params.mediaTypes&&e.params.mediaTypes.video&&e.params.mediaTypes.video.context===s.a&&!e.params.mediaTypes.video.playerSize)||(Object(a.logError)("vidoomy: bid.params.mediaType.video should have a playerSize property to tell player size when is INSTREAM"),!1):(Object(a.logError)("vidoomy: bid.params.id should be non-empty Number"),!1):(Object(a.logError)("vidoomy: bid.params.pid should be non-empty Number"),!1):(Object(a.logError)("vidoomy: bid.params should be non-empty"),!1)},buildRequests:function(e,r){return e.map((function(e){var t,d=i.b;e.mediaTypes&&e.mediaTypes[i.b]&&e.mediaTypes[i.b].sizes?(t=e.mediaTypes[i.b].sizes,d=i.b):e.mediaTypes&&e.mediaTypes[i.d]&&e.mediaTypes[i.d].playerSize&&(t=e.mediaTypes[i.d].playerSize,d=i.d);var o=p((Object(a.parseSizesInput)(t)[0]||"0x0").split("x"),2),s=o[0],m=o[1],c=document.createElement("a");c.href=r.refererInfo&&r.refererInfo.referer||top.location.href;var u=c.hostname,l=Object(a.deepAccess)(e,"mediaTypes.video.context"),y={id:e.params.id,adtype:d,auc:e.adUnitCode,w:s,h:m,pos:parseInt(e.params.position)||1,ua:navigator.userAgent,l:navigator.language&&-1!==navigator.language.indexOf("-")?navigator.language.split("-")[0]:"",dt:/Mobi/.test(navigator.userAgent)?2:1,pid:e.params.pid,requestId:e.bidId,d:v(u),sp:encodeURIComponent(c.href),usp:r.uspConsent||"",coppa:!!n.b.getConfig("coppa"),videoContext:l||""};return r.gdprConsent&&(y.gdpr=r.gdprConsent.gdprApplies,y.gdprcs=r.gdprConsent.consentString),{method:"GET",url:"https://d.vidoomy.com/api/rtbserver/prebid/",data:y}}))},interpretResponse:function(e,r){try{var t=e.body;if(!t)return;if("video"===t.mediaType)if(t.ad=t.vastUrl||t.vastXml,r.data.videoContext===s.b)try{var d=o.a.install({id:r.bidId,adunitcode:r.tagId,loaded:!1,config:t.mediaType,url:t.meta.rendererUrl});d.setRender(l),t.renderer=d}catch(e){t.ad=t.vastUrl||t.vastXml,Object(a.logError)("vidoomy: error while installing renderer to show outstream ad")}var n={ad:t.ad,renderer:t.renderer,mediaType:t.mediaType,requestId:t.requestId,cpm:t.cpm,currency:t.currency,width:t.width,height:t.height,creativeId:t.creativeId,netRevenue:t.netRevenue,ttl:t.ttl,meta:{mediaType:t.meta.mediaType,rendererUrl:t.meta.rendererUrl,advertiserDomains:t.meta.advertiserDomains,advertiserId:t.meta.advertiserId,advertiserName:t.meta.advertiserName,agencyId:t.meta.agencyId,agencyName:t.meta.agencyName,brandId:t.meta.brandId,brandName:t.meta.brandName,dchain:t.meta.dchain,networkId:t.meta.networkId,networkName:t.meta.networkName,primaryCatId:t.meta.primaryCatId,secondaryCatIds:t.meta.secondaryCatIds}};t.vastUrl?n.vastUrl=t.vastUrl:t.vastXml&&(n.vastXml=t.vastXml);var p=[];return!function(e){if(!(e&&e.requestId&&e.cpm&&e.ttl&&e.currency))return!1;switch(e.mediaType){case i.b:return Boolean(e.width&&e.height&&e.ad);case i.d:return Boolean(e.vastUrl||e.vastXml);default:return!1}}(n)?Object(a.logError)("vidoomy: server returns invalid response"):p.push(n),p}catch(e){return Object(a.logError)("vidoomy: error parsing server response to Prebid format"),[]}},gvlid:380,getUserSyncs:function(e,r,t,d){if(e.iframeEnabled||e.pixelEnabled){var i=e.pixelEnabled?"image":"iframe",n=Object(a.deepAccess)(r,"0.body.pixels")||u;return[].concat(n).map((function(e){return{type:i,url:e.replace("{{GDPR}}",t&&t.gdprApplies?"1":"0").replace("{{GDPR_CONSENT}}",t?encodeURIComponent(t.consentString):"").replace("{{USP_CONSENT}}",d?encodeURIComponent(d):"")}}))}}};function v(e){for(var r=e.split("."),t=[],a=r.length-1;a>=0&&(t.push(r[a]),!(1!==t.length&&r[a].length>3));a--);return t.reverse().join(".")}Object(d.registerBidder)(y),window.pbjs.installedModules.push("vidoomyBidAdapter")}},[813]);