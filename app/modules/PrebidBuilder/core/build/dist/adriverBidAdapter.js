pbjsChunk([374],{117:function(e,r,t){e.exports=t(118)},118:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return d}));var o=t(0),i=t(1);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d={code:"adriver",isBidRequestValid:function(e){return!!e.params.siteid},buildRequests:function(e,r){Object(o.logInfo)("validBidRequests",e);var t=Object(o.getWindowLocation)(),i=Math.round(999999999*Math.random())+"-"+Math.round(new Date/1e3)+"-1-46-",d=Object(o.getBidIdParameter)("siteid",e[0].params)+"",u=Object(o.getBidIdParameter)("currency",e[0].params);u="RUB";var c=null;r&&(c=r.timeout);var s={at:1,cur:[u],tmax:c,site:{name:t.origin,domain:t.hostname,id:d,page:t.href},id:i,user:{buyerid:0,ext:{eids:a(e)}},device:{ip:"195.209.111.14",ua:window.navigator.userAgent},imp:[]};return Object(o._each)(e,(function(e){Object(o._each)(e.sizes,(function(r){var t,i,d,a=function(e,r,t){var o=e.mediaTypes&&e.mediaTypes.video?"video":"banner",i=0,d=r||"RUB",a="",u=!1;"number"==typeof t[0]&&"number"==typeof t[1]&&(u=!0);if("function"==typeof e.getFloor){var c=e.getFloor({currency:d,mediaType:o,size:u?t:"*"});"object"!==n(c)||isNaN(parseFloat(c.floor))||(i=c.floor),"object"===n(c)&&c.currency&&(a=c.currency)}a||(a=d);null==i&&(i=0);return{floor:i,currency:a}}(e,u,r),c=a.floor,p=Object(o.getBidIdParameter)("dealid",e.params);"number"==typeof r[0]&&"number"==typeof r[1]&&(t=r[0],i=r[1]),d={id:e.params.placementId,ext:{query:"bn=15&custom=111="+e.bidId},banner:{w:t||void 0,h:i||void 0},bidfloor:c||0,bidfloorcur:a.currency,secure:0},p&&(d.pmp={private_auction:1,deals:[{id:p,bidfloor:c||0,bidfloorcur:u}]}),Object(o.logInfo)("par",d),s.imp.push(d)}))})),{method:"POST",url:"https://pb.adriver.ru/cgi-bin/bid.cgi",data:JSON.stringify(s)}},interpretResponse:function(e,r){Object(o.logInfo)("serverResponse.body.seatbid",e.body.seatbid);var t=[],i=0;return Object(o._each)(e.body.seatbid,(function(r){Object(o.logInfo)("_each",r);var n=r.bid[0];if(void 0!==n.nurl&&(i=n.nurl.split("://"),i=(i=window.location.protocol+"//"+i[1]).replace(/\$\{AUCTION_PRICE\}/,n.price)),n.price>=0&&void 0!==n.impid&&0!==i&&void 0===n.dealid){var d={requestId:n.ext||void 0,cpm:n.price,width:n.w,height:n.h,creativeId:n.impid||void 0,currency:e.body.cur,netRevenue:!0,ttl:3e3,meta:{advertiserDomains:n.adomain},ad:'<IFRAME SRC="'+n.nurl+'" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" STYLE ="WIDTH:'+n.w+"px; HEIGHT:"+n.h+'px"></IFRAME>'};Object(o.logInfo)("bidResponse",d),t.push(d)}})),t}};function a(e){return e&&e.length>0&&e[0].userIdAsEids&&e[0].userIdAsEids.length>0?e[0].userIdAsEids:[]}Object(i.registerBidder)(d),window.pbjs.installedModules.push("adriverBidAdapter")}},[117]);