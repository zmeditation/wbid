pbjsChunk([345],{197:function(n,t,e){n.exports=e(198)},198:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"isBidAdUnitCodeMatchingSlot",(function(){return f})),e.d(t,"getMatchingWinningBidForGPTSlot",(function(){return b})),e.d(t,"fireViewabilityPixels",(function(){return p})),e.d(t,"logWinningBidNotFound",(function(){return w})),e.d(t,"impressionViewableHandler",(function(){return h})),e.d(t,"init",(function(){return m}));var i=e(3),o=e(10),d=(e.n(o),e(5)),r=e.n(d),a=e(0),c=e(14),l=e(9),u=e(11),s=e.n(u),g="vurls",f=function(n,t){return t.getAdUnitPath()===n.adUnitCode||t.getSlotElementId()===n.adUnitCode},b=function(n,t){return s()(Object(c.a)().getAllWinningBids(),(function(e){return Object(a.isFn)(n.customMatchFunction)?n.customMatchFunction(e,t):f(e,t)}))||null},p=function(n,t){if(!0===n.firePixels&&t.hasOwnProperty(g)){var e={},i=l.gdprDataHandler.getConsentData();i&&("boolean"==typeof i.gdprApplies&&(e.gdpr=Number(i.gdprApplies)),i.consentString&&(e.gdpr_consent=i.consentString),i.addtlConsent&&(e.addtl_consent=i.addtlConsent));var o=l.uspDataHandler.getConsentData();o&&(e.us_privacy=o),t.vurls.forEach((function(n){Object.keys(e).length>0&&-1===n.indexOf("?")&&(n+="?"),n+=Object.keys(e).reduce((function(n,t){return n+"&".concat(t,"=").concat(encodeURIComponent(e[t]))}),""),Object(a.triggerPixel)(n)}))}},w=function(n){Object(a.logWarn)("bid details could not be found for ".concat(n.getSlotElementId(),", probable reasons: a non-prebid bid is served OR check the prebid.AdUnit.code to GPT.AdSlot relation."))},h=function(n,t,e){var i=b(n,t);null===i?w(t):(p(n,i),l.default.callBidViewableBidder(i.bidder,i),o.emit(r.a.EVENTS.BID_VIEWABLE,i))},m=function(){o.on(r.a.EVENTS.AUCTION_INIT,(function(){var n=i.b.getConfig("bidViewability")||{};!0===n.enabled&&(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("impressionViewable",(function(t){h(n,t.slot,t)}))})))}))};m(),window.pbjs.installedModules.push("bidViewability")}},[197]);