pbjsChunk([337],{211:function(e,a,i){e.exports=i(212)},212:function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),i.d(a,"spec",(function(){return c}));var r=i(0),t=i(1),n=i(2),s=i(3);function d(e,a,i){return a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}var o={1:"title",2:"icon",3:"image",4:"body",5:"sponsoredBy",6:"cta"},p={title:{id:1,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},body:{id:4,type:2,name:"data"},sponsoredBy:{id:5,type:1,name:"data"},cta:{id:6,type:12,name:"data"}},c={code:"brave",supportedMediaTypes:[n.b,n.d,n.c],isBidRequestValid:function(e){return!(!e.params.placementId||32!==e.params.placementId.toString().length)},buildRequests:function(e,a){if(0===e.length||!a)return[];for(var i="https://point.bravegroup.tv/?t=2&partner=hash".replace("hash",e[0].params.placementId),t=e.map((function(e){var a={id:e.bidId,secure:1};return e.mediaTypes.banner?a.banner=l(e):e.mediaTypes.video?a.video=v(e):e.mediaTypes.native&&(a.native={id:e.transactionId,ver:"1.2",request:m(e)}),a})),n=window,d=n.document.location.href,o=n.document.referrer,p=0;n!==n.parent&&10!=++p;)try{d=(n=n.parent).location.href,o=n.document.referrer}catch(e){break}var c=d||a.refererInfo.referer,u={id:a.bidderRequestId,cur:["USD"],device:{w:screen.width,h:screen.height,language:navigator&&navigator.language?-1!=navigator.language.indexOf("-")?navigator.language.split("-")[0]:navigator.language:"",ua:navigator.userAgent},site:{domain:Object(r.parseUrl)(c).hostname,page:c},tmax:a.timeout||s.b.getConfig("bidderTimeout")||500,imp:t};return o&&(u.site.ref=o),a.gdprConsent&&(u.regs={ext:{gdpr:a.gdprConsent.gdprApplies?1:0}},u.user={ext:{consent:a.gdprConsent.consentString?a.gdprConsent.consentString:""}}),void 0!==a.uspConsent&&(u.regs||(u.regs={ext:{}}),u.regs.ext.us_privacy=a.uspConsent),!0===s.b.getConfig("coppa")&&(u.regs?u.regs.coppa=1:u.regs={coppa:1}),e[0].schain&&(u.source={ext:{schain:e[0].schain}}),{method:"POST",url:i,data:u}},interpretResponse:function(e){if(!e||Object(r.isEmpty)(e.body))return[];var a=[];return e.body.seatbid.forEach((function(e){e.bid.forEach((function(e){var i=e.ext&&e.ext.mediaType?e.ext.mediaType:"banner",r={requestId:e.impid,cpm:e.price,width:e.w,height:e.h,ttl:1200,currency:"USD",netRevenue:!0,creativeId:e.crid,dealId:e.dealid||null,mediaType:i};switch(i){case"video":r.vastUrl=e.adm;break;case"native":r.native=u(e.adm);break;default:r.ad=e.adm}a.push(r)}))})),a},onBidWon:function(e){Object(r.isStr)(e.nurl)&&""!==e.nurl&&Object(r.triggerPixel)(e.nurl)}},u=function(e){var a={clickUrl:e.native.link&&e.native.link.url,impressionTrackers:e.native.imptrackers||[],clickTrackers:e.native.link&&e.native.link.clicktrackers||[],jstracker:e.native.jstracker||[]};return e.native.assets.forEach((function(e){var i=o[e.id],r=i&&e[p[i].name];r&&(a[i]=r.text||r.value||{url:r.url,width:r.w,height:r.h})})),a},m=function(e){for(var a={ver:"1.2",assets:[]},i=0,r=Object.keys(e.mediaTypes.native);i<r.length;i++){var t=r[i],n=p[t];if(n){var s=d({required:e.mediaTypes.native[t].required?1:0,id:n.id},n.name,{});n.type&&(s[n.name].type=n.type),e.mediaTypes.native[t].len&&(s[n.name].len=e.mediaTypes.native[t].len),e.mediaTypes.native[t].sizes&&e.mediaTypes.native[t].sizes[0]&&(s[n.name].w=e.mediaTypes.native[t].sizes[0],s[n.name].h=e.mediaTypes.native[t].sizes[1]),a.assets.push(s)}}return a},l=function(e){var a=[];return a=e.mediaTypes.banner.sizes&&Array.isArray(e.mediaTypes.banner.sizes)?Array.isArray(e.mediaTypes.banner.sizes[0])?e.mediaTypes.banner.sizes[0]:e.mediaTypes.banner.sizes:[300,250],{id:e.transactionId,w:a[0],h:a[1]}},v=function(e){for(var a={id:e.transactionId},i=0,r=["mimes","minduration","maxduration","protocols","startdelay","skip","minbitrate","maxbitrate","api","linearity"];i<r.length;i++){var t=r[i];void 0!==e.mediaTypes.video[t]&&(a[t]=e.mediaTypes.video[t])}return e.mediaTypes.video.playerSize&&Array.isArray(e.mediaTypes.video.playerSize)?Array.isArray(e.mediaTypes.video.playerSize[0])?(a.w=e.mediaTypes.video.playerSize[0][0],a.h=e.mediaTypes.video.playerSize[0][1]):(a.w=e.mediaTypes.video.playerSize[0],a.h=e.mediaTypes.video.playerSize[1]):(a.w=640,a.h=480),a};Object(t.registerBidder)(c),window.pbjs.installedModules.push("braveBidAdapter")}},[211]);