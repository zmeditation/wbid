pbjsChunk([79],{890:function(e,t,r){e.exports=r(891)},891:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return o});var d=r(2),n=r(1),p=r(11),i=r(0);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m="videofy";function u(t){t.renderer.push(function(){var e=t&&t.renderer&&t.renderer.handleVideoEvent?t.renderer.handleVideoEvent:null;window.aniviewRenderer.renderAd({id:t.adUnitCode+"_"+t.adId,debug:0<=window.location.href.indexOf("pbjsDebug"),placement:t.adUnitCode,width:t.width,height:t.height,vastUrl:t.vastUrl,vastXml:t.vastXml,config:t.params[0].rendererConfig,eventsCallback:e,bid:t})})}var c=0;function a(e,t){var r={bidder:e.bidder,cpm:e.cpm,originalCpm:e.originalCpm,currency:e.currency,originalCurrency:e.originalCurrency,timeToRespond:e.timeToRespond,statusMessage:e.statusMessage,width:e.width,height:e.height,size:e.size,params:e.params,status:e.status,adserverTargeting:e.adserverTargeting,ttl:e.ttl},n=JSON.stringify(r),a=window.btoa(n);i.triggerPixel("https://beacon.videofy.io/notification/rtb/beacon/?bt="+t+"&bid=hcwqso&hb_j="+a,null)}var o={code:m,supportedMediaTypes:[d.d],isBidRequestValid:function(e){return!!(e.params&&e.params.AV_PUBLISHERID&&e.params.AV_CHANNELID)},buildRequests:function(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n],i=[[640,480]];a.mediaTypes&&a.mediaTypes.video&&a.mediaTypes.video.playerSize?i=a.mediaTypes.video.playerSize:a.sizes&&(i=a.sizes),2===i.length&&"number"==typeof i[0]&&(i=[[i[0],i[1]]]);for(var o=0;o<i.length;o++){var s=i[o],d=void 0,p=void 0,p=s&&2==s.length?(d=s[0],s[1]):(d=640,480),l={};for(var m in a.params)a.params.hasOwnProperty(m)&&0==m.indexOf("AV_")&&(l[m]=a.params[m]);l.AV_APPPKGNAME&&!l.AV_URL&&(l.AV_URL=l.AV_APPPKGNAME),l.AV_IDFA||l.AV_URL||(t&&t.refererInfo&&t.refererInfo.referer?l.AV_URL=t.refererInfo.referer:l.AV_URL=window.location.href),l.AV_IDFA&&!l.AV_AID&&(l.AV_AID=l.AV_IDFA),l.AV_AID&&!l.AV_IDFA&&(l.AV_IDFA=l.AV_AID),l.cb=Math.floor(999999999*Math.random()),l.AV_WIDTH=d,l.AV_HEIGHT=p,l.bidWidth=d,l.bidHeight=p,l.bidId=a.bidId,l.pbjs=1,l.tgt=10,l.s2s="1",l.irc=c,c++,l.wpm=1,t&&t.gdprConsent&&t.gdprConsent.gdprApplies&&(l.AV_GDPR=1,l.AV_CONSENT=t.gdprConsent.consentString),t&&t.uspConsent&&(l.AV_CCPA=t.uspConsent);var u="https://"+(a.params&&a.params.serverDomain?a.params.serverDomain:"servx.srv-mars.com")+"/api/adserver/vast3/";r.push({method:"GET",url:u,data:l,bidRequest:a})}}return r},interpretResponse:function(e,t){var r=[];if(e&&e.body){if(e.error)return r;try{var n,a,i,o,s={};t&&t.data&&t.data.bidId&&""!==t.data.bidId&&(n=e.body,!(a=(new window.DOMParser).parseFromString(n,"text/xml"))||0!=a.getElementsByTagName("parsererror").length||(i=function(e){var t={cpm:0,currency:"USD"};if(e){var r=e.getElementsByTagName("Extensions");if(r&&0<r.length&&(r=r[0].getElementsByTagName("Extension"))&&0<r.length)for(var n=0;n<r.length;n++)if("ANIVIEW"==r[n].getAttribute("type")){var a=r[n].getElementsByTagName("Cpm");a&&1==a.length&&(t.cpm=a[0].textContent);break}}return t}(a))&&0<i.cpm&&(s.requestId=t.data.bidId,s.bidderCode=m,s.ad="",s.cpm=i.cpm,s.width=t.data.AV_WIDTH,s.height=t.data.AV_HEIGHT,s.ttl=600,s.creativeId=a.getElementsByTagName("Ad")&&a.getElementsByTagName("Ad")[0]&&a.getElementsByTagName("Ad")[0].getAttribute("id")?a.getElementsByTagName("Ad")[0].getAttribute("id"):"creativeId",s.currency=i.currency,s.netRevenue=!0,o=new Blob([n],{type:"application/xml"}),s.vastUrl=window.URL.createObjectURL(o),s.vastXml=n,s.mediaType=d.d,t.bidRequest&&t.bidRequest.mediaTypes&&t.bidRequest.mediaTypes.video&&"outstream"===t.bidRequest.mediaTypes.video.context&&(s.renderer=function(){var e=p.a.install({url:"https://player.srv-mars.com/script/6.1/prebidRenderer.js",config:{},loaded:!1});try{e.setRender(u)}catch(e){}return e}()),r.push(s)))}catch(e){}}return r},getUserSyncs:function(e,t){if(t&&t[0]&&t[0].body){if(t.error)return[];try{var r=t[0].body,n=(new window.DOMParser).parseFromString(r,"text/xml");if(n&&0==n.getElementsByTagName("parsererror").length)return function(e,t){var r=[];if(e){var n=e.getElementsByTagName("Extensions");if(n&&0<n.length&&(n=n[0].getElementsByTagName("Extension"))&&0<n.length)for(var a=0;a<n.length;a++)if("ANIVIEW"==n[a].getAttribute("type")){var i=n[a].getElementsByTagName("AdServingSync");if(i&&1==i.length)try{var o=JSON.parse(i[0].textContent);if(o&&o.trackers&&o.trackers.length){o=o.trackers;for(var s=0;s<o.length;s++)"object"===l(o[s])&&"string"==typeof o[s].url&&"inventory"===o[s].e&&(1==o[s].t&&t.pixelEnabled?r.push({url:o[s].url,type:"image"}):3==o[s].t&&t.iframeEnabled&&r.push({url:o[s].url,type:"iframe"}))}}catch(e){}break}}return r}(n,e)}catch(e){}}},onBidWon:function(e){a(e,17)},onTimeout:function(e){a(e,19)},onSetTargeting:function(e){a(e,20)}};Object(n.registerBidder)(o)}},[890]);