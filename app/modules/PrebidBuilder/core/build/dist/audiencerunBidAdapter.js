pbjsChunk([351],{181:function(e,r,t){e.exports=t(182)},182:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return f}));var n=t(0),i=t(3),d=t(1),c=t(2),o="https://d.audiencerun.com",a="".concat(o,"/prebid"),s="".concat(o,"/ps/pbtimeout"),u=[];function p(e){return i.b.getConfig("pageUrl")||Object(n.deepAccess)(e,"refererInfo.referer")||null}function b(e){if(!Object(n.isFn)(e.getFloor))return Object(n.deepAccess)(e,"params.bidfloor",0);try{return e.getFloor({currency:"USD",mediaType:c.b,size:"*"}).floor}catch(e){return 0}}var f={version:"1.1.0",code:"audiencerun",supportedMediaTypes:[c.b],isBidRequestValid:function(e){var r=!0;return Object(n.deepAccess)(e,"params.zoneId")||(Object(n.logError)("AudienceRun zoneId parameter is required. Bid aborted."),r=!1),r},buildRequests:function(e,r){var t=e.map((function(e){var r=Object(n.deepAccess)(e,"mediaTypes.banner.sizes",[]);return{zoneId:Object(n.getValue)(e.params,"zoneId"),sizes:r.map((function(e){return{w:e[0],h:e[1]}})),bidfloor:b(e),bidId:e.bidId,bidderRequestId:Object(n.getBidIdParameter)("bidderRequestId",e),adUnitCode:Object(n.getBidIdParameter)("adUnitCode",e),auctionId:Object(n.getBidIdParameter)("auctionId",e),transactionId:Object(n.getBidIdParameter)("transactionId",e)}})),d={libVersion:this.version,referer:p(r),currencyCode:i.b.getConfig("currency.adServerCurrency"),timeout:i.b.getConfig("bidderTimeout"),bids:t};return r&&r.gdprConsent?d.gdpr={consent:r.gdprConsent.consentString,applies:r.gdprConsent.gdprApplies,version:r.gdprConsent.apiVersion}:d.gdpr={consent:""},u=t,{method:"POST",url:a,data:JSON.stringify(d),options:{withCredentials:!0}}},interpretResponse:function(e,r){var t=[];return Object(n._each)(e.body.bid,(function(e){if(e.cpm&&null!==e.cpm&&e.adm){var r={};r.ad=e.adm,r.mediaType=c.b,r.requestId=e.bidId,r.cpm=parseFloat(e.cpm),r.creativeId=e.crid,r.currency=e.currency?e.currency.toUpperCase():"USD",r.height=e.h,r.width=e.w,r.netRevenue=!!e.isNet&&e.isNet,r.ttl=300,r.meta={advertiserDomains:e.adomain&&Array.isArray(e.adomain)?e.adomain:[]},t.push(r)}})),t},getUserSyncs:function(e,r){if(!r||!r.length)return[];var t=[];return r.forEach((function(e){e.body.bid.forEach((function(e){t.push({type:"iframe",url:e.syncUrl})}))})),t},onTimeout:function(e){Object(n.isArray)(e)&&e.forEach((function(e){var r=u.find((function(r){return r.bidId===e.bidId}));r&&Object(n.triggerPixel)("".concat(s,"/").concat(r.zoneId,"/").concat(r.bidId))}))}};Object(d.registerBidder)(f),window.pbjs.installedModules.push("audiencerunBidAdapter")}},[181]);