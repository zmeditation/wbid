pbjsChunk([273],{358:function(e,t,r){e.exports=r(359)},359:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return p}));var n=r(2),i=r(3),s=r(7),a=r(0),o=r(1),d=Object(s.b)(),u={jwt:"gp_vault_jwt"},p={gvlid:1012,code:"glimpse",supportedMediaTypes:[n.b],isBidRequestValid:function(e){return b(e)&&b(e.params)&&g(e.params.placementId)},buildRequests:function(e,t){var r,n,i,s,a=d.getDataFromLocalStorage(u.jwt)||"",o=function(e){if(b(e)&&b(e.refererInfo)&&g(e.refererInfo.referer))return e.refererInfo.referer;return""}(t),y=function(e){if(b(e)&&b(e.gdprConsent)){var t=e.gdprConsent,r=b(n=t.gdprApplies)&&"boolean"==typeof n;return{consentString:t.consentString||"",vendorData:t.vendorData||{},gdprApplies:!r||t.gdprApplies}}var n;return{consentString:"",vendorData:{},gdprApplies:!1}}(t),m=e.map(c),v=(r=f("site"),n=f("user"),i=l("ortb2.site.ext.data",{}),s=l("ortb2.user.ext.data",{}),{site:{keywords:r,attributes:i},user:{keywords:n,attributes:s}}),j={auth:a,data:{referer:o,gdprConsent:y,bidRequests:m,site:v.site,user:v.user,bidderCode:p.code}};return{method:"POST",url:"https://api.glimpsevault.io/ads/serving/public/v1/prebid",data:JSON.stringify(j),options:{}}},interpretResponse:function(e){if(function(e){return b(e)&&b(e.body)&&b(e.body.data)&&(t=e.body.data.bids,b(t)&&Object(a.isArray)(t)&&t.length>0)&&g(e.body.auth);var t}(e)){var t=e.body,r=t.auth,n=t.data;return function(e){d.setDataInLocalStorage(u.jwt,e)}(r),n.bids}return[]}};function c(e){return{demand:e.params.demand||"glimpse",sizes:function(e){if(Object(a.isArray)(e)&&2===e.length&&!Object(a.isArray)(e[0])&&!Object(a.isArray)(e[1]))return[e];return e}(e.sizes),keywords:e.params.keywords||{},bidId:e.bidId,placementId:e.params.placementId,unitCode:e.adUnitCode}}function f(e){return l("ortb2.".concat(e,".keywords"),"").split(", ").filter((function(e){return""!==e}))}function l(e,t){return i.b.getConfig(e)||t}function b(e){return null!=e}function g(e){return b(e)&&"string"==typeof e&&e.length>0}Object(o.registerBidder)(p),window.pbjs.installedModules.push("glimpseBidAdapter")}},[358]);