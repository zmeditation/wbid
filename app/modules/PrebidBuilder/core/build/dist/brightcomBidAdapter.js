pbjsChunk([334],{215:function(t,e,r){t.exports=r(216)},216:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"spec",(function(){return s}));var i=r(0),n=r(1),o=r(2),d=r(3);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u="brightcom",s={code:u,supportedMediaTypes:[o.b],isBidRequestValid:function(t){if(t.bidder!==u||void 0===t.params)return!1;if(void 0===t.params.publisherId)return!1;return!0},buildRequests:function(t,e){try{var r="";e&&e.refererInfo&&(r=e.refererInfo.referer);var n=[],o=Object(i.getBidIdParameter)("publisherId",t[0].params);Object(i._each)(t,(function(t){var e=t.mediaTypes&&t.mediaTypes.banner&&t.mediaTypes.banner.sizes||t.sizes,r=(e=(e=Object(i.isArray)(e)&&Object(i.isArray)(e[0])?e:[e]).filter((function(t){return Object(i.isArray)(t)}))).map((function(t){return{w:parseInt(t[0],10),h:parseInt(t[1],10)}})),o=document.getElementById(t.adUnitCode),d=r.reduce((function(t,e){return e.h*e.w<t.h*t.w?e:t})),a=function(t){return!function(){try{return Object(i.getWindowSelf)()!==Object(i.getWindowTop)()}catch(t){return!0}}()&&null!==t}(o)?function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.w,o=r.h;return"visible"===Object(i.getWindowTop)().document.visibilityState?h(t,e,{w:n,h:o}):0}(o,Object(i.getWindowTop)(),d):"na",u=isNaN(a)?a:Math.round(a),s={id:t.bidId,banner:{format:r,ext:{viewability:u}},tagid:String(t.adUnitCode)},c=function(t){if(!Object(i.isFn)(t.getFloor))return t.params.bidFloor?t.params.bidFloor:null;var e=t.getFloor({currency:"USD",mediaType:"*",size:"*"});if(Object(i.isPlainObject)(e)&&!isNaN(e.floor)&&"USD"===e.currency)return e.floor;return null}(t);c&&(s.bidfloor=c),n.push(s)}));var a={id:Object(i.getUniqueIdentifierStr)(),imp:n,site:{domain:Object(i.parseUrl)(r).host,page:r,publisher:{id:o}},device:{devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,w:screen.width,h:screen.height},tmax:d.b.getConfig("bidderTimeout")};return e&&e.gdprConsent&&(Object(i.deepSetValue)(a,"regs.ext.gdpr",+e.gdprConsent.gdprApplies),Object(i.deepSetValue)(a,"user.ext.consent",e.gdprConsent.consentString)),{method:"POST",url:"https://brightcombid.marphezis.com/hb",data:JSON.stringify(a),options:{contentType:"text/plain",withCredentials:!1}}}catch(r){Object(i.logError)(r,{bidReqs:t,bidderRequest:e})}},interpretResponse:function(t){if(!t.body||"object"!=a(t.body))return Object(i.logWarn)("Brightcom server returned empty/non-json response: "+JSON.stringify(t.body)),[];var e=t.body,r=e.id,n=e.seatbid;try{var d=[];return r&&n&&n.length>0&&n[0].bid&&n[0].bid.length>0&&n[0].bid.map((function(t){d.push({requestId:t.impid,cpm:parseFloat(t.price),width:parseInt(t.w),height:parseInt(t.h),creativeId:t.crid||t.id,currency:"USD",netRevenue:!0,mediaType:o.b,ad:c(t),ttl:60,meta:{advertiserDomains:t&&t.adomain?t.adomain:[]}})})),d}catch(t){Object(i.logError)(t,{id:r,seatbid:n})}},getUserSyncs:function(t,e,r){return[]}};function c(t){var e=t.adm;return"nurl"in t&&(e+=Object(i.createTrackPixelHtml)(t.nurl)),e}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.w,i=e.h,n=t.getBoundingClientRect(),o=n.width,d=n.height,a=n.left,u=n.top,s=n.right,c=n.bottom;return(0===o||0===d)&&r&&i&&(o=r,d=i,s=a+r,c=u+i),{width:o,height:d,left:a,top:u,right:s,bottom:c}}function p(t){for(var e={left:t[0].left,right:t[0].right,top:t[0].top,bottom:t[0].bottom},r=1;r<t.length;++r){if(e.left=Math.max(e.left,t[r].left),e.right=Math.min(e.right,t[r].right),e.left>=e.right)return null;if(e.top=Math.max(e.top,t[r].top),e.bottom=Math.min(e.bottom,t[r].bottom),e.top>=e.bottom)return null}return e.width=e.right-e.left,e.height=e.bottom-e.top,e}function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.w,n=r.h,o=b(t,{w:i,h:n}),d=p([{left:0,top:0,right:e.innerWidth,bottom:e.innerHeight},o]);return null!==d?d.width*d.height/(o.width*o.height)*100:0}Object(n.registerBidder)(s),window.pbjs.installedModules.push("brightcomBidAdapter")}},[215]);