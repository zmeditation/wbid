pbjsChunk([367],{143:function(e,t,n){e.exports=n(144)},144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"IS_DEV",(function(){return l})),n.d(t,"BIDDER_CODE",(function(){return f})),n.d(t,"SSP_ENDPOINT",(function(){return y})),n.d(t,"REQUEST_METHOD",(function(){return b})),n.d(t,"TEST_PAGE_URL",(function(){return m})),n.d(t,"IN_IMAGE_BANNER_TYPE",(function(){return h})),n.d(t,"IN_IMAGE_MAX_BANNER_TYPE",(function(){return _})),n.d(t,"IN_CONTENT_BANNER_TYPE",(function(){return g})),n.d(t,"IN_CONTENT_VIDEO_TYPE",(function(){return I})),n.d(t,"OUT_CONTENT_VIDEO_TYPE",(function(){return E})),n.d(t,"IN_CONTENT_STORY_TYPE",(function(){return N})),n.d(t,"ACTION_SCROLLER_TYPE",(function(){return O})),n.d(t,"ACTION_SCROLLER_LIGHT_TYPE",(function(){return S})),n.d(t,"JUST_BANNER_TYPE",(function(){return v})),n.d(t,"mediaTypeByPlaceType",(function(){return P})),n.d(t,"spec",(function(){return C}));var r,i=n(12),a=n.n(i),o=n(1),c=n(13),d=n(2);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="localhost"===location.hostname,f="afp",y="https://ssp.afp.ai/api/prebid",b="POST",m="https://rtbinsight.ru/smiert-bolshikh-dannykh-kto-na-novienkogo/",T="https://cdn.afp.ai/ssp/sdk.js?auto_initialization=false&deploy_to_parent_window=true",h="In-image",_="In-image Max",g="In-content Banner",I="In-content Video",E="Out-content Video",N="In-content Stories",O="Action Scroller",S="Action Scroller Light",v="Just Banner",P=(s(r={},h,d.b),s(r,_,d.b),s(r,g,d.b),s(r,N,d.b),s(r,O,d.b),s(r,S,d.b),s(r,v,d.b),s(r,I,d.d),s(r,E,d.d),r),R={},C={code:f,supportedMediaTypes:[d.b,d.d],isBidRequestValid:function(e){var t=e.mediaTypes,n=e.params;if("object"!==p(n)||"object"!==p(t))return!1;var r=n.placeId,i=n.placeType,o=n.imageUrl,c=n.imageWidth,u=n.imageHeight,s=t[P[i]];if(r&&s){if(P[i]===d.d){if(!s.playerSize)return!1}else if(P[i]===d.b&&!s.sizes)return!1;if(!a()([h,_],i))return!0;if(o&&c&&u)return!0}return!1},buildRequests:function(e,t){var n=t.refererInfo,r=t.gdprConsent,i={pageUrl:l?m:n.referer,gdprConsent:r,bidRequests:e.map((function(e){var t=e.bidId,n=e.transactionId,r=e.sizes,i=e.params,o=i.placeId,c=i.placeType,d=i.imageUrl,p=i.imageWidth,s=i.imageHeight;R[t]=e;var l={bidId:t,transactionId:n,sizes:r,placeId:o};return a()([h,_],c)&&u(l,{imageUrl:d,imageWidth:Math.floor(p),imageHeight:Math.floor(s)}),l}))};return{method:b,url:y,data:i,options:{contentType:"application/json"}}},interpretResponse:function(e){var t=e.body&&e.body.bids;return(t=Array.isArray(t)?t:[]).map((function(e,t){var n=e.bidId,r=e.cpm,i=e.width,a=e.height,o=e.creativeId,u=e.currency,p=e.netRevenue,s=e.adSettings,l=e.placeSettings,f={requestId:n,cpm:r,width:i,height:a,creativeId:o,currency:u,netRevenue:p,meta:{mediaType:P[l.placeType]},ttl:60},y={adSettings:s,placeSettings:l,placeContainer:R[n].params.placeContainer,isPrebid:!0};return P[l.placeType]===d.b?f.ad=function(e){return'<!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        <style>html, body {width: 100%; height: 100%; margin: 0;}</style>\n        <script src="'.concat(T,'"><\/script>\n    </head>\n    <body>\n        <script>\n            window.afp.createPlaceByData(JSON.parse(decodeURIComponent("').concat(encodeURIComponent(JSON.stringify(e)),'")))\n        <\/script>\n    </body>\n  </html>')}(y):P[l.placeType]===d.d&&(f.vastXml=s.content,f.renderer=function(e,t){var n=new c.a({targetId:e.adUnitCode,url:T,callback:function(){n.loaded=!0,window.afp.createPlaceByData(t)}});return n}(f,y)),f}))}};Object(o.registerBidder)(C),window.pbjs.installedModules.push("afpBidAdapter")}},[143]);