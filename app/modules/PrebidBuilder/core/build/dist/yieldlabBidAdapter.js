pbjsChunk([85],{843:function(e,t,n){e.exports=n(844)},844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return u}));var a=n(0),r=n(1),i=n(11),o=n.n(i),c=n(2),s=n(13),d=n(3),p="https://ad.yieldlab.net",u={code:"yieldlab",gvlid:70,supportedMediaTypes:[c.d,c.b,c.c],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.adslotId&&e.params.supplyId)},buildRequests:function(e,t){var n=[],r={ts:Date.now(),json:!0};Object(a._each)(e,(function(e){if(n.push(e.params.adslotId),e.params.targeting&&(r.t=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var a=n,r=e[n];t.push(a+"="+r)}return t.join("&")}(e.params.targeting)),e.userIdAsEids&&Array.isArray(e.userIdAsEids)&&(r.ids=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].source+":"+e[n].uids[0].id);return t.join(",")}(e.userIdAsEids)),e.params.customParams&&Object(a.isPlainObject)(e.params.customParams))for(var t in e.params.customParams)r[t]=e.params.customParams[t];var i,o,c,s,p;e.schain&&Object(a.isPlainObject)(e.schain)&&Array.isArray(e.schain.nodes)&&(r.schain=(i=e.schain,o=i.ver||"",c=1===i.complete||0===i.complete?i.complete:"",s=["asi","sid","hp","rid","name","domain","ext"],p=i.nodes.reduce((function(e,t){return e+"!".concat(s.map((function(e){return t[e]?(n=t[e],encodeURIComponent(n).replace(/!/g,"%21")):"";var n})).join(","))}),""),"".concat(o,",").concat(c).concat(p)));var u=function(e){if(e.params.iabContent&&Object(a.isPlainObject)(e.params.iabContent))return e.params.iabContent;var t=d.b.getConfig("ortb2.site")?d.b.getConfig("ortb2.site.content"):d.b.getConfig("ortb2.app.content");if(t&&Object(a.isPlainObject)(t))return t;return}(e);u&&(r.iab_content=function(e){var t=["keywords","cat"],n=[];for(var a in e)if(e.hasOwnProperty(a)){var r=-1!==t.indexOf(a)&&Array.isArray(e[a])?e[a].map((function(e){return encodeURIComponent(e)})).join("|"):encodeURIComponent(e[a]);n.push("".concat(a,":",r))}return encodeURIComponent(n.join(","))}(u))})),t&&(t.refererInfo&&t.refererInfo.referer&&(r.pubref=t.refererInfo.referer),t.gdprConsent&&(r.gdpr="boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,r.gdpr&&(r.consent=t.gdprConsent.consentString)));var i=n.join(","),o=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];"schain"!==n&&"iab_content"!==n?t.push(encodeURIComponent(n)+"="+encodeURIComponent(a)):t.push(n+"="+a)}return t.join("&")}(r);return{method:"GET",url:"".concat(p,"/yp/").concat(i,"?").concat(o),validBidRequests:e,queryParams:r}},interpretResponse:function(e,t){var n=[],r=Date.now(),i=t.queryParams;return t.validBidRequests.forEach((function(t){if(e.body){var d,u,l=o()(e.body,(function(e){return t.params.adslotId==e.id}));if(l){var f=2!==t.sizes.length||Object(a.isArray)(t.sizes[0])?t.sizes[0]:t.sizes,b=void 0!==t.params.adSize?m(t.params.adSize):void 0!==l.adsize?m(l.adsize):f,h=void 0!==t.params.extId?"&id="+t.params.extId:"",y=void 0!==l.adtype?l.adtype:"",g=i.gdpr?"&gdpr="+i.gdpr:"",w=i.consent?"&consent="+i.consent:"",j=void 0!==l.pvid?"&pvid="+l.pvid:"",I=i.iab_content?"&iab_content="+i.iab_content:"",O={requestId:t.bidId,cpm:l.price/100,width:b[0],height:b[1],creativeId:""+l.id,dealId:l["c.dealid"]?l["c.dealid"]:l.pid,currency:"EUR",netRevenue:!1,ttl:300,referrer:"",ad:'<script src="'.concat(p,"/d/").concat(l.id,"/").concat(t.params.supplyId,"/?ts=").concat(r).concat(h).concat(g).concat(w).concat(j).concat(I,'"><\/script>'),meta:{advertiserDomains:l.advertiser?l.advertiser:"n/a"}};if(d=t,u=y,Object(a.deepAccess)(d,"mediaTypes.video")&&"video"===u.toLowerCase()){var C=function(e){var t=Object(a.deepAccess)(e,"mediaTypes.video.playerSize");return t&&Object(a.isArray)(t[0])?t[0]:t}(t);if(C&&(O.width=C[0],O.height=C[1]),O.mediaType=c.d,O.vastUrl="".concat(p,"/d/").concat(l.id,"/").concat(t.params.supplyId,"/?ts=").concat(r).concat(h).concat(g).concat(w).concat(j).concat(I),function(e){return"outstream"===Object(a.deepAccess)(e,"mediaTypes.video.context")}(t)){var A=s.a.install({id:t.bidId,url:"https://ad.adition.com/dynamic.ad?a=o193092&ma_loadEvent=ma-start-event",loaded:!1});A.setRender(v),O.renderer=A}}if(function(e,t){return Object(a.deepAccess)(e,"mediaTypes.native")&&"native"===t.toLowerCase()}(t,y)){var P="".concat(p,"/d/").concat(l.id,"/").concat(t.params.supplyId,"/?ts=").concat(r).concat(h).concat(g).concat(w).concat(j);O.adUrl=P,O.mediaType=c.c;var R=o()(l.native.assets,(function(e){return 2===e.id})),U=R?R.img:{url:"",w:0,h:0},_=o()(l.native.assets,(function(e){return 1===e.id})),z=o()(l.native.assets,(function(e){return 3===e.id}));O.native={title:_?_.title.text:"",body:z?z.data.value:"",image:{url:U.url,width:U.w,height:U.h},clickUrl:l.native.link.url,impressionTrackers:l.native.imptrackers}}n.push(O)}}})),n}};function m(e){return e.split("x").map(Number)}function v(e){e.renderer.push((function(){window.ma_width=e.width,window.ma_height=e.height,window.ma_vastUrl=e.vastUrl,window.ma_container=e.adUnitCode,window.document.dispatchEvent(new Event("ma-start-event"))}))}Object(r.registerBidder)(u),window.pbjs.installedModules.push("yieldlabBidAdapter")}},[843]);