pbjsChunk([291],{316:function(e,r,t){e.exports=t(317)},317:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return y}));var n=t(2),a=t(0);function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}(e,r)||s(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r){if(e){if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var l=t(1).registerBidder,d=[[100,75],[236,202],[100,100],[130,130],[200,200],[250,250],[300,272],[300,250],[300,230],[300,214],[300,187],[300,166],[300,150],[300,133],[300,120],[400,200],[300,200],[250,377],[620,410],[207,311],[310,166],[310,333],[190,106],[228,132],[300,174],[80,60],[600,500],[600,600],[1080,610],[1080,610],[624,350],[650,1168],[1080,1920],[300,374],[336,280]];function u(e,r){if(e.params.pageUrl&&"[PAGE_URL]"!=e.params.pageUrl)return e.params.pageUrl;if(r&&r.refererInfo&&r.refererInfo.referer)return r.refererInfo.referer;var t=function(){try{var e=window.self!==window.top}catch(r){e=!0}return e}()&&document.referrer?document.referrer:window.location.href;return encodeURIComponent(t)}function p(e){return-1===e.thumbnail_path.indexOf("http")?"https:"+e.thumbnail_path:e.thumbnail_path}function m(e,r){var t=[r.viewPxl];if(!e.trackers)return t;var n=e.trackers.impressionPixels||[],a=e.trackers.viewPixels||[];return[].concat(o(n),o(a),t)}function f(e){return e.sizes&&e.sizes.length>0?e.sizes[0]:e.nativeParams&&e.nativeParams.image&&e.nativeParams.image.sizes?e.nativeParams.image.sizes:[-1,-1]}var y={code:"engageya",supportedMediaTypes:[n.b,n.c],isBidRequestValid:function(e){return e&&e.params&&e.params.hasOwnProperty("widgetId")&&e.params.hasOwnProperty("websiteId")&&!isNaN(e.params.widgetId)&&!isNaN(e.params.websiteId)&&(r=f(e),t=i(r,2),n=t[0],a=t[1],!(!n||!a)&&d.some((function(e){var r=i(e,2),t=r[0],o=r[1];return t===n&&o===a})));var r,t,n,a},buildRequests:function(e,r){return e?e.map((function(e){if(e.params){var t=e.hasOwnProperty("nativeParams")?1:2,n=i(f(e),2),a=n[0],o=n[1],s=e.params.widgetId,c="https://recs.engageya.com/rec-api/getrecs.json?pubid=0&webid="+e.params.websiteId+"&wid="+s+"&url="+u(e,r)+"&ireqid="+e.bidId+"&pbtpid="+t+"&imw="+a+"&imh="+o;return r&&r.gdprConsent&&r.gdprApplies&&r.consentString&&(c+="&is_gdpr=1&gdpr_consent="+r.consentString),{url:c,method:"GET",data:""}}})).filter(Boolean):[]},interpretResponse:function(e,r){if(!e.body||!e.body.recs||!e.body.recs.length)return[];var t=e.body,n=1==t.pbtypeId;return t.recs.map((function(e){var r={requestId:t.ireqId,width:t.imageWidth,height:t.imageHeight,creativeId:e.postId,cpm:e.pecpm||e.ecpm/100,currency:"USD",netRevenue:!!e.pecpm,ttl:360,meta:{advertiserDomains:e.domain?[e.domain]:[]}};return n?r.native=function(e,r){return{title:e.title,body:"",image:{url:p(e),width:r.imageWidth,height:r.imageHeight},privacyLink:"",clickUrl:e.clickUrl,displayUrl:e.url,cta:"",sponsoredBy:e.displayName,impressionTrackers:m(e,r)}}(e,t):r.ad=function(e,r){if(e.tag)return e.tag;var t;try{var n=JSON.parse(r.widget.additionalData).css||"";t=n?"<style>".concat(n,"</style>"):""}catch(e){t=""}var i=e.title&&e.title.trim()?'<div class="eng_tag_ttl" style="display: none">'.concat(e.title,"</div>"):"",o=e.displayName&&i?'<div class="eng_tag_brnd" style="display: none">'.concat(e.displayName,"</div>"):"",s=m(e,r).map(a.createTrackPixelHtml).join("");return"<html><body>".concat(t,'<div id="ENG_TAG"><a href="').concat(e.clickUrl,'" target=_blank><img class="eng_tag_img" src="').concat(p(e),'" style="width:').concat(r.imageWidth,"px;height:").concat(r.imageHeight,'px;" alt="').concat(e.title,'"/>').concat(o).concat(i,"</a>").concat(s,"</div></body></html>")}(e,t),r}))}};l(y),window.pbjs.installedModules.push("engageyaBidAdapter")}},[316]);