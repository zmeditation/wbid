pbjsChunk([147],{686:function(n,i,e){n.exports=e(687)},687:function(n,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isSchainObjectValid=h,i.isValidSchainConfig=u,i.makeBidRequestsHook=l,i.init=O;var t=e(3),c=e(9),o=e(0),s="Invalid schain object found: ",a=" should be a string",r=" should be an Integer",d=" should be an object",f={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},b=[];function h(n,i){var e="Detected something wrong within an schain config:",t="";function c(n){t+="\n"+n}function s(){!0===i?Object(o.logError)(e,n,t):Object(o.logWarn)(e,n,t)}if(!Object(o.isPlainObject)(n)&&(c("schain.config"+d),s(),i))return!1;if(Object(o.isNumber)(n.complete)&&Object(o.isInteger)(n.complete)||c("schain.config.complete"+r),Object(o.isStr)(n.ver)||c("schain.config.ver"+a),Object(o.hasOwn)(n,"ext")&&(Object(o.isPlainObject)(n.ext)||c("schain.config.ext"+d)),Object(o.isArray)(n.nodes))n.nodes.forEach((function(n,i){Object(o.isStr)(n.asi)||c("schain.config.nodes[".concat(i,"].asi")+a),Object(o.isStr)(n.sid)||c("schain.config.nodes[".concat(i,"].sid")+a),Object(o.isNumber)(n.hp)&&Object(o.isInteger)(n.hp)||c("schain.config.nodes[".concat(i,"].hp")+r),Object(o.hasOwn)(n,"rid")&&(Object(o.isStr)(n.rid)||c("schain.config.nodes[".concat(i,"].rid")+a)),Object(o.hasOwn)(n,"name")&&(Object(o.isStr)(n.name)||c("schain.config.nodes[".concat(i,"].name")+a)),Object(o.hasOwn)(n,"domain")&&(Object(o.isStr)(n.domain)||c("schain.config.nodes[".concat(i,"].domain")+a)),Object(o.hasOwn)(n,"ext")&&(Object(o.isPlainObject)(n.ext)||c("schain.config.nodes[".concat(i,"].ext")+d))}));else if(c("schain.config.nodes should be an Array"),s(),i)return!1;return!(t.length>0&&(s(),i))}function u(n){return void 0!==n&&(!!Object(o.isPlainObject)(n)||(Object(o.logError)(s+"the following schain config will not be used as schain is not an object.",n),!1))}function l(n,i){var e=t.b.getConfig("schain"),c=t.b.getBidderConfig();i.forEach((function(n){var i=n.bidderCode,t=function(n){return c[n]&&c[n].schain||e}(i);n.bids.forEach((function(n){var e=function(n,i){var e=f.STRICT;if(u(n)){if(Object(o.isStr)(n.validation)&&-1!=b.indexOf(n.validation)&&(e=n.validation),e===f.OFF)return n.config;if(h(n.config,!(e!==f.STRICT)))return n.config;Object(o.logError)(s+"due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(i,"'.  See above error for details."))}return null}(t,i);e&&(n.schain=e)}))})),n(i)}function O(){c.default.makeBidRequests.after(l)}Object(o._each)(f,(function(n){return b.push(n)})),O(),window.pbjs.installedModules.push("schain")}},[686]);