pbjsChunk([70],{163:function(e,n,t){e.exports=t(164)},164:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"ANALYTICS_VERSION",(function(){return p})),t.d(n,"BIDDER_STATUS",(function(){return v})),t.d(n,"getCpmInUsd",(function(){return T})),t.d(n,"parseBidderCode",(function(){return I})),t.d(n,"parseAdUnitCode",(function(){return m})),t.d(n,"appierAnalyticsAdapter",(function(){return E}));var i=t(4),o=t(6),a=t(5),r=t.n(a),s=t(9),c=t(14),u=t(0);function d(){return(d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var p="1.0.0",f="https://prebid-analytics.c.appier.net/v1",l=r.a.EVENTS,g=l.AUCTION_END,y=l.BID_WON,h=l.BID_TIMEOUT,v={BID:"bid",NO_BID:"noBid",BID_WON:"bidWon",TIMEOUT:"timeout"},T=function(e){return"USD"===e.currency?e.cpm:e.getCpmInNewCurrency("USD")},b={},I=function(e){return(e.bidderCode||e.bidder).toLowerCase()},m=function(e){return e.adUnitCode.toLowerCase()},E=d(Object(o.a)({DEFAULT_SERVER:f,analyticsType:"endpoint"}),{cachedAuctions:{},initConfig:function(e){return b.options=Object(u.deepClone)(e.options),"string"!=typeof e.options.affiliateId||e.options.affiliateId.length<1?(Object(u.logError)('"options.affiliateId" is required.'),!1):"string"!=typeof e.options.configId||e.options.configId.length<1?(Object(u.logError)('"options.configId" is required.'),!1):(b.affiliateId=e.options.affiliateId,b.configId=e.options.configId,b.server=e.options.server||f,b.sampled=!0,"number"==typeof e.options.sampling&&(b.sampled=Math.random()<parseFloat(e.options.sampling)),b.adSampled=!1,"number"==typeof e.options.adSampling&&(b.adSampled=Math.random()<parseFloat(e.options.adSampling)),b.autoPick=e.options.autoPick||null,b.predictionId=e.options.predictionId||null,!0)},sendEventMessage:function(e,n){Object(u.logInfo)("AJAX: ".concat(e,": ")+JSON.stringify(n)),Object(i.a)("".concat(b.server,"/").concat(e),null,JSON.stringify(n),{contentType:"application/json",withCredentials:!0})},createCommonMessage:function(e){return{version:p,auctionId:e,affiliateId:b.affiliateId,configId:b.configId,referrer:window.location.href,sampling:b.options.sampling,adSampling:b.options.adSampling,prebid:"6.10.0-pre",autoPick:b.autoPick,predictionId:b.predictionId,adUnits:{}}},serializeBidResponse:function(e,n){var t={prebidWon:n===v.BID_WON,isTimeout:n===v.TIMEOUT,status:n};return n!==v.BID&&n!==v.BID_WON||d(t,{time:e.timeToRespond,cpm:e.cpm,currency:e.currency,originalCpm:e.originalCpm||e.cpm,cpmUsd:T(e),originalCurrency:e.originalCurrency||e.currency}),t},addBidResponseToMessage:function(e,n,t){var i=m(n);e.adUnits[i]=e.adUnits[i]||{};var o=I(n),a=this.serializeBidResponse(n,t);e.adUnits[i][o]=a},createBidMessage:function(e,n,t){var i=this,o=e.auctionId,a=e.timestamp,r=e.timeout,s=e.auctionEnd,c=e.adUnitCodes,u=e.bidsReceived,d=e.noBids,p=this.createCommonMessage(o);return p.auctionElapsed=s-a,p.timeout=r,c.forEach((function(e){p.adUnits[e]={}})),d.forEach((function(e){return i.addBidResponseToMessage(p,e,v.NO_BID)})),u.forEach((function(e){return i.addBidResponseToMessage(p,e,v.BID)})),t.forEach((function(e){return i.addBidResponseToMessage(p,e,v.TIMEOUT)})),n.forEach((function(e){var n=m(e),t=I(e);p.adUnits[n][t].prebidWon=!0})),p},createImpressionMessage:function(e){var n=this.createCommonMessage(e.auctionId);return this.addBidResponseToMessage(n,e,v.BID_WON),n},createCreativeMessage:function(e,n){var t=this.createCommonMessage(e);return n.forEach((function(e){var n=m(e),i=I(e);t.adUnits[n]=t.adUnits[n]||{},t.adUnits[n][i]={ad:e.ad}})),t},getCachedAuction:function(e){return this.cachedAuctions[e]=this.cachedAuctions[e]||{timeoutBids:[]},this.cachedAuctions[e]},handleAuctionEnd:function(e){var n=this.getCachedAuction(e.auctionId),t=Object(c.a)().getHighestCpmBids();this.sendEventMessage("bid",this.createBidMessage(e,t,n.timeoutBids)),b.adSampled&&this.sendEventMessage("cr",this.createCreativeMessage(e.auctionId,e.bidsReceived))},handleBidTimeout:function(e){var n=this;e.forEach((function(e){n.getCachedAuction(e.auctionId).timeoutBids.push(e)}))},handleBidWon:function(e){this.sendEventMessage("imp",this.createImpressionMessage(e))},track:function(e){var n=e.eventType,t=e.args;if(b.sampled)switch(n){case y:this.handleBidWon(t);break;case h:this.handleBidTimeout(t);break;case g:this.handleAuctionEnd(t)}},getAnalyticsOptions:function(){return b}});E.originEnableAnalytics=E.enableAnalytics,E.enableAnalytics=function(e){this.initConfig(e)&&E.originEnableAnalytics(e)},s.default.registerAnalyticsAdapter({adapter:E,code:"appierAnalytics"}),window.pbjs.installedModules.push("appierAnalyticsAdapter")},6:function(e,n,t){"use strict";n.a=function(e){var n,t=e.url,i=e.analyticsType,o=e.global,d=e.handler,C=[],U=0,M=!0;(function(){if(M){for(var e=0;e<C.length;e++)C[e]();C.push=function(e){e()},M=!1}Object(r.logMessage)("event count sent to ".concat(o,": ").concat(U))})();return{track:function(e){var n=e.eventType,t=e.args;this.getAdapterType()===_&&window[o](d,n,t);this.getAdapterType()===D&&S.apply(void 0,arguments)},enqueue:N,enableAnalytics:j,disableAnalytics:function(){Object(r._each)(n,(function(e,n){u.off(n,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:j},getAdapterType:function(){return i},getGlobal:function(){return o},getHandler:function(){return d},getUrl:function(){return t}};function S(e){var n=e.eventType,i=e.args,o=e.callback;Object(a.a)(t,o,JSON.stringify({eventType:n,args:i}))}function N(e){var n=e.eventType,t=e.args,i=this;o&&window[o]&&n&&t?this.track({eventType:n,args:t}):C.push((function(){U++,i.track({eventType:n,args:t})}))}function j(e){var t,i=this,a=this;"object"!==c(e)||"object"!==c(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(u.getEvents().forEach((function(e){if(e){var n=e.eventType,t=e.args;n!==y&&N.call(a,{eventType:n,args:t})}})),s(t={},l,(function(e){return i.enqueue({eventType:l,args:e})})),s(t,g,(function(e){return i.enqueue({eventType:g,args:e})})),s(t,h,(function(e){return i.enqueue({eventType:h,args:e})})),s(t,v,(function(e){return i.enqueue({eventType:v,args:e})})),s(t,y,(function(e){return i.enqueue({eventType:y,args:e})})),s(t,T,(function(e){return i.enqueue({eventType:T,args:e})})),s(t,b,(function(e){return i.enqueue({eventType:b,args:e})})),s(t,I,(function(e){return i.enqueue({eventType:I,args:e})})),s(t,m,(function(e){return i.enqueue({eventType:m,args:e})})),s(t,f,(function(e){return i.enqueue({eventType:f,args:e})})),s(t,E,(function(e){return i.enqueue({eventType:E,args:e})})),s(t,A,(function(e){return i.enqueue({eventType:A,args:e})})),s(t,O,(function(e){return i.enqueue({eventType:O,args:e})})),s(t,B,(function(e){return i.enqueue({eventType:B,args:e})})),s(t,p,(function(n){n.config="object"===c(e)&&e.options||{},i.enqueue({eventType:p,args:n})})),n=t,Object(r._each)(n,(function(e,n){u.on(n,e)}))):Object(r.logMessage)('Analytics adapter for "'.concat(o,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Object(r.logMessage)('Analytics adapter for "'.concat(o,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var i=t(5),o=t.n(i),a=t(4),r=t(0);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=t(10),d=o.a.EVENTS,p=d.AUCTION_INIT,f=d.AUCTION_END,l=d.REQUEST_BIDS,g=d.BID_REQUESTED,y=d.BID_TIMEOUT,h=d.BID_RESPONSE,v=d.NO_BID,T=d.BID_WON,b=d.BID_ADJUSTMENT,I=d.BIDDER_DONE,m=d.SET_TARGETING,E=d.AD_RENDER_FAILED,A=d.AD_RENDER_SUCCEEDED,O=d.AUCTION_DEBUG,B=d.ADD_AD_UNITS,D="endpoint",_="bundle"}},[163]);