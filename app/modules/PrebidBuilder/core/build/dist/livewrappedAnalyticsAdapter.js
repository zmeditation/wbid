pbjsChunk([53],{475:function(t,e,n){t.exports=n(476)},476:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BID_WON_TIMEOUT",(function(){return f}));var a=n(0),i=n(4),o=n(6),r=n(5),s=n.n(r),u=n(9),c=n(14);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var l,p=Object(c.a)(),f=500,b={auctions:{}},g=d(Object(o.a)({EMPTYURL:"",ANALYTICSTYPE:"endpoint"}),{track:function(t){var e=t.eventType,n=t.args,i=Object(a.timestamp)();switch(Object(a.logInfo)("LIVEWRAPPED_EVENT:",[e,n]),e){case s.a.EVENTS.AUCTION_INIT:Object(a.logInfo)("LIVEWRAPPED_AUCTION_INIT:",n),b.auctions[n.auctionId]={bids:{},bidAdUnits:{}};break;case s.a.EVENTS.BID_REQUESTED:Object(a.logInfo)("LIVEWRAPPED_BID_REQUESTED:",n),b.auctions[n.auctionId].timeStamp=n.start,n.bids.forEach((function(t){var e;b.auctions[n.auctionId].gdprApplies=n.gdprConsent?n.gdprConsent.gdprApplies:void 0,b.auctions[n.auctionId].gdprConsent=n.gdprConsent?n.gdprConsent.consentString:void 0;var i=document.getElementById(t.adUnitCode),o=i?i.getAttribute("data-adunitid"):void 0;(o=null!=o?o:void 0,t.lwflr)&&(e=t.lwflr.flr,e=(t.lwflr.bflrs?t.lwflr.bflrs[t.bidder]:void 0)||e);b.auctions[n.auctionId].bids[t.bidId]={bidder:t.bidder,adUnit:t.adUnitCode,adUnitId:o,isBid:!1,won:!1,timeout:!1,sendStatus:0,readyToSend:0,start:n.start,lwFloor:e,floorData:t.floorData,auc:t.auc,buc:t.buc,lw:t.lw},Object(a.logInfo)(t)})),Object(a.logInfo)(g.requestEvents);break;case s.a.EVENTS.BID_RESPONSE:Object(a.logInfo)("LIVEWRAPPED_BID_RESPONSE:",n);var o=b.auctions[n.auctionId].bids[n.requestId];o.isBid=n.getStatusCode()===s.a.STATUS.GOOD,o.width=n.width,o.height=n.height,o.cpm=n.cpm,o.originalCpm=p.convertCurrency(n.originalCpm,n.originalCurrency,n.currency),o.ttr=n.timeToRespond,o.readyToSend=1,o.mediaType="native"==n.mediaType?2:"video"==n.mediaType?4:1,o.floorData=n.floorData,o.ttr||(o.ttr=i-o.start),b.auctions[n.auctionId].bidAdUnits[o.adUnit]||(b.auctions[n.auctionId].bidAdUnits[o.adUnit]={sent:0,lw:o.lw,adUnitId:o.adUnitId,timeStamp:b.auctions[n.auctionId].timeStamp});break;case s.a.EVENTS.BIDDER_DONE:Object(a.logInfo)("LIVEWRAPPED_BIDDER_DONE:",n),n.bids.forEach((function(t){var e=b.auctions[t.auctionId].bids[t.bidId||t.requestId];e.ttr||(e.ttr=i-e.start),e.readyToSend=1}));break;case s.a.EVENTS.BID_WON:Object(a.logInfo)("LIVEWRAPPED_BID_WON:",n);var r=b.auctions[n.auctionId].bids[n.requestId];r.won=!0,r.floorData=n.floorData,r.rUp=n.rUp,0!=r.sendStatus&&g.sendEvents();break;case s.a.EVENTS.AD_RENDER_FAILED:Object(a.logInfo)("LIVEWRAPPED_AD_RENDER_FAILED:",n);var u=b.auctions[n.bid.auctionId].bids[n.bid.requestId];u.adRenderFailed=!0,u.reason=n.reason,u.message=n.message,0!=u.sendStatus&&g.sendEvents();break;case s.a.EVENTS.BID_TIMEOUT:Object(a.logInfo)("LIVEWRAPPED_BID_TIMEOUT:",n),n.forEach((function(t){b.auctions[t.auctionId].bids[t.bidId].timeout=!0}));break;case s.a.EVENTS.AUCTION_END:Object(a.logInfo)("LIVEWRAPPED_AUCTION_END:",n),setTimeout((function(){g.sendEvents()}),f)}}});function E(){try{return Object(a.getWindowTop)().I12C&&1===Object(a.getWindowTop)().I12C.Morph}catch(t){}}function I(t,e){var n=[];return Object.keys(b.auctions).forEach((function(a){Object.keys(b.auctions[a].bids).forEach((function(i){var o=b.auctions[a],r=v(t,o),s=T(e,a),u=o.bids[i];!u.readyToSend||2&u.sendStatus||u.timeout||(u.sendStatus|=2,n.push({timeStamp:o.timeStamp,adUnit:u.adUnit,adUnitId:u.adUnitId,bidder:u.bidder,width:u.width,height:u.height,cpm:u.cpm,orgCpm:u.originalCpm,ttr:u.ttr,IsBid:u.isBid,mediaType:u.mediaType,gdpr:r,floor:u.lwFloor?u.lwFloor:u.floorData?u.floorData.floorValue:void 0,floorCur:u.floorData?u.floorData.floorCurrency:void 0,auctionId:s,auc:u.auc,buc:u.buc,lw:u.lw}))}))})),n}function y(t,e){var n=[];return Object.keys(b.auctions).forEach((function(a){Object.keys(b.auctions[a].bids).forEach((function(i){var o=b.auctions[a],r=v(t,o),s=T(e,a),u=o.bids[i];4&u.sendStatus||!u.won||(u.sendStatus|=4,n.push({timeStamp:o.timeStamp,adUnit:u.adUnit,adUnitId:u.adUnitId,bidder:u.bidder,width:u.width,height:u.height,cpm:u.cpm,orgCpm:u.originalCpm,mediaType:u.mediaType,gdpr:r,floor:u.lwFloor?u.lwFloor:u.floorData?u.floorData.floorValue:void 0,floorCur:u.floorData?u.floorData.floorCurrency:void 0,auctionId:s,auc:u.auc,buc:u.buc,lw:u.lw,rUp:u.rUp}))}))})),n}function v(t,e){var n=0;for(n=0;n<t.length&&(t[n].gdprApplies!=e.gdprApplies||t[n].gdprConsent!=e.gdprConsent);n++);return n==t.length&&(t[n]={gdprApplies:e.gdprApplies,gdprConsent:e.gdprConsent}),n}function T(t,e){var n=0;for(n=0;n<t.length&&t[n]!=e;n++);return n==t.length&&(t[n]=e),n}function h(t){var e=[];return Object.keys(b.auctions).forEach((function(n){var a=T(t,n);Object.keys(b.auctions[n].bids).forEach((function(t){var i=b.auctions[n],o=i.bids[t];8&o.sendStatus||!o.timeout||(o.sendStatus|=8,e.push({bidder:o.bidder,adUnit:o.adUnit,adUnitId:o.adUnitId,timeStamp:i.timeStamp,auctionId:a,auc:o.auc,buc:o.buc,lw:o.lw}))}))})),e}function m(t){var e=[];return Object.keys(b.auctions).forEach((function(n){var a=T(t,n);Object.keys(b.auctions[n].bids).forEach((function(t){var i=b.auctions[n],o=i.bids[t];16&o.sendStatus||!o.adRenderFailed||(o.sendStatus|=16,e.push({bidder:o.bidder,adUnit:o.adUnit,adUnitId:o.adUnitId,timeStamp:i.timeStamp,auctionId:a,auc:o.auc,buc:o.buc,lw:o.lw,rsn:o.reason,msg:o.message}))}))})),e}function D(){var t=[];return Object.keys(b.auctions).forEach((function(e){var n=b.auctions[e];Object.keys(n.bidAdUnits).forEach((function(e){var a=n.bidAdUnits[e];a.sent||(a.sent=1,t.push({adUnit:e,adUnitId:a.adUnitId,timeStamp:a.timeStamp,lw:a.lw}))}))})),t}g.originEnableAnalytics=g.enableAnalytics,g.allRequestEvents=[],g.enableAnalytics=function(t){l=t.options,g.originEnableAnalytics(t)},g.sendEvents=function(){var t=function(){var t=[],e=[],n=[];return Object.keys(b.auctions).forEach((function(a){var i=b.auctions[a],o=v(e,i),r=T(n,a);Object.keys(b.auctions[a].bids).forEach((function(e){var n=i.bids[e];1&n.sendStatus||(n.sendStatus|=1,t.push({timeStamp:i.timeStamp,adUnit:n.adUnit,adUnitId:n.adUnitId,bidder:n.bidder,gdpr:o,floor:n.lwFloor,auctionId:r,auc:n.auc,buc:n.buc,lw:n.lw}))}))})),{gdpr:e,auctionIds:n,sentRequests:t}}(),e={publisherId:l.publisherId,gdpr:t.gdpr,auctionIds:t.auctionIds,requests:t.sentRequests,responses:I(t.gdpr,t.auctionIds),wins:y(t.gdpr,t.auctionIds),timeouts:h(t.auctionIds),bidAdUnits:D(),rf:m(t.auctionIds),rcv:E()};0==e.requests.length&&0==e.responses.length&&0==e.wins.length&&0==e.timeouts.length&&0==e.rf.length||Object(i.a)(l.endpoint||"https://lwadm.com/analytics/10",void 0,JSON.stringify(e),{method:"POST"})},u.default.registerAnalyticsAdapter({adapter:g,code:"livewrapped"}),e.default=g,window.pbjs.installedModules.push("livewrappedAnalyticsAdapter")},6:function(t,e,n){"use strict";e.a=function(t){var e,n=t.url,a=t.analyticsType,i=t.global,d=t.handler,_=[],w=0,j=!0;(function(){if(j){for(var t=0;t<_.length;t++)_[t]();_.push=function(t){t()},j=!1}Object(r.logMessage)("event count sent to ".concat(i,": ").concat(w))})();return{track:function(t){var e=t.eventType,n=t.args;this.getAdapterType()===A&&window[i](d,e,n);this.getAdapterType()===U&&N.apply(void 0,arguments)},enqueue:C,enableAnalytics:R,disableAnalytics:function(){Object(r._each)(e,(function(t,e){c.off(e,t)})),this.enableAnalytics=this._oldEnable?this._oldEnable:R},getAdapterType:function(){return a},getGlobal:function(){return i},getHandler:function(){return d},getUrl:function(){return n}};function N(t){var e=t.eventType,a=t.args,i=t.callback;Object(o.a)(n,i,JSON.stringify({eventType:e,args:a}))}function C(t){var e=t.eventType,n=t.args,a=this;i&&window[i]&&e&&n?this.track({eventType:e,args:n}):_.push((function(){w++,a.track({eventType:e,args:n})}))}function R(t){var n,a=this,o=this;"object"!==u(t)||"object"!==u(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(c.getEvents().forEach((function(t){if(t){var e=t.eventType,n=t.args;e!==g&&C.call(o,{eventType:e,args:n})}})),s(n={},f,(function(t){return a.enqueue({eventType:f,args:t})})),s(n,b,(function(t){return a.enqueue({eventType:b,args:t})})),s(n,E,(function(t){return a.enqueue({eventType:E,args:t})})),s(n,I,(function(t){return a.enqueue({eventType:I,args:t})})),s(n,g,(function(t){return a.enqueue({eventType:g,args:t})})),s(n,y,(function(t){return a.enqueue({eventType:y,args:t})})),s(n,v,(function(t){return a.enqueue({eventType:v,args:t})})),s(n,T,(function(t){return a.enqueue({eventType:T,args:t})})),s(n,h,(function(t){return a.enqueue({eventType:h,args:t})})),s(n,p,(function(t){return a.enqueue({eventType:p,args:t})})),s(n,m,(function(t){return a.enqueue({eventType:m,args:t})})),s(n,D,(function(t){return a.enqueue({eventType:D,args:t})})),s(n,S,(function(t){return a.enqueue({eventType:S,args:t})})),s(n,O,(function(t){return a.enqueue({eventType:O,args:t})})),s(n,l,(function(e){e.config="object"===u(t)&&t.options||{},a.enqueue({eventType:l,args:e})})),e=n,Object(r._each)(e,(function(t,e){c.on(e,t)}))):Object(r.logMessage)('Analytics adapter for "'.concat(i,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Object(r.logMessage)('Analytics adapter for "'.concat(i,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var a=n(5),i=n.n(a),o=n(4),r=n(0);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c=n(10),d=i.a.EVENTS,l=d.AUCTION_INIT,p=d.AUCTION_END,f=d.REQUEST_BIDS,b=d.BID_REQUESTED,g=d.BID_TIMEOUT,E=d.BID_RESPONSE,I=d.NO_BID,y=d.BID_WON,v=d.BID_ADJUSTMENT,T=d.BIDDER_DONE,h=d.SET_TARGETING,m=d.AD_RENDER_FAILED,D=d.AD_RENDER_SUCCEEDED,S=d.AUCTION_DEBUG,O=d.ADD_AD_UNITS,U="endpoint",A="bundle"}},[475]);