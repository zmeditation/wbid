pbjsChunk([310],{278:function(e,t,o){e.exports=o(279)},279:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"storage",(function(){return l})),o.d(t,"criteoIdSubmodule",(function(){return h}));var n=o(0),c=o(4),r=o(18),i=o(8),a=o(7),d="criteo",l=Object(a.b)(91,d),u="cto_bidid",s="cto_bundle",b=new Date(0).toString(),p=new Date(Object(n.timestamp)()+33696e6).toString();function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=Object(n.parseUrl)(e,{noDecodeWholeURL:!0});return t?"".concat(o.hostname):"".concat(o.protocol,"://").concat(o.hostname).concat(o.port?":"+o.port:"","/")}function g(e){return l.getCookie(e)||l.getDataFromLocalStorage(e)}function m(e,t,o){e&&t&&(l.setDataInLocalStorage(e,t),I(e,t,p,o,!0))}function I(e,t,o,n,c){for(var r=n.split("."),i=0;i<r.length;++i){var a=r.slice(r.length-i-1,r.length).join(".");try{if(l.setCookie(e,t,o,null,"."+a),c){var d=l.getCookie(e);if(d&&d===t)break}}catch(e){}}}function v(e,t,o){var i=l.cookiesAreEnabled(),a=l.localStorageIsEnabled(),d=f(Object(r.a)().referer),p=f(document.location.href,!0),g="undefined"!=typeof criteo_pubtag,v=function(e,t,o,n,c,r,i){return"https://gum.criteo.com/sid/json?origin=prebid"+"".concat(e?"&topUrl="+encodeURIComponent(e):"")+"".concat(t?"&domain="+encodeURIComponent(t):"")+"".concat(o?"&bundle="+encodeURIComponent(o):"")+"".concat(i?"&gdprString="+encodeURIComponent(i):"")+"".concat(n?"&cw=1":"")+"".concat(r?"&pbt=1":"")+"".concat(c?"&lsw=1":"")}(d,p,e.bundle,i,a,g,t),h={success:function(e){var t,c=JSON.parse(e);c.acwsUrl?("string"==typeof c.acwsUrl?[c.acwsUrl]:c.acwsUrl).forEach((function(e){return Object(n.triggerPixel)(e)})):c.bundle&&m(s,c.bundle,p);if(c.bidId){m(u,c.bidId,p);var r={criteoId:c.bidId};o(r)}else I(t=u,"",b,p,!0),l.removeDataFromLocalStorage(t),o()},error:function(e){Object(n.logError)("criteoIdSystem: unable to sync user id",e),o()}};Object(c.a)(v,h,void 0,{method:"GET",contentType:"application/json",withCredentials:!0})}var h={name:d,gvlid:91,decode:function(e){return e},getId:function(e,t){var o=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?t.consentString:void 0,n={bundle:g(s),bidId:g(u)};return{id:n.bidId?{criteoId:n.bidId}:void 0,callback:function(e){return v(n,o,e)}}}};Object(i.e)("userId",h),window.pbjs.installedModules.push("criteoIdSystem")}},[278]);