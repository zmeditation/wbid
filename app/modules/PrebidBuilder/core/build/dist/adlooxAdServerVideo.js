pbjsChunk([8],{27:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"COMMAND",(function(){return A})),e.command=function(t,e,n){var o=Object(p.getUniqueIdentifierStr)();E[o]={cmd:t,data:e,callback:function(){delete E[o],n&&n.apply(null,arguments)}},m.context&&h(o)};var o=n(9),r=n(6),i=n(21),a=n(16),c=n(19),l=n(5),s=n.n(l),u=n(11),d=n.n(u),p=n(0);function b(){return(b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var f="adlooxAnalyticsAdapter",g=2,v=6,O={client:function(t,e){return e.client},clientid:function(t,e){return e.clientid},tagid:function(t,e){return e.tagid},platformid:function(t,e){return e.platformid},targetelt:function(t,e){return e.toselector(t)},creatype:function(t,e){return"video"==t.mediaType?v:g},pbadslot:function(t,e){var n=d()(a.a.getAdUnits(),(function(e){return t.adUnitCode===e.code}));return Object(p.deepAccess)(n,"ortb2Imp.ext.data.pbadslot")||Object(p.getGptSlotInfoForAdUnitCode)(t.adUnitCode).gptSlot||t.adUnitCode}};O.pbAdSlot=O.pbadslot;var j={id1:function(t){return t.adUnitCode},id2:"%%pbadslot%%",id3:function(t){return t.bidder},id4:function(t){return t.adId},id5:function(t){return t.dealId},id6:function(t){return t.creativeId},id7:function(t){return t.size},id11:"$ADLOOX_WEBSITE"},y=function(){},m=b(Object(r.a)({analyticsType:"endpoint"}),{track:function(t){var e=t.eventType,n=t.args;m["handle_".concat(e)]&&(Object(p.logInfo)(f,"track",e,n),m["handle_".concat(e)](n))}});m.context=null,m.originEnableAnalytics=m.enableAnalytics,m.enableAnalytics=function(t){m.context=null,Object(p.logInfo)(f,"config",t),Object(p.isPlainObject)(t.options)?void 0===t.options.js||Object(p.isStr)(t.options.js)?void 0===t.options.toselector||Object(p.isFn)(t.options.toselector)?Object(p.isStr)(t.options.client)?Object(p.isNumber)(t.options.clientid)?Object(p.isNumber)(t.options.tagid)?Object(p.isNumber)(t.options.platformid)?void 0===t.options.params||Object(p.isPlainObject)(t.options.params)?(m.context={js:t.options.js||"https://j.adlooxtracking.com/ads/js/tfav_adl_%%clientid%%.js",toselector:t.options.toselector||function(t){var e=Object(p.getGptSlotInfoForAdUnitCode)(t.adUnitCode).divId||t.adUnitCode;return e=e.replace(/^\d/,"\\3$& "),"#".concat(e)},client:t.options.client,clientid:t.options.clientid,tagid:t.options.tagid,platformid:t.options.platformid,params:[]},t.options.params=Object(p.mergeDeep)({},j,t.options.params||{}),Object.keys(t.options.params).forEach((function(e){Array.isArray(t.options.params[e])||(t.options.params[e]=[t.options.params[e]]),t.options.params[e].forEach((function(t){return m.context.params.push([e,t])}))})),Object.keys(E).forEach(h),m.originEnableAnalytics(t)):Object(p.logError)(f,"invalid params options value"):Object(p.logError)(f,"invalid platformid options value"):Object(p.logError)(f,"invalid tagid options value"):Object(p.logError)(f,"invalid clientid options value"):Object(p.logError)(f,"invalid client options value"):Object(p.logError)(f,"invalid toselector options value"):Object(p.logError)(f,"invalid js options value"):Object(p.logError)(f,"missing options")},m.originDisableAnalytics=m.disableAnalytics,m.disableAnalytics=function(){m.context=null,m.originDisableAnalytics()},m.url=function(t,e,n){var o=function(t){return t.replace(/%%([a-z]+)%%/gi,(function(t,e){return O[e]?O[e](n,m.context):t}))};t=o(t);for(var r=(e=e||[]).length;r-- >0;){if(Object(p.isFn)(e[r][1]))try{e[r][1]=e[r][1](n)}catch(t){Object(p.logError)(f,"macro",e[r][0],t.message),e[r][1]="ERROR: ".concat(t.message)}Object(p.isStr)(e[r][1])&&(e[r][1]=o(e[r][1]))}return t+function(t){function e(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)}))}for(var n=[],o=t.length;o-- >0;)void 0!==t[o][1]&&null!==t[o][1]&&!1!==t[o][1]&&n.unshift(e(t[o][0])+(!0!==t[o][1]?"="+e(t[o][1]):""));return n.join("&")}(e)},m["handle_".concat(s.a.EVENTS.AUCTION_END)]=function(t){if(t.auctionStatus==c.a&&t.bidsReceived.length>0){m["handle_".concat(s.a.EVENTS.AUCTION_END)]=y,Object(p.logMessage)(f,"preloading verification JS");var e=Object(p.parseUrl)(m.url("".concat(m.context.js,"#"))),n=document.createElement("link");n.setAttribute("href","".concat(e.protocol,"://").concat(e.host).concat(e.pathname)),n.setAttribute("rel","preload"),n.setAttribute("as","script"),Object(p.insertElement)(n)}},m["handle_".concat(s.a.EVENTS.BID_WON)]=function(t){if(Object(p.deepAccess)(t,"ext.adloox.video.adserver"))Object(p.logMessage)(f,"measuring '".concat(t.mediaType,"' ad unit code '").concat(t.adUnitCode,"' via Ad Server module"));else{var e,n=m.context.toselector(t);try{e=document.querySelector(n)}catch(t){}if(e){Object(p.logMessage)(f,"measuring '".concat(t.mediaType,"' unit at '").concat(t.adUnitCode,"'"));var o=m.context.params.concat([["tagid","%%tagid%%"],["platform","%%platformid%%"],["fwtype",4],["targetelt","%%targetelt%%"],["creatype","%%creatype%%"]]);Object(i.a)(m.url("".concat(m.context.js,"#"),o,t),"adloox")}else Object(p.logWarn)(f,"unable to find ad unit code '".concat(t.adUnitCode,"' slot using selector '").concat(n,"' (use options.toselector to change), ignoring"))}},o.default.registerAnalyticsAdapter({adapter:m,code:"adloox",gvlid:93}),e.default=m;var E={},A={CONFIG:"config",TOSELECTOR:"toselector",URL:"url",TRACK:"track"};function h(t){var e=E[t],n=e.cmd,o=e.data,r=e.callback;switch(Object(p.logInfo)(f,"command",n,o),n){case A.CONFIG:r({client:m.context.client,clientid:m.context.clientid,tagid:m.context.tagid,platformid:m.context.platformid});break;case A.TOSELECTOR:r(m.context.toselector(o.bid));break;case A.URL:o.ids&&(o.args=o.args.concat(m.context.params.filter((function(t){return/^id([1-9]|10)$/.test(t[0])})))),r(m.url(o.url,o.args,o.bid));break;case A.TRACK:m.track(o),r();break;default:Object(p.logWarn)(f,"command unknown",n)}}window.pbjs.installedModules.push("adlooxAnalyticsAdapter")},6:function(t,e,n){"use strict";e.a=function(t){var e,n=t.url,o=t.analyticsType,r=t.global,u=t.handler,x=[],U=0,D=!0;(function(){if(D){for(var t=0;t<x.length;t++)x[t]();x.push=function(t){t()},D=!1}Object(a.logMessage)("event count sent to ".concat(r,": ").concat(U))})();return{track:function(t){var e=t.eventType,n=t.args;this.getAdapterType()===I&&window[r](u,e,n);this.getAdapterType()===_&&C.apply(void 0,arguments)},enqueue:N,enableAnalytics:k,disableAnalytics:function(){Object(a._each)(e,(function(t,e){s.off(e,t)})),this.enableAnalytics=this._oldEnable?this._oldEnable:k},getAdapterType:function(){return o},getGlobal:function(){return r},getHandler:function(){return u},getUrl:function(){return n}};function C(t){var e=t.eventType,o=t.args,r=t.callback;Object(i.a)(n,r,JSON.stringify({eventType:e,args:o}))}function N(t){var e=t.eventType,n=t.args,o=this;r&&window[r]&&e&&n?this.track({eventType:e,args:n}):x.push((function(){U++,o.track({eventType:e,args:n})}))}function k(t){var n,o=this,i=this;"object"!==l(t)||"object"!==l(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(s.getEvents().forEach((function(t){if(t){var e=t.eventType,n=t.args;e!==g&&N.call(i,{eventType:e,args:n})}})),c(n={},b,(function(t){return o.enqueue({eventType:b,args:t})})),c(n,f,(function(t){return o.enqueue({eventType:f,args:t})})),c(n,v,(function(t){return o.enqueue({eventType:v,args:t})})),c(n,O,(function(t){return o.enqueue({eventType:O,args:t})})),c(n,g,(function(t){return o.enqueue({eventType:g,args:t})})),c(n,j,(function(t){return o.enqueue({eventType:j,args:t})})),c(n,y,(function(t){return o.enqueue({eventType:y,args:t})})),c(n,m,(function(t){return o.enqueue({eventType:m,args:t})})),c(n,E,(function(t){return o.enqueue({eventType:E,args:t})})),c(n,p,(function(t){return o.enqueue({eventType:p,args:t})})),c(n,A,(function(t){return o.enqueue({eventType:A,args:t})})),c(n,h,(function(t){return o.enqueue({eventType:h,args:t})})),c(n,T,(function(t){return o.enqueue({eventType:T,args:t})})),c(n,S,(function(t){return o.enqueue({eventType:S,args:t})})),c(n,d,(function(e){e.config="object"===l(t)&&t.options||{},o.enqueue({eventType:d,args:e})})),e=n,Object(a._each)(e,(function(t,e){s.on(e,t)}))):Object(a.logMessage)('Analytics adapter for "'.concat(r,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Object(a.logMessage)('Analytics adapter for "'.concat(r,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var o=n(5),r=n.n(o),i=n(4),a=n(0);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=n(10),u=r.a.EVENTS,d=u.AUCTION_INIT,p=u.AUCTION_END,b=u.REQUEST_BIDS,f=u.BID_REQUESTED,g=u.BID_TIMEOUT,v=u.BID_RESPONSE,O=u.NO_BID,j=u.BID_WON,y=u.BID_ADJUSTMENT,m=u.BIDDER_DONE,E=u.SET_TARGETING,A=u.AD_RENDER_FAILED,h=u.AD_RENDER_SUCCEEDED,T=u.AUCTION_DEBUG,S=u.ADD_AD_UNITS,_="endpoint",I="bundle"},76:function(t,e,n){t.exports=n(77)},77:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildVideoUrl=p;var o=n(31),r=n(27),i=n(4),a=n(5),c=n.n(a),l=n(23),s=n(0),u="adlooxAdserverVideo",d="https://j.adlooxtracking.com/ads/vast/tag.php";function p(t,e){return Object(s.logInfo)(u,"buildVideoUrl",t),Object(s.isFn)(e)?Object(s.isPlainObject)(t)?void 0===t.url_vast||Object(s.isStr)(t.url_vast)?Object(s.isPlainObject)(t.adUnit)||Object(s.isPlainObject)(t.bid)?Object(s.isStr)(t.url)?void 0===t.wrap||Object(s.isBoolean)(t.wrap)?void 0===t.blob||Object(s.isBoolean)(t.blob)?(t.bid=t.bid||l.d.getWinningBids(t.adUnit.code)[0],Object(s.deepSetValue)(t.bid,"ext.adloox.video.adserver",!0),!1!==t.wrap?function(t,e){var n=[];function o(o){function i(t){if(t&&"VAST"==t.documentElement.tagName){var e=t.querySelectorAll("Ad");if(e.length)return Array.prototype.slice.call(e).sort((function(t,e){return parseInt(t.getAttribute("sequence"),10)-parseInt(e.getAttribute("sequence"),10)})).shift();Object(s.logError)(u,"no VAST ads, using non-wrapped tracking")}else Object(s.logError)(u,"not a VAST tag, using non-wrapped tracking")}function c(t){return t.querySelector("VASTAdTagURI")}function l(t){return Date.parse("1970-01-01 "+t+"Z")/1e3}function p(){if(n.length>0&&!1!==t.blob){for(var e=[],o=n.length-1;o-- >0;){c(i(n[o].xml)).textContent=u(n[o+1])}t.url=u(n[0]);var r=Object(s.timestamp)()-60*(new Date).getTimezoneOffset()*1e3,a=1e3*t.bid.ttl-(r-t.bid.responseTimestamp),l=Math.max(3e4,a);setTimeout((function(){e.forEach((function(t){return URL.revokeObjectURL(t)}))}),l)}function u(t){var n=(new XMLSerializer).serializeToString(t.xml),o=URL.createObjectURL(new Blob([n],{type:t.type}));return e.push(o),o}}if(!o)return p(),b(t,e);var f=i(o.xml);if(!f)return p(),b(t,e);n.push(o);var g=c(f);if(g)return n.length>5?(Object(s.logWarn)(u,"got wrapped tag at depth ".concat(n.length,", not continuing")),p(),b(t,e)):a(g.textContent.trim());p();var v,O=n[0].xml.documentElement.getAttribute("version"),j=f.querySelector("MediaFiles > MediaFile[apiFramework='VPAID'][type='application/javascript']"),y=l(f.querySelector("Duration").textContent.trim()),m=f.querySelector("Linear").getAttribute("skipoffset");m&&(v=l(m.trim()));var E=[["client","%%client%%"],["platform_id","%%platformid%%"],["scriptname","adl_%%clientid%%"],["tag_id","%%tagid%%"],["fwtype",4],["vast",t.url],["id11","video"],["id12","$ADLOOX_WEBSITE"],["id18",!v||v>=y?"fd":"od"],["id19","na"],["id20","na"]];O&&3!=O&&E.push(["version",O]),j&&E.push(["vpaid",1]),15!=y&&E.push(["duration",y]),v&&E.push(["skip",v]),Object(s.logInfo)(u,"processed VAST tag chain of depth ".concat(n.depth,", running callback")),Object(r.command)(r.COMMAND.URL,{url:(t.url_vast||d)+"?",args:E,bid:t.bid,ids:!0},e)}function a(t,e){Object(s.logInfo)(u,"fetching VAST ".concat(t)),Object(i.a)(t,{success:function(t,e){o({type:e.getResponseHeader("content-type"),xml:e.responseXML})},error:function(n,r){if(!e)return Object(s.logWarn)(u,"unable to download (".concat(n,"), suspected CORS withCredentials problem, retrying without")),a(t,!0);Object(s.logError)(u,"failed to fetch (".concat(n,"), using non-wrapped tracking")),o()}},void 0,{withCredentials:!e})}a(t.url)}(t,e):b(t,e),!0):(Object(s.logError)(u,"invalid blob options value"),!1):(Object(s.logError)(u,"invalid wrap options value"),!1):(Object(s.logError)(u,"invalid url options value"),!1):(Object(s.logError)(u,"requires either 'adUnit' or 'bid' options value"),!1):(Object(s.logError)(u,"invalid url_vast options value"),!1):(Object(s.logError)(u,"missing options"),!1):(Object(s.logError)(u,"invalid callback"),!1)}function b(t,e){e(t.url);var n=Object(s.deepClone)(t.bid);n.ext.adloox.video.adserver=!1,Object(r.command)(r.COMMAND.TRACK,{eventType:c.a.EVENTS.BID_WON,args:n})}Object(o.a)("adloox",{buildVideoUrl:p}),window.pbjs.installedModules.push("adlooxAdServerVideo")}},[76]);