pbjsChunk([302],{296:function(e,r,t){e.exports=t(297)},297:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"BIDDER_CODE",(function(){return d})),t.d(r,"BIDDER_ENDPOINT_URL",(function(){return s})),t.d(r,"USERSYNC_URL",(function(){return p})),r.getBidFloor=l,t.d(r,"spec",(function(){return b}));var n=t(1),i=t(2),o=t(0),a=t(3);function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var d="deltaprojects",s="https://d5p.de17a.com/dogfight/prebid",p="https://userservice.de17a.com/getuid/prebid";function l(e,r,t,n){if(Object(o.isFn)(e.getFloor)){var i=n||"USD",a=e.getFloor({currency:i,mediaType:r,size:t});if(Object(o.isNumber)(a.floor))return a}}function f(e,r){for(var t,n=0;n<e.length;n++)if(t=Object(o.deepAccess)(e[n],r))return t}var b={code:d,supportedMediaTypes:[i.b],isBidRequestValid:function(e){return!!e&&(e.bidder===d&&(!!Object(o.deepAccess)(e,"params.publisherId")||(Object(o.logError)("Invalid bid request, missing publisher id in params"),!1)))},buildRequests:function(e,r){var t=r.auctionId,n=Object(o.parseUrl)(r.refererInfo.referer),u=f(e,"params.publisherId"),d={id:f(e,"params.siteId"),domain:n.hostname,page:n.href,ref:n.href,publisher:{id:u}},p={ua:navigator.userAgent,w:screen.width,h:screen.height},b={ext:{}},g={ext:{}},m=r&&r.gdprConsent;m&&(b.ext={consent:m.consentString},"boolean"==typeof m.gdprApplies&&(g.ext.gdpr=m.gdprApplies?1:0));var y=r&&r.timeout>0?r.timeout:void 0;return e.map((function(e){var r=function(e,r,t,n,u,d,s){var p=a.b.getConfig("currency.adServerCurrency")||Object(o.deepAccess)(e,"params.currency"),f=p&&[p],b=function(e,r){var t={id:e.bidId,tagid:e.params.tagId,ext:{}},n=Object(o.deepAccess)(e,"mediaTypes.".concat(i.b));t.banner=function(e,r){var t=r&&r.sizes||e.sizes;return{format:Object(o._map)(t,(function(e){var r=c(e,2);return{w:r[0],h:r[1]}}))}}(e,n);var a=l(e,i.b,"*",r);a&&(t.bidfloor=a.floor,t.bidfloorcur=a.currency);return t}(e,p),g=Object(o.deepAccess)(e,"params.test")?1:0,m=1,y={tid:e.transactionId,fd:1};return{id:r,at:m,imp:[b],site:t,device:n,user:u,test:g,tmax:d,cur:f,source:y,regs:s,ext:{}}}(e,t,d,p,b,y,g);return{method:"POST",url:s,data:r,options:{contentType:"application/json"},bids:[e]}}))},interpretResponse:function(e){if(!e.body)return Object(o.logWarn)("Response body is invalid, return !!"),[];var r=e.body,t=r.id,n=r.seatbid,a=r.cur;if(!t||!n)return Object(o.logWarn)("Id / seatbid of response is invalid, return !!"),[];var c=[];return Object(o._each)(n,(function(e){Object(o._each)(e.bid,(function(e){var r={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:a,netRevenue:!0,ttl:60};r.mediaType=i.b,r.ad=e.adm,e.nurl&&(r.ad+=Object(o.createTrackPixelHtml)(decodeURIComponent(e.nurl))),e.ext&&(r[d]=e.ext),c.push(r)}))})),c},onBidWon:function(e){var r=e.cpm;e.currency&&e.currency!==e.originalCurrency&&"function"==typeof e.getCpmInNewCurrency&&(r=e.getCpmInNewCurrency(e.originalCurrency));var t=Math.round(1e6*r);e.ad=e.ad.replace(/\$\{AUCTION_PRICE:B64\}/g,t)},getUserSyncs:function(e,r,t){var n,i=[];return e.pixelEnabled&&(n=t?"boolean"==typeof t.gdprApplies?"?gdpr=".concat(Number(t.gdprApplies),"&gdpr_consent=").concat(t.consentString):"?gdpr_consent=".concat(t.consentString):"",i.push({type:"image",url:p+n})),i}};Object(n.registerBidder)(b),window.pbjs.installedModules.push("deltaprojectsBidAdapter")}},[296]);