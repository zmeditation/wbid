pbjsChunk([196],{547:function(e,r,i){e.exports=i(548)},548:function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),i.d(r,"spec",(function(){return s}));var n=i(0),t=i(1),o=i(2),a=i(11),d=i.n(a);var s={code:"nextroll",supportedMediaTypes:[o.b,o.c],isBidRequestValid:function(e){return void 0!==e&&!!e.params&&!!e.bidId},buildRequests:function(e,r){var i=Object(n.parseUrl)(Object(n.deepAccess)(r,"refererInfo.referer"));return e.map((function(t){return{method:"POST",options:{withCredentials:!0},url:"https://d.adroll.com/bid/prebid/",data:{id:t.bidId,imp:{id:t.bidId,bidfloor:v(t),banner:u(t),native:c(Object(n.deepAccess)(t,"mediaTypes.native")),ext:{zone:{id:Object(n.getBidIdParameter)("zoneId",t.params)},nextroll:{adapter_version:5}}},user:m(e),site:g(t,i),seller:y(t),device:(t,{ua:navigator.userAgent,language:navigator.language,os:(o=navigator.userAgent.toLowerCase(),a={android:/android/i,ios:/iphone|ipad/i,mac:/mac/i,linux:/linux/i,windows:/windows/i},d()(Object.keys(a),(function(e){if(o.match(a[e]))return e}))||"etc"),osv:O(navigator.userAgent)}),regs:k(r)}};var o,a}))},interpretResponse:function(e,r){if(e.body){var i=e.body;return i.seatbid.reduce((function(e,r){return e.concat(r.bid)}),[]).map((function(e){return function(e,r){var i={requestId:e.id,cpm:r.price,width:r.w,height:r.h,creativeId:r.crid,dealId:e.dealId,currency:"USD",netRevenue:!0,ttl:300,meta:{advertiserDomains:e.adomain||[]}};Object(n.isStr)(r.adm)?(i.mediaType=o.b,i.ad=Object(n.replaceAuctionPrice)(r.adm,r.price)):(i.mediaType=o.c,i.native=(t=r.adm,a=r.price,d={clickTrackers:t.link&&t.link.clicktrackers||[],jstracker:t.jstracker||[],clickUrl:Object(n.replaceAuctionPrice)(t.link.url,a),impressionTrackers:t.imptrackers.map((function(e){return Object(n.replaceAuctionPrice)(e,a)})),privacyLink:b,privacyIcon:w},t.assets.reduce((function(e,r){var i=l.filter((function(e){return e.id===r.id&&void 0!==r[e.kind]}));if(0===i.length)return e;var n=i[0];return e[n.key]=function(e,r){switch(r.kind){case"title":return e.title.text;case"img":return{url:e.img.url,width:e.img.w,height:e.img.h};case"data":return e.data.value}}(r,n),e}),d)));var t,a,d;return i}(i,e)}))}return[]}};function u(e){var r=function(e){if(!Object(n.isArray)(e.sizes))return;return e.sizes.filter(h).map((function(e){return{w:e[0],h:e[1]}}))}(e);if(void 0!==r)return{format:r}}function c(e){if(void 0!==e){var r=function(e){return l.map((function(r){return function(e,r){var i=e[r.key];if(void 0===i)return;var n=p[r.kind];return t={id:r.id,required:r.required||i.required?1:0},o=r.kind,a=n(i,r),o in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,t;var t,o,a}(e,r)})).filter((function(e){return void 0!==e}))}(e);if(void 0!==r&&0!=r.length)return{request:{native:{assets:r}}}}}var l=[{id:1,kind:"title",key:"title",required:!0},{id:2,kind:"img",key:"image",type:3,required:!0},{id:3,kind:"img",key:"icon",type:1},{id:4,kind:"img",key:"logo",type:2},{id:5,kind:"data",key:"sponsoredBy",type:1},{id:6,kind:"data",key:"body",type:2}],p={title:function(e,r){return{len:e.len||0}},img:function(e,r){var i=e.sizes,n=e.aspect_ratios?e.aspect_ratios[0]:void 0;return{type:r.type,w:i?i[0]:void 0,h:i?i[1]:void 0,wmin:f(n,"width"),hmin:f(n,"height")}},data:function(e,r){return{type:r.type,len:e.len||0}}};function f(e,r){if(!Object(n.isPlainObject)(e))return 1;var i=e["ratio_"+r],t=e["min_"+r];return Object(n.isNumber)(i)?i:Object(n.isNumber)(t)?t:1}function m(e){var r=Object(n.deepAccess)(e,"0.userId.nextrollId");if(void 0!==r)return{ext:{eid:[{source:"nextroll",id:r}]}}}function v(e){if(!Object(n.isFn)(e.getFloor))return e.params.bidfloor?e.params.bidfloor:null;var r=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return Object(n.isPlainObject)(r)&&!isNaN(r.floor)&&"USD"===r.currency?r.floor:null}var b="https://info.evidon.com/pub_info/573",w="https://c.betrad.com/pub/icon1.png";function g(e,r){return{page:r.href,domain:r.hostname,publisher:{id:Object(n.getBidIdParameter)("publisherId",e.params)}}}function y(e){return{id:Object(n.getBidIdParameter)("sellerId",e.params)}}function h(e){var r=function(e){return"number"==typeof e};return 2===e.length&&r(e[0])&&r(e[1])}function k(e){if(e&&e.uspConsent)return{ext:{us_privacy:e.uspConsent}}}function O(e){var r=d()([{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"Linux",r:/(Linux|X11)/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"UNIX",r:/UNIX/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],(function(r){return r.r.test(e)}));return r?r.s:"unknown"}Object(t.registerBidder)(s),window.pbjs.installedModules.push("nextrollBidAdapter")}},[547]);