pbjsChunk([31],{6:function(e,t,n){"use strict";t.a=function(e){var t,n=e.url,i=e.analyticsType,a=e.global,d=e.handler,U=[],N=0,S=!0;(function(){if(S){for(var e=0;e<U.length;e++)U[e]();U.push=function(e){e()},S=!1}Object(o.logMessage)("event count sent to ".concat(a,": ").concat(N))})();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===O&&window[a](d,t,n);this.getAdapterType()===w&&C.apply(void 0,arguments)},enqueue:j,enableAnalytics:k,disableAnalytics:function(){Object(o._each)(t,(function(e,t){c.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:k},getAdapterType:function(){return i},getGlobal:function(){return a},getHandler:function(){return d},getUrl:function(){return n}};function C(e){var t=e.eventType,i=e.args,a=e.callback;Object(r.a)(n,a,JSON.stringify({eventType:t,args:i}))}function j(e){var t=e.eventType,n=e.args,i=this;a&&window[a]&&t&&n?this.track({eventType:t,args:n}):U.push((function(){N++,i.track({eventType:t,args:n})}))}function k(e){var n,i=this,r=this;"object"!==u(e)||"object"!==u(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(c.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==b&&j.call(r,{eventType:t,args:n})}})),s(n={},l,(function(e){return i.enqueue({eventType:l,args:e})})),s(n,v,(function(e){return i.enqueue({eventType:v,args:e})})),s(n,g,(function(e){return i.enqueue({eventType:g,args:e})})),s(n,h,(function(e){return i.enqueue({eventType:h,args:e})})),s(n,b,(function(e){return i.enqueue({eventType:b,args:e})})),s(n,m,(function(e){return i.enqueue({eventType:m,args:e})})),s(n,y,(function(e){return i.enqueue({eventType:y,args:e})})),s(n,T,(function(e){return i.enqueue({eventType:T,args:e})})),s(n,D,(function(e){return i.enqueue({eventType:D,args:e})})),s(n,p,(function(e){return i.enqueue({eventType:p,args:e})})),s(n,E,(function(e){return i.enqueue({eventType:E,args:e})})),s(n,I,(function(e){return i.enqueue({eventType:I,args:e})})),s(n,_,(function(e){return i.enqueue({eventType:_,args:e})})),s(n,A,(function(e){return i.enqueue({eventType:A,args:e})})),s(n,f,(function(t){t.config="object"===u(e)&&e.options||{},i.enqueue({eventType:f,args:t})})),t=n,Object(o._each)(t,(function(e,t){c.on(t,e)}))):Object(o.logMessage)('Analytics adapter for "'.concat(a,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Object(o.logMessage)('Analytics adapter for "'.concat(a,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var i=n(5),a=n.n(i),r=n(4),o=n(0);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=n(10),d=a.a.EVENTS,f=d.AUCTION_INIT,p=d.AUCTION_END,l=d.REQUEST_BIDS,v=d.BID_REQUESTED,b=d.BID_TIMEOUT,g=d.BID_RESPONSE,h=d.NO_BID,m=d.BID_WON,y=d.BID_ADJUSTMENT,T=d.BIDDER_DONE,D=d.SET_TARGETING,E=d.AD_RENDER_FAILED,I=d.AD_RENDER_SUCCEEDED,_=d.AUCTION_DEBUG,A=d.ADD_AD_UNITS,w="endpoint",O="bundle"},668:function(e,t,n){e.exports=n(669)},669:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(6),r=n(5),o=n.n(r),s=n(9),u=n(12),c=n.n(u),d=n(4),f=n(7);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var l=Object(f.b)(),v=Object(d.b)(0),b="pa.rxthdr.com/v3",g=o.a.EVENTS,h=g.AUCTION_INIT,m=g.AUCTION_END,y=g.BID_REQUESTED,T=g.BID_ADJUSTMENT,D=g.BIDDER_DONE,E=g.BID_WON,I="running",_="finished",A="requested",w="bid",O="noBid",U="timeout",N="a",S="i",C="bat",j={},k=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],q="utm_ttl",B={},L=[],R=null;function x(){l.setDataInLocalStorage(M(q),Date.now())}function M(e){return"roxot_analytics_".concat(e)}function z(e){return!j.adUnits.length||c()(j.adUnits,e)}function P(e){return e.adUnitCode.toLowerCase()}function F(e){return e.bidder.toLowerCase()}function G(e){B[e.auctionId]=function(e){return{id:e.auctionId,start:e.timestamp,timeout:e.timeout,adUnits:{}}}(e),function(){for(var e in B){var t=B[e];Date.now()-t.start>36e5&&delete B[e]}}()}function J(e){var t=B[e.auctionId];e.bids.forEach((function(e){var n=P(e),i=F(e);if(z(n)){t.adUnits[n]=t.adUnits[n]||function(e,t){return{adUnit:P(t),start:e.start,timeout:e.timeout,finish:0,status:I,bidders:{}}}(t,e);var a=t.adUnits[n];a.bidders[i]=a.bidders[i]||function(e,t){return{bidder:F(t),isAfterTimeout:e.status===_?1:0,start:t.startTime||Date.now(),finish:0,status:A,cpm:-1,size:{width:0,height:0},mediaType:"-",source:t.source||"client"}}(t,e)}}))}function Q(e){var t=P(e),n=F(e);if(z(t)){var a=B[e.auctionId].adUnits[t];if(a.status!==_){var r=a.bidders[n];r.cpm<e.cpm&&(r.cpm=e.cpm,r.finish=e.responseTimestamp,r.status=0===e.cpm?O:w,r.size.width=e.width||0,r.size.height=e.height||0,r.mediaType=e.mediaType||"-",r.source=e.source||"client")}else!function(e,t){var n=F(t),a=e.bidders[n],r=function(e,t){return{auction:Object(i.deepClone)(e),adUnit:P(t),bidder:F(t),cpm:t.cpm,size:{width:t.width||0,height:t.height||0},mediaType:t.mediaType||"-",start:t.requestTimestamp,finish:t.responseTimestamp}}(e,t);r.cpm>a.cpm&&(a.cpm=r.cpm,a.isAfterTimeout=1,a.finish=r.finish,a.size=r.size,a.mediaType=r.mediaType,a.status=0===r.cpm?O:w);H(C,"Bid After Timeout",r)}(a,e)}}function V(e){var t=P(e);if(z(t)){var n=function(e,t){return{isNew:(n=M("is_new_flag"),a=Number(l.getDataFromLocalStorage(n)),l.setDataInLocalStorage(n,Date.now()),Date.now()-a>36e5?1:0),auction:Object(i.deepClone)(e),adUnit:P(t),bidder:F(t),cpm:t.cpm,size:{width:t.width,height:t.height},mediaType:t.mediaType,source:t.source||"client"};var n,a}(B[e.auctionId].adUnits[t],e);H(S,"Bid won",n)}}var W=p(Object(a.a)({url:b,analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;switch(t){case h:G(n);break;case y:J(n);break;case T:Q(n);break;case D:!function(e){var t=B[e.auctionId];e.bids.forEach((function(e){var n=P(e),i=F(e);if(z(n)){var a=t.adUnits[n];if(a.status!==_){var r=a.bidders[i];r.status===A&&(r.finish=Date.now(),r.status=O,r.cpm=0)}}}))}(n);break;case m:!function(e){var t=B[e.auctionId];Object.keys(t.adUnits).length||delete B[e.auctionId];var n=Date.now();for(var i in t.finish=n,t.adUnits){var a=t.adUnits[i];for(var r in a.finish=n,a.status=_,a.bidders){var o=a.bidders[r];o.status===A&&(o.status=U)}}H(N,"Auction",t)}(n);break;case E:V(n);break;default:!function(e,t){H(e,e,t)}(t,n)}}});function H(e,t,n){var i={eventType:e,eventName:t,data:n};L.push(i),Z("Register event",i),void 0===j.serverConfig?X():K()}function K(){if(R&&(clearTimeout(R),R=null),void 0!==j.serverConfig)for(;L.length;){var e=L.shift(),t=j.serverConfig[e.eventType]||0;0!==Number(t)?Y(e.eventType,e.eventName,e.data):Z("Skip event "+e.eventName,e)}else X()}function X(){R||(R=setTimeout(K,1e3))}function Y(e,t,n){var i="https://"+j.server+"/"+e+"?publisherId="+j.publisherId+"&host="+j.host,a={event:e,eventName:t,options:j,data:n};v(i,(function(){Z(t+" sent",a)}),JSON.stringify(a),{contentType:"text/plain",method:"POST",withCredentials:!0})}function Z(e,t){Object(i.logInfo)($(e),t)}function $(e){return"Roxot Prebid Analytics: "+e}W.originEnableAnalytics=W.enableAnalytics,W.enableAnalytics=function(e){this.initConfig(e)&&(Z("Analytics adapter enabled",j),W.originEnableAnalytics(e))},W.buildUtmTagData=function(){var e={},t=!1;return k.forEach((function(n){var a=Object(i.getParameterByName)(n);""!==a&&(t=!0),e[n]=a})),k.forEach((function(n){var i;t?(l.setDataInLocalStorage(M(n),e[n]),x()):(i=l.getDataFromLocalStorage(M(q)),Date.now()-i>36e5||(e[n]=l.getDataFromLocalStorage(M(n))?l.getDataFromLocalStorage(M(n)):"",x()))})),e},W.initConfig=function(e){var t,n,a=!0;return(j={}).options=Object(i.deepClone)(e.options),j.publisherId=j.options.publisherId||j.options.publisherIds[0]||null,j.publisherId||(t='"options.publisherId" is empty',Object(i.logError)($(t)),a=!1),j.adUnits=j.options.adUnits||[],j.adUnits=j.adUnits.map((function(e){return e.toLowerCase()})),j.server=j.options.server||b,j.configServer=j.options.configServer||j.options.server||"pa.rxthdr.com/v3",j.utmTagData=this.buildUtmTagData(),j.host=j.options.host||window.location.hostname,j.device=/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())?"tablet":/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())?"mobile":"desktop",n="https://"+j.configServer+"/c?publisherId="+j.publisherId+"&host="+j.host,v(n,{success:function(e){j.serverConfig=JSON.parse(e)},error:function(){j.serverConfig={},j.serverConfig[N]=1,j.serverConfig[S]=1,j.serverConfig[C]=1,j.serverConfig.isError=1}},null,{contentType:"text/json",method:"GET",withCredentials:!0}),a},W.getOptions=function(){return j},s.default.registerAnalyticsAdapter({adapter:W,code:"roxot"}),t.default=W,window.pbjs.installedModules.push("roxotAnalyticsAdapter")}},[668]);