pbjsChunk([209],{521:function(e,r,t){e.exports=t(522)},522:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return c}));var n=t(4),d=t(3),s=t(1),o=t(2);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="https://pbs-front.mediasquare.fr/",u="https://bidder-test.mediasquare.fr/",c={code:"mediasquare",gvlid:791,aliases:["msq"],supportedMediaTypes:[o.b,o.c,o.d],isBidRequestValid:function(e){return!(!e.params.owner||!e.params.code)},buildRequests:function(e,r){var t=[],n=document.location.search.match(/msq_test=true/)?u:a,s=d.b.getConfig("debug")?1:0,o=null;Object.keys(e).forEach((function(r){o=e[r],t.push({owner:o.params.owner,code:o.params.code,adunit:o.adUnitCode,bidId:o.bidId,auctionId:o.auctionId,transactionId:o.transactionId,mediatypes:o.mediaTypes})}));var c={codes:t,referer:encodeURIComponent(r.refererInfo.referer)};return r&&(r.gdprConsent&&(c.gdpr={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),r.uspConsent&&(c.uspConsent=r.uspConsent),r.schain&&(c.schain=r.schain),r.userId?c.userId=r.userId:r.hasOwnProperty("bids")&&"object"==i(r.bids)&&r.bids.length>0&&r.bids[0].hasOwnProperty("userId")&&(c.userId=r.bids[0].userId)),s&&(c.debug=!0),{method:"POST",url:n+"msq_prebid",data:JSON.stringify(c)}},interpretResponse:function(e,r){var t=e.body,n=[],d=null,s=null;return t.hasOwnProperty("responses")&&Object.keys(t.responses).forEach((function(e){s=t.responses[e],d={requestId:s.bid_id,cpm:s.cpm,width:s.width,height:s.height,creativeId:s.creative_id,currency:s.currency,netRevenue:s.net_revenue,ttl:s.ttl,ad:s.ad,mediasquare:{bidder:s.bidder,code:s.code},meta:{advertiserDomains:s.adomain}},"match"in s&&(d.mediasquare.match=s.match),"native"in s?(d.native=s.native,d.mediaType="native"):"video"in s&&("url"in s.video&&(d.vastUrl=s.video.url),"xml"in s.video&&(d.vastXml=s.video.xml),d.mediaType="video"),s.hasOwnProperty("deal_id")&&(d.dealId=s.deal_id),n.push(d)})),n},getUserSyncs:function(e,r,t,n){return"object"===i(r)&&null!=r&&r.length>0&&r[0].hasOwnProperty("body")&&r[0].body.hasOwnProperty("cookies")&&"object"===i(r[0].body.cookies)?r[0].body.cookies:[]},onBidWon:function(e){var r=[],t=document.location.search.match(/msq_test=true/)?u:a,d=["cpm","size","mediaType","currency","creativeId","adUnitCode","timeToRespond","requestId","auctionId"];e.hasOwnProperty("mediasquare")&&(e.mediasquare.hasOwnProperty("bidder")&&r.push("bidder="+e.mediasquare.bidder),e.mediasquare.hasOwnProperty("code")&&r.push("code="+e.mediasquare.code),e.mediasquare.hasOwnProperty("match")&&r.push("match="+e.mediasquare.match));for(var s=0;s<d.length;s++)e.hasOwnProperty(d[s])&&r.push(d[s]+"="+e[d[s]]);return r.length>0&&(r="?"+r.join("&")),Object(n.a)(t+"winning"+r,null,void 0,{method:"GET",withCredentials:!0}),!0}};Object(s.registerBidder)(c),window.pbjs.installedModules.push("mediasquareBidAdapter")}},[521]);