pbjsChunk([143],{698:function(e,t,r){e.exports=r(699)},699:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return u}));var a=r(0),s=r(3),n=r(13),d=r(1),o=r(2),i=r(21),c="showheroes-bs";function p(e){return{pubTag:e?"https://pubtag.stage.showheroes.com/publishertag.js":"https://static.showheroes.com/publishertag.js",vlHost:e?"https://video-library.stage.showheroes.com":"https://video-library.showheroes.com"}}var u={code:c,aliases:["showheroesBs"],supportedMediaTypes:[o.d,o.b],isBidRequestValid:function(e){return!!e.params.playerId},buildRequests:function(e,t){var r=[],n=e[0].params.contentPageUrl||t.refererInfo.referer,d=!!e[0].params.stage,i="outstream"===Object(a.deepAccess)(e[0],"mediaTypes.video.context"),p=Object(a.deepAccess)(e[0],"params.outstreamOptions.customRender"),u=Object(a.deepAccess)(e[0],"params.outstreamOptions.slot")||Object(a.deepAccess)(e[0],"params.outstreamOptions.iframe"),m=Object(a.deepAccess)(e[0],"renderer"),b=Object(a.deepAccess)(e[0],"params.outstreamOptions"),g=!!e[0].mediaTypes.banner||i&&!(p||m||u),l=e[0].schain||{};return e.forEach((function(e){var s,n=(s=e,h(Object(a.deepAccess)(s,"mediaTypes.video.playerSize")||[])),d=function(e){return h(Object(a.deepAccess)(e,"mediaTypes.banner.sizes")||[])}(e),i=Object(a.getBidIdParameter)("vpaidMode",e.params),p=function(r,s){var n="",d=2;r===o.b?d=5:(n=Object(a.deepAccess)(e,"mediaTypes.video.context"),i&&"instream"===n&&(d=1),"outstream"===n&&(d=5));var p=t.gdprConsent||{},u={apiVersion:p.apiVersion||2,gdprApplies:p.gdprApplies||0,consentString:p.consentString||""};return{type:d,adUnitCode:e.adUnitCode,bidId:e.bidId,mediaType:r,context:n,playerId:Object(a.getBidIdParameter)("playerId",e.params),auctionId:t.auctionId,bidderCode:c,gdprConsent:u,start:+new Date,timeout:3e3,size:{width:s[0],height:s[1]},params:e.params,schain:e.schain||l}};n.forEach((function(e){r.push(p(o.d,e))})),d.forEach((function(e){r.push(p(o.b,e))}))})),{url:d?"https://bid-service.stage.showheroes.com/api/v1/bid":"https://bs.showheroes.com/api/v1/bid",method:"POST",options:{contentType:"application/json",accept:"application/json"},data:{user:[],meta:{adapterVersion:2,pageURL:encodeURIComponent(n),vastCacheEnabled:!!s.b.getConfig("cache")&&!g&&!b||!1,isDesktop:Object(a.getWindowTop)().document.documentElement.clientWidth>700,xmlAndTag:!(!i||!p)||!1,stage:d||void 0},requests:r,debug:e[0].params.debug||!1}}},interpretResponse:function(e,t){return function(e,t){if(e&&(!Array.isArray(e.bids)||e.bids.length<1))return[];var r=[],s={};return(t.requests||[]).forEach((function(e){s[e.bidId]=e})),e.bids.forEach((function(e){var d=s[e.bidId],i=d.params,c={};if(c.cpm=e.cpm,c.requestId=e.bidId,c.adUnitCode=d.adUnitCode,c.currency=e.currency,c.mediaType=e.mediaType||o.d,c.ttl=300,c.creativeId="c_"+e.bidId,c.netRevenue=!0,c.width=e.size.width,c.height=e.size.height,c.meta={advertiserDomains:e.adomain||[]},e.vastXml&&(c.vastXml=e.vastXml,c.adResponse={content:e.vastXml}),e.vastTag&&(c.vastUrl=e.vastTag),e.mediaType===o.b)c.ad=function(e,t,r){var a=p(!!r.meta.stage);return'<html>\n    <head></head>\n    <body>\n      <script async src="'.concat(a.pubTag,'"\n              data-canvas=""\n              data-noad-passback-listener=""\n              onload="window.ShowheroesTag=this"\n              data-player-host="').concat(a.vlHost,'"><\/script>\n      <div class="showheroes-spot"\n            data-debug="').concat(r.debug?"1":"",'"\n            data-player="').concat(t.playerId,'"\n            data-ad-vast-tag="').concat(e.vastTag,'"></div>\n    </body>\n  </html>')}(e,d,t);else if("outstream"===e.context){var u=n.a.install({id:e.bidId,url:"https://static.showheroes.com/renderer.js",adUnitCode:d.adUnitCode,config:{playerId:d.playerId,width:e.size.width,height:e.size.height,vastUrl:e.vastTag,vastXml:e.vastXml,debug:t.debug,isStage:!!t.meta.stage,customRender:Object(a.getBidIdParameter)("customRender",i.outstreamOptions),slot:Object(a.getBidIdParameter)("slot",i.outstreamOptions),iframe:Object(a.getBidIdParameter)("iframe",i.outstreamOptions)}});u.setRender(m),c.renderer=u}r.push(c)})),r}(e.body,t.data)},getUserSyncs:function(e,t){var r=[];if(!t.length||!t[0].body.userSync)return r;var a=t[0].body.userSync;return e.iframeEnabled&&(a.iframes||[]).forEach((function(e){r.push({type:"iframe",url:e})})),e.pixelEnabled&&(a.pixels||[]).forEach((function(e){r.push({type:"image",url:e})})),r}};function m(e){var t=function(e){var t=p(Object(a.getBidIdParameter)("isStage",e.renderer.config)),r=window.document.createDocumentFragment(),s=Object(i.a)(t.pubTag,"outstream",(function(){window.ShowheroesTag=this}));s.setAttribute("data-player-host",t.vlHost);var n=window.document.createElement("div");return n.setAttribute("class","showheroes-spot"),n.setAttribute("data-player",Object(a.getBidIdParameter)("playerId",e.renderer.config)),n.setAttribute("data-debug",Object(a.getBidIdParameter)("debug",e.renderer.config)),n.setAttribute("data-ad-vast-tag",Object(a.getBidIdParameter)("vastUrl",e.renderer.config)),n.setAttribute("data-stream-type","outstream"),r.appendChild(n),r.appendChild(s),r}(e);if("function"==typeof e.renderer.config.customRender)e.renderer.config.customRender(e,t);else try{var r=Object(a.getBidIdParameter)("iframe",e.renderer.config);if(r&&"IFRAME"===window.document.getElementById(r).nodeName){var s=window.document.getElementById(r);return void(s.contentDocument||s.contentWindow&&s.contentWindow.document).body.appendChild(t)}var n=Object(a.getBidIdParameter)("slot",e.renderer.config)||e.adUnitCode;n&&window.document.getElementById(n)?window.document.getElementById(n).appendChild(t):n&&Object(a.logError)("[ShowHeroes][renderer] Error: spot not found")}catch(e){Object(a.logError)("[ShowHeroes][renderer] Error:"+e.message)}}function h(e){return e&&e.length?Array.isArray(e[0])?e:[e]:[]}Object(d.registerBidder)(u),window.pbjs.installedModules.push("showheroes-bsBidAdapter")}},[698]);