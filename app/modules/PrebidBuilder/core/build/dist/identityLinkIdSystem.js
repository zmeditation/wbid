pbjsChunk([254],{400:function(e,t,n){e.exports=n(401)},401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",(function(){return s})),n.d(t,"identityLinkSubmodule",(function(){return c}));var i=n(0),o=n(4),r=n(8),d=n(7),s=Object(d.b)(),c={name:"identityLink",gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,t){var n=e&&e.params||{};if(n&&"string"==typeof n.pid){var o=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,r=o?t.consentString:"",d=2===i.deepAccess(t,"vendorData.tcfPolicyVersion");if(!o||r&&""!==r){var s="https://api.rlcdn.com/api/identity/envelope?pid=".concat(n.pid).concat(o?(d?"&ct=4&cv=":"&ct=1&cv=")+r:"");return{callback:function(e){window.ats?(i.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(t){t?(i.logInfo("identityLink: An envelope can be retrieved from ATS!"),l(!0),e(JSON.parse(t).envelope)):a(s,e,n)}))):a(s,e,n)}}}i.logInfo("identityLink: Consent string is required to call envelope API.")}else i.logError("identityLink: requires partner id to be defined")}};function a(e,t,n){var r,d={success:function(e){var n;if(e)try{n=JSON.parse(e)}catch(e){i.logInfo(e)}t(n&&n.envelope?n.envelope:"")},error:function(e){i.logInfo("identityLink: identityLink: ID fetch encountered an error",e),t()}};n.notUse3P||s.getCookie("_lr_retry_request")||((r=new Date).setTime(r.getTime()+36e5),s.setCookie("_lr_retry_request","true",r.toUTCString()),i.logInfo("identityLink: A 3P retrieval is attempted!"),l(!1),Object(o.a)(e,d,void 0,{method:"GET",withCredentials:!0}))}function l(e){var t=new Date;t.setTime(t.getTime()+2592e6),s.setCookie("_lr_env_src_ats",e,t.toUTCString())}Object(r.e)("userId",c),window.pbjs.installedModules.push("identityLinkIdSystem")}},[400]);