pbjsChunk([22],{6:function(e,t,n){"use strict";t.a=function(e){var t,n=e.url,r=e.analyticsType,i=e.global,s=e.handler,S=[],D=0,N=!0;(function(){if(N){for(var e=0;e<S.length;e++)S[e]();S.push=function(e){e()},N=!1}Object(o.logMessage)("event count sent to ".concat(i,": ").concat(D))})();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===C&&window[i](s,t,n);this.getAdapterType()===U&&j.apply(void 0,arguments)},enqueue:R,enableAnalytics:k,disableAnalytics:function(){Object(o._each)(t,(function(e,t){d.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:k},getAdapterType:function(){return r},getGlobal:function(){return i},getHandler:function(){return s},getUrl:function(){return n}};function j(e){var t=e.eventType,r=e.args,i=e.callback;Object(a.a)(n,i,JSON.stringify({eventType:t,args:r}))}function R(e){var t=e.eventType,n=e.args,r=this;i&&window[i]&&t&&n?this.track({eventType:t,args:n}):S.push((function(){D++,r.track({eventType:t,args:n})}))}function k(e){var n,r=this,a=this;"object"!==c(e)||"object"!==c(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(d.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==y&&R.call(a,{eventType:t,args:n})}})),u(n={},b,(function(e){return r.enqueue({eventType:b,args:e})})),u(n,p,(function(e){return r.enqueue({eventType:p,args:e})})),u(n,v,(function(e){return r.enqueue({eventType:v,args:e})})),u(n,m,(function(e){return r.enqueue({eventType:m,args:e})})),u(n,y,(function(e){return r.enqueue({eventType:y,args:e})})),u(n,T,(function(e){return r.enqueue({eventType:T,args:e})})),u(n,g,(function(e){return r.enqueue({eventType:g,args:e})})),u(n,I,(function(e){return r.enqueue({eventType:I,args:e})})),u(n,h,(function(e){return r.enqueue({eventType:h,args:e})})),u(n,f,(function(e){return r.enqueue({eventType:f,args:e})})),u(n,E,(function(e){return r.enqueue({eventType:E,args:e})})),u(n,_,(function(e){return r.enqueue({eventType:_,args:e})})),u(n,A,(function(e){return r.enqueue({eventType:A,args:e})})),u(n,O,(function(e){return r.enqueue({eventType:O,args:e})})),u(n,l,(function(t){t.config="object"===c(e)&&e.options||{},r.enqueue({eventType:l,args:t})})),t=n,Object(o._each)(t,(function(e,t){d.on(t,e)}))):Object(o.logMessage)('Analytics adapter for "'.concat(i,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Object(o.logMessage)('Analytics adapter for "'.concat(i,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var r=n(5),i=n.n(r),a=n(4),o=n(0);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=n(10),s=i.a.EVENTS,l=s.AUCTION_INIT,f=s.AUCTION_END,b=s.REQUEST_BIDS,p=s.BID_REQUESTED,y=s.BID_TIMEOUT,v=s.BID_RESPONSE,m=s.NO_BID,T=s.BID_WON,g=s.BID_ADJUSTMENT,I=s.BIDDER_DONE,h=s.SET_TARGETING,E=s.AD_RENDER_FAILED,_=s.AD_RENDER_SUCCEEDED,A=s.AUCTION_DEBUG,O=s.ADD_AD_UNITS,U="endpoint",C="bundle"},724:function(e,t,n){e.exports=n(725)},725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DEFAULT_PBID_TIMEOUT",(function(){return m})),n.d(t,"TIMEOUT_FOR_REGISTRY",(function(){return T}));var r=n(0),i=n(6),a=n(5),o=n.n(a),u=n(9),c=n(4),d=n(14),s=n(3),l=n(25);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b="https",p="pa.deployads.com",y="".concat(b,"://").concat(p,"/pae"),v="sortable_utm",m=1e3,T=250,g={},I=o.a.EVENTS,h=I.AUCTION_INIT,E=I.AUCTION_END,_=I.BID_REQUESTED,A=I.BID_ADJUSTMENT,O=I.BID_WON,U=I.BID_TIMEOUT,C=60*30*1e3,S="pbrw",D="pbto",N="pber",j="pbid",R=["utm_campaign","utm_source","utm_medium","utm_content","utm_term"],k={auctionId:"ai",adUnitCode:"ac",adId:"adi",bidderAlias:"bs",bidFactor:"bif",bidId:"bid",bidRequestCount:"brc",bidderRequestId:"brid",bidRequestedSizes:"rs",bidTopCpm:"btcp",bidTopCpmCurrency:"btcc",bidTopIsNetRevenue:"btin",bidTopFactor:"btif",bidTopSrc:"btsrc",cpm:"c",currency:"cc",dealId:"did",isNetRevenue:"inr",isTop:"it",isWinner:"iw",isTimeout:"ito",mediaType:"mt",reachedTop:"rtp",numIframes:"nif",size:"siz",start:"st",tagId:"tgid",transactionId:"trid",ttl:"ttl",ttr:"ttr",url:"u",utm_campaign:"uc",utm_source:"us",utm_medium:"um",utm_content:"un",utm_term:"ut"},q={},w=null,B=null,M=[];function P(){try{return window.sessionStorage}catch(e){return null}}function F(e,t){try{var n=P();return!!n&&(null===t?n.removeItem(e):n.setItem(e,JSON.stringify(t)),!0)}catch(e){return!1}}function J(){for(var e=(+new Date).toString(36),t=0;t<6;++t)e+=(36*Math.random()|0).toString(36);return e}function x(){var e=null;if(!g.disableSessionTracking){var t=function(e){try{var t=P();if(!t)return null;var n=t.getItem(e);return null===n?null:JSON.parse(n)}catch(e){return null}}(v);e=t&&function(e){return e.created<+new Date+C}(t)?t:null}e=e||{created:+new Date,sessionId:J()};var n=R.map(r.getParameterByName);return R.every((function(t){return!e[t]}))&&(R.forEach((function(t,r){return e[t]=n[r]||e[t]})),e.created=+new Date,function(e,t){if(!g.disableSessionTracking)for(var n in t)if(t.hasOwnProperty(n)){F(e,t);break}}(v,e)),e}function z(e,t,n){var r={};return r.s=g.key,r.ai=e,r.ac=t,r.bs=n,r}function G(e,t,n){var r=x(),i=Object(d.a)().version,a=z(e,t,n);return a.sid=r.sessionId,a.pv=g.pageviewId,a.to=q[e].timeout,a.pbv=i,R.filter((function(e){return r[e]})).forEach((function(e){return a[k[e]]=r[e]})),a}function W(e){w||(w=function(){var e={},t=l.a.getSettings();return t&&Object.keys(t).forEach((function(n){var r,i=(r=t[n])&&r.bidCpmAdjustment?r.bidCpmAdjustment(1):null;null!==i&&(e[n]=i)})),e}());var t=w[e];return void 0!==t?t:1}function H(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function L(e){var t,n,r=H(e.map((function(e){return e._type}))),i=(t=function(e){return e._type},n={},e.forEach((function(e){var r=t(e);n[r]=n[r]?n[r].concat(e):[e]})),n);return r.map((function(e){return i[e]})).map((function(e){return function(e,t){if(!e.length)return{};var n=H(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return e.concat(t)}),[])),r={};n.forEach((function(t){e.forEach((function(e){return r[t]=r[t]?r[t].concat(e[t]):[e[t]]}))})),Object.keys(r).forEach((function(e){return r[e]=r[e].length&&(t=r[e]).every((function(e){return t[0]===e}))?r[e][0]:r[e];var t})),r._count=e.length;var i={};return i[t]=r,i}(e,e[0]._type)})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e}),{})}function Q(e){M=M.concat(e),B||(B=setTimeout((function(){var e=M.slice();M=[],Y(e),B=null}),T))}function Y(e){var t=g.url,n=L(e);Object(c.a)(t,(function(){return Object(r.logInfo)("Sortable Analytics data sent")}),JSON.stringify(n),{contentType:"text/plain",method:"POST",withCredentials:!0})}function V(e){var t=e.auctionId,n=q[t];if(n){var r=e.adUnitCode,i=n.adUnits[r];Object.keys(i.bids).forEach((function(t){i.bids[t].isWinner=e.bidderCode===t}))}else{Q([function(e){var t=e.auctionId,n=e.adUnitCode,r=e.bidderAlias,i=e.cpm,a=e.currency,o=e.isNetRevenue,u=W(r),c=z(t,n,r);return c.bif=u,w=null,c.c=i,c.cc=a,c.inr=o,c._type=S,c}({adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidderAlias:e.bidderCode,currency:e.currency,cpm:e.cpm,isNetRevenue:e.netRevenue})])}}function K(e){e.forEach((function(e){var t=e.auctionId,n=e.adUnitCode,r=e.bidder,i=q[t];i?i.adUnits[n].bids[r].isTimeout=!0:Q([function(e){var t=z(e.auctionId,e.adUnitCode,e.bidderAlias);return t._type=D,t}({auctionId:t,adUnitCode:n,bidderAlias:r})])}))}function X(e){var t=q[e.auctionId],n=t.adUnits;setTimeout((function(){var i=Object.keys(n).map((function(e){var n=Object.keys(t.adUnits[e].bids),i=n.map((function(n){return t.adUnits[e].bids[n]})),a=i.length?i.reduce(r.getOldestHighestCpmBid):null;return n.map((function(n){var r=t.adUnits[e].bids[n];return a&&a.cpm&&(r.isTop=a.bidderAlias===r.bidderAlias,r.bidTopFactor=W(a.bidderAlias),r.bidTopCpm=a.cpm,r.bidTopCpmCurrency=a.currency,r.bidTopIsNetRevenue=a.isNetRevenue,r.bidTopSrc=a.bidderAlias),function(e){var t=G(e.auctionId,e.adUnitCode,e.bidderAlias);return Object.keys(e).forEach((function(n){var r=k[n];r&&(t[r]=e[n])})),t._type=j,t}(r)}))})).reduce((function(e,t){return e.concat(t)}),[]);w=null,Y(i),delete q[e.auctionId]}),g.timeoutForPbid)}var Z=f(Object(i.a)({url:y,ANALYTICS_TYPE:"endpoint"}),{track:function(e){var t,n,r,i=e.eventType,a=e.args;try{switch(i){case h:n=(t=a).auctionId,r=t.timeout,q[n]={timeout:r,auctionId:n,adUnits:{}};break;case E:X(a);break;case _:!function(e){var t=e.refererInfo,n=t.referer,r=t.reachedTop,i=t.numIframes;e.bids.forEach((function(t){var a=t.auctionId,o=t.adUnitCode,u="sortable"===t.bidder?t.params.tagId:"";q[a].adUnits[o]||(q[a].adUnits[o]={bids:{}});var c,d=q[a].adUnits[o].bids,s={adUnitCode:t.adUnitCode,auctionId:e.auctionId,bidderAlias:t.bidder,bidId:t.bidId,bidderRequestId:t.bidderRequestId,bidRequestCount:t.bidRequestsCount,bidRequestedSizes:(c=t.sizes,c.map((function(e){return e.join("x")})).join(",")),currency:t.currency,cpm:0,isTimeout:!1,isTop:!1,isWinner:!1,numIframes:i,start:e.start,tagId:u,transactionId:t.transactionId,reachedTop:r,url:encodeURI(n)};d[s.bidderAlias]=s}))}(a);break;case A:!function(e){var t,n,r=e.auctionId,i=e.adUnitCode,a=q[r].adUnits[i].bids[e.bidderCode],o=W(e.bidderCode);a.adId=e.adId,a.adUnitCode=e.adUnitCode,a.auctionId=e.auctionId,a.bidderAlias=e.bidderCode,a.bidFactor=o,a.cpm=e.cpm,a.currency=e.currency,a.dealId=e.dealId,a.isNetRevenue=e.netRevenue,a.mediaType=e.mediaType,a.responseTimestamp=e.responseTimestamp,a.size=(t=e.width,n=e.height,"".concat(t,"x").concat(n)),a.ttl=e.ttl,a.ttr=e.timeToRespond}(a);break;case O:V(a);break;case U:K(a)}}catch(e){!function(e,t,n){var r={};r.s=g.key,r.ti=e,r.args=JSON.stringify(t),r.msg=n.message,r._type=N,Q([r])}(i,a,e)}}});Z.originEnableAnalytics=Z.enableAnalytics,Z.enableAnalytics=function(e){this.initConfig(e)&&(Object(r.logInfo)("Sortable Analytics adapter enabled"),Z.originEnableAnalytics(e))},Z.initConfig=function(e){var t;return g.disableSessionTracking=void 0!==e.disableSessionTracking&&e.disableSessionTracking,g.key=(t=e.options,(s.b.getConfig("sortable")||{}).siteId||t.siteId),g.protocol=e.options.protocol||b,g.url="".concat(g.protocol,"://").concat(e.options.eventHost||p,"/pae/").concat(g.key),g.pageviewId=J(),g.timeoutForPbid=e.timeoutForPbid?Math.max(e.timeoutForPbid,0):m,!!g.key},Z.getOptions=function(){return g},u.default.registerAnalyticsAdapter({adapter:Z,code:"sortable"}),t.default=Z,window.pbjs.installedModules.push("sortableAnalyticsAdapter")}},[724]);