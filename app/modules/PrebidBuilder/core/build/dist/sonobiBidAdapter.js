pbjsChunk([135],{722:function(e,t,r){e.exports=r(723)},723:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return v})),r.d(t,"_isInbounds",(function(){return O})),t._getPlatform=A;var n=r(1),i=r(0),s=r(2),a=r(3),o=r(13),c=r(30);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,s=[],a=!0,o=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b="sonobi",f=Object(i.generateUUID)(),m="https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",v={code:b,supportedMediaTypes:[s.b,s.d],isBidRequestValid:function(e){if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!Object(i.deepAccess)(e,"mediaTypes.banner")&&!Object(i.deepAccess)(e,"mediaTypes.video"))return!1;if(Object(i.deepAccess)(e,"mediaTypes.banner")){if(!Object(i.deepAccess)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if(Object(i.deepAccess)(e,"mediaTypes.video")){if("outstream"===Object(i.deepAccess)(e,"mediaTypes.video.context")&&!e.params.sizes)return!1;if("instream"===Object(i.deepAccess)(e,"mediaTypes.video.context")&&!Object(i.deepAccess)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:function(e,t){var r=e.map((function(e){var t=function(e){if(e.params.ad_unit)return e.params.ad_unit;return e.params.placement_id}(e);return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(t)?(t="/"===t.charAt(0)?t:"/"+t,l({},"".concat(t,"|").concat(e.bidId),"".concat(g(e)).concat(y(e)).concat(h(e)))):/^[0-9a-fA-F]{20}$/.test(t)&&20===t.length?l({},e.bidId,"".concat(t,"|").concat(g(e)).concat(y(e)).concat(h(e))):void Object(i.logError)("The ad unit code or Sonobi Placement id for slot ".concat(e.bidId," is invalid"))})),n={};r.forEach((function(e){p(n,e)}));var s={key_maker:JSON.stringify(n),ref:t.refererInfo.referer,s:Object(i.generateUUID)(),pv:f,vp:A(),lib_name:"prebid",lib_v:"6.10.0-pre",us:0},o=a.b.getConfig("ortb2");if(o&&(s.fpd=JSON.stringify(o)),a.b.getConfig("userSync")&&a.b.getConfig("userSync").syncsPerBidder&&(s.us=a.b.getConfig("userSync").syncsPerBidder),c.a.canBidderRegisterSync("iframe",b)?s.ius=1:s.ius=0,Object(i.deepAccess)(e[0],"params.hfa")&&(s.hfa=Object(i.deepAccess)(e[0],"params.hfa")),e[0].params.referrer&&(s.ref=e[0].params.referrer),t&&t.gdprConsent&&(s.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(s.consent_string=t.gdprConsent.consentString)),e[0].schain&&(s.schain=JSON.stringify(e[0].schain)),Object(i.deepAccess)(e[0],"userId")&&Object.keys(e[0].userId).length>0){var d=Object(i.deepClone)(e[0].userId);d.id5id&&(d.id5id=Object(i.deepAccess)(d,"id5id.uid")),s.userid=JSON.stringify(d)}var u=Object(i.deepAccess)(e[0],"userIdAsEids");Array.isArray(u)&&u.length>0&&(s.eids=JSON.stringify(u));var m=e[0].params.keywords;if(m&&(s.kw=m),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),!0===a.b.getConfig("coppa")?s.coppa=1:s.coppa=0,Object(i.isEmpty)(n))return null;var v="https://apex.go.sonobi.com/trinity.json";return Object(i.deepAccess)(e[0],"params.bid_request_url")&&(v=Object(i.deepAccess)(e[0],"params.bid_request_url")),{method:"GET",url:v,withCredentials:!0,data:s,bidderRequests:e}},interpretResponse:function(e,t){var r=e.body,n=[],s=t.data.ref;return 0===Object.keys(r.slots).length||Object.keys(r.slots).forEach((function(e){var a=r.slots[e],c=e.split("|").slice(-1)[0],u=function(e,t){for(var r=0;r<e.length;r++)if(e[r].bidId===t)return e[r]}(t.bidderRequests,c),p=null;"video"===a.sbi_ct&&(p="video","outstream"===Object(i.deepAccess)(u,"mediaTypes.video.context")&&(p="outstream"));var l=j(p,s);if(a.sbi_aid&&a.sbi_mouse&&a.sbi_size){var b=d(a.sbi_size.split("x"),2),f=b[0],v=void 0===f?1:f,g=b[1],y=void 0===g?1:g,h=[];a.sbi_adomain&&(h=[a.sbi_adomain]);var O={requestId:c,cpm:Number(a.sbi_mouse),width:Number(v),height:Number(y),ad:l(r.sbi_dc,a.sbi_aid),ttl:500,creativeId:a.sbi_crid||a.sbi_aid,aid:a.sbi_aid,netRevenue:!0,currency:"USD",meta:{advertiserDomains:h}};if(a.sbi_dozer&&(O.dealId=a.sbi_dozer),"video"===p)O.mediaType="video",O.vastUrl=l(r.sbi_dc,a.sbi_aid),delete O.ad,delete O.width,delete O.height;else if("outstream"===p&&u){delete O.ad,O.mediaType="video",O.vastUrl=l(r.sbi_dc,a.sbi_aid),O.renderer=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.a.install({id:t.aid,url:m,config:r,loaded:!1,adUnitCode:e});try{n.setRender(_)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return Object(i.logMessage)("Sonobi outstream video impression event")},loaded:function(){return Object(i.logMessage)("Sonobi outstream video loaded event")},ended:function(){Object(i.logMessage)("Sonobi outstream renderer video event")}}),n}(u.adUnitCode,O,Object(i.deepAccess)(u,"renderer.options"));var A=Object(i.deepAccess)(u,"params.sizes");Array.isArray(A)&&Array.isArray(A[0])&&(A=A[0]),A&&(O.width=A[0],O.height=A[1])}n.push(O)}})),n},getUserSyncs:function(e,t,r,n){var i=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach((function(e){i.push({type:e.type,url:e.url})}))}catch(e){}return i}};function g(e){return Object(i.deepAccess)(e,"mediaTypes.video")?"":e.params.sizes?Object(i.parseSizesInput)(e.params.sizes).join(","):Object(i.deepAccess)(e,"mediaTypes.banner.sizes")?Object(i.parseSizesInput)(Object(i.deepAccess)(e,"mediaTypes.banner.sizes")).join(","):e.sizes?Object(i.parseSizesInput)(e.sizes).join(","):void 0}function y(e){var t=function(e){if(!Object(i.isFn)(e.getFloor))return e.params.floor?e.params.floor:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if(Object(i.isPlainObject)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return""}(e);return t?"|f=".concat(t):""}function h(e){var t=Object(i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot")||Object(i.deepAccess)(Object(i.getGptSlotInfoForAdUnitCode)(e.adUnitCode),"gptSlot")||e.params.ad_unit;return t?"|gpid=".concat(t):""}var j=function(e,t){return function(r,n){return"video"===e||"outstream"===e?function(e,t,r){return"https://".concat(e,"apex.go.sonobi.com/vast.xml?vid=").concat(t,"&ref=").concat(encodeURIComponent(r))}(r,n,t):'<script type="text/javascript" src="'+"https://".concat(r,"apex.go.sonobi.com/sbi.js?aid=").concat(n,"&as=null&ref=").concat(encodeURIComponent(t))+'"><\/script>'}};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return e.innerWidth>=t&&e.innerWidth<r}};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=O(e),r={lt:768},n={lt:992,ge:768};return t(0,r.lt)?"mobile":t(n.ge,n.lt)?"tablet":"desktop"}function _(e){e.renderer.push((function(){var t=d(e.getSize().split("x"),2),r=t[0],n=t[1],i=new window.SbiOutstreamRenderer;i.init({vastUrl:e.vastUrl,height:n,width:r}),i.setRootElement(e.adUnitCode)}))}Object(n.registerBidder)(v),window.pbjs.installedModules.push("sonobiBidAdapter")}},[722]);