pbjsChunk([218],{545:function(e,r,n){e.exports=n(546)},546:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",function(){return t});var i,d=n(0),a=n(1),u=n(2),p="LEMMA: ",l="USD",o=0,t={code:"lemma",supportedMediaTypes:[u.b,u.d],isBidRequestValid:function(e){return!(!e||!e.params)&&(d.isNumber(e.params.pubId)?e.params.adunitId?!!(!e.params.hasOwnProperty("video")||e.params.video.hasOwnProperty("mimes")&&d.isArray(e.params.video.mimes)&&0!==e.params.video.mimes.length)||(d.logWarn(p+"Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1):(d.logWarn(p+"Error: adUnitId is mandatory. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1):(d.logWarn(p+"Error: publisherId is mandatory and cannot be string. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1))},buildRequests:function(e,r){var n;r&&r.refererInfo&&(n=r.refererInfo);var a=function(e,r){try{var n={id:""+(new Date).getTime(),at:2,tmax:300,cur:[l],imp:function(e){var r=[],n=e.map(function(e){var r,n,a={},i=e.hasOwnProperty("sizes")?e.sizes:[],t="",s=[],o=e&&e.params?e.params:null;a={id:e.bidId,tagid:o.adunitId?o.adunitId.toString():void 0,secure:"https:"===window.location.protocol?1:0,bidfloorcur:o.currency?o.currency:l},o.bidFloor&&(a.bidfloor=o.bidFloor);if(e.hasOwnProperty("mediaTypes"))for(t in e.mediaTypes)switch(t){case u.b:(r=function(e){var r,n=[];{var a,i;"banner"!==e.mediaType&&!d.deepAccess(e,"mediaTypes.banner")||(a=(e?e.params:null).banner,(i=c(e)||[])&&0==i.length&&(i=e.mediaTypes.banner.sizes[0]),i&&0<i.length?((r={}).w=i[0],r.h=i[1],r.pos=0,a&&(r=d.deepClone(a)),0<(i=e.mediaTypes.banner.sizes).length&&(n=[],i.forEach(function(e){1<e.length&&n.push({w:e[0],h:e[1]})}),0<n.length&&(r.format=n))):d.logWarn(p+"Error: mediaTypes.banner.sizes missing for adunit: "+e.params.adunitId))}return r}(e))&&(a.banner=r);break;case u.d:(n=function(e){var r;{var n,a,i;"video"!==e.mediaType&&!d.deepAccess(e,"mediaTypes.video")||(n=e?e.params:null,(a=c(e)||[])&&0==a.length&&(a=e.mediaTypes&&e.mediaTypes.video?e.mediaTypes.video.playerSize:[]),a&&0<a.length?(i=n.video,r={},i&&(r=d.deepClone(i)),r.w=a[0],r.h=a[1]):d.logWarn(p+"Error: mediaTypes.video.sizes missing for adunit: "+e.params.adunitId))}return r}(e))&&(a.video=n)}else r={pos:0,w:i&&i[0]?i[0][0]:0,h:i&&i[0]?i[0][1]:0},d.isArray(i)&&1<i.length&&((i=i.splice(1,i.length-1)).forEach(function(e){s.push({w:e[0],h:e[1]})}),r.format=s),a.banner=r;return a.hasOwnProperty(u.b)||a.hasOwnProperty(u.d)?a:void 0});n&&n.forEach(function(e){e&&r.push(e)});return r}(e),user:{},ext:{}},a=e[0],i=function(e){var r=e&&e.params?e.params:null;if(r){o=r.pubId?r.pubId:0;var n=r.app;if(n)return{publisher:{id:o.toString()},id:n.id,name:n.name,bundle:n.bundle,storeurl:n.storeUrl,domain:n.domain,cat:n.categories,pagecat:n.page_category}}return null}(a),t=function(e,r){var n=e&&e.params?e.params:null;if(n){o=n.pubId?n.pubId:"0";var a=n.siteId?n.siteId:"0";if(!n.app)return{publisher:{id:o.toString()},domain:function(e){var r=document.createElement("a");return r.setAttribute("href",e),r.hostname}(r.pageURL),id:a.toString(),ref:r.refURL,page:r.pageURL}}return null}(a,r),s=function(e){var r=e&&e.params?e.params:null;if(r)return{dnt:d.getDNT()?1:0,ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,w:window.screen.width||window.innerWidth,h:window.screen.height||window.innerHeigh,geo:{country:r.country,lat:r.latitude,lon:r.longitude,region:r.region,city:r.city,zip:r.zip},ip:r.ip,devicetype:r.device_type,ifa:r.ifa};return null}(a);return i&&(n.app=i),t&&(n.site=t),s&&(n.device=s),n}catch(e){d.logError(p,"ERROR ",e)}}(e,function(e){var r={};r.pageURL=e&&e.referer?e.referer:window.location.href,e&&e.referer?r.refURL=e.referer:r.refURL="";return r}(n));if(0!=a.imp.length)return function(e,r){var n=e&&e.params?e.params:null;e&&e.gdprConsent&&(r.regs={ext:{gdpr:e.gdprConsent.gdprApplies?1:0}},r.user={ext:{consent:e.gdprConsent.consentString}});n&&(r.tmax=n.tmax,r.bcat=n.bcat)}(r,a),{method:"POST",url:function(e){var r=e&&e[0].params?e[0].params:null;if(r)return o=r.pubId?r.pubId:0,i=r.adunitId?r.adunitId:0,"https://ads.lemmatechnologies.com/lemma/servad?pid="+o+"&aid="+i;return null}(e),data:JSON.stringify(a)}},interpretResponse:function(e,r){return function(a,e){var i=[];try{var t;e.seatbid&&(t=e.curr||l,e.seatbid.forEach(function(e){e.bid.forEach(function(r){var e=function(e){try{if(e)return JSON.parse(e)}catch(e){d.logError(p,"ERROR",e)}return null}(a.data),n={requestId:r.impid,cpm:parseFloat(r.price).toFixed(2),width:r.w,height:r.h,creativeId:r.crid,currency:t,netRevenue:!1,ttl:300,referrer:e.site.ref,ad:r.adm};r.dealid&&(n.dealId=r.dealid),e.imp&&0<e.imp.length&&(n.mediaType=e.mediaType,e.imp.forEach(function(e){if(r.impid===e.id)switch(n.mediaType){case u.b:break;case u.d:n.width=r.hasOwnProperty("w")?r.w:e.video.w,n.height=r.hasOwnProperty("h")?r.h:e.video.h,n.vastXml=r.adm}})),i.push(n)})}))}catch(e){d.logError(p,"ERROR ",e)}return i}(r,e.body)},getUserSyncs:function(e,r,n,a){var i="https://sync.lemmatechnologies.com/js/usersync.html?pid="+o;if(n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),a&&(i+="&us_privacy="+encodeURIComponent(a)),e.iframeEnabled)return[{type:"iframe",url:i}];d.logWarn(p+"Please enable iframe based user sync.")}};function c(e){return e.sizes&&d.isArray(e.sizes[0])&&0<e.sizes[0].length?e.sizes[0]:null}Object(a.registerBidder)(t)}},[545]);