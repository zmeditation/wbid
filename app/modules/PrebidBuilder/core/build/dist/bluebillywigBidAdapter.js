pbjsChunk([67],{15:function(e,t,r){"use strict";t.b=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else{var n=o(e[r],r);n&&t.push(n)}return t},t.a=function(e){var t=[];return e.filter((function(e){return Object(n.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(r){Object(n.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(n.deepAccess)(i,r+".source")&&t.push({source:i[r].source,bidders:e.config.bidders})}))})),t};var n=r(0),i={trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=Object(n.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1}};function o(e,t){var r=i[t];if(r&&e){var o={};o.source=r.source;var c=Object(n.isFn)(r.getValue)?r.getValue(e):e;if(Object(n.isStr)(c)){var a={id:c,atype:r.atype};if(Object(n.isFn)(r.getUidExt)){var s=r.getUidExt(e);s&&(a.ext=s)}if(o.uids=[a],Object(n.isFn)(r.getEidExt)){var d=r.getEidExt(e);d&&(o.ext=d)}return o}}return null}},205:function(e,t,r){e.exports=r(206)},206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return E}));var n=r(0),i=r(11),o=r.n(i),c=r(1),a=r(2),s=r(3),d=r(13),u=r(15);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=window.location.search.match(/bbpbs_debug=true/),m={BIDDER_CODE:"bluebillywig",AUCTION_URL:"$$URL_STARTpbs.bluebillywig.com/openrtb2/auction?pub=$$PUBLICATION",SYNC_URL:"$$URL_STARTpbs.bluebillywig.com/static/cookie-sync.html?pub=$$PUBLICATION",RENDERER_URL:"https://$$PUBLICATION.bbvms.com/r/$$RENDERER.js",DEFAULT_TIMEOUT:5e3,DEFAULT_TTL:300,DEFAULT_WIDTH:768,DEFAULT_HEIGHT:432,DEFAULT_NET_REVENUE:!0,VIDEO_PARAMS:["mimes","minduration","maxduration","protocols","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext"]},y=s.b.getConfig,g={addSiteAppDevice:function(e,t){"object"===l(y("app"))?e.app=y("app"):(e.site={},"object"===l(y("site"))&&(e.site=y("site")),t&&(e.site.page=t)),"object"===l(y("device"))&&(e.device=y("device")),e.device||(e.device={}),e.device.w||(e.device.w=window.innerWidth),e.device.h||(e.device.h=window.innerHeight)},addSchain:function(e,t){var r=Object(n.deepAccess)(t,"0.schain");r&&(e.source.ext={schain:r})},addCurrency:function(e){var t=y("currency.adServerCurrency");t&&"string"==typeof t?e.cur=[t]:Array.isArray(t)&&t.length&&(e.cur=[t[0]])},addUserIds:function(e,t){var r=Object(n.deepAccess)(t,"0.userId"),i=Object(u.b)(r);i.length&&Object(n.deepSetValue)(e,"user.ext.eids",i)},substituteUrl:function(e,t,r){return e.replace("$$URL_START",b?"https://dev.":"https://").replace("$$PUBLICATION",t).replace("$$RENDERER",r)},getAuctionUrl:function(e){return g.substituteUrl(m.AUCTION_URL,e)},getSyncUrl:function(e){return g.substituteUrl(m.SYNC_URL,e)},getRendererUrl:function(e,t){return g.substituteUrl(m.RENDERER_URL,e,t)},transformVideoParams:function(e,t){var r=(e=Object(n.deepClone)(e)).playerSize||[m.DEFAULT_WIDTH,m.DEFAULT_HEIGHT];return Array.isArray(r[0])&&(r=r[0]),e.w=r[0],e.h=r[1],e.placement=3,t&&(e=p(e,t)),Object.keys(e).forEach((function(t){-1===m.VIDEO_PARAMS.indexOf(t)&&delete e[t]})),e},transformRTBToPrebidProps:function(e,t){var r={cpm:e.price,currency:t.cur,netRevenue:m.DEFAULT_NET_REVENUE,bidId:e.impid,requestId:e.impid,creativeId:e.crid,mediaType:a.d,width:e.w||m.DEFAULT_WIDTH,height:e.h||m.DEFAULT_HEIGHT,ttl:m.DEFAULT_TTL},i=Object(n.deepAccess)(e,"ext.prebid.targeting"),o=Object(n.deepAccess)(e,"ext.prebid.cache");return o&&"object"===l(o.vastXml)&&o.vastXml.cacheId&&o.vastXml.url?(r.videoCacheKey=o.vastXml.cacheId,r.vastUrl=o.vastXml.url):i&&i.hb_uuid&&i.hb_cache_host&&i.hb_cache_path&&(r.videoCacheKey=i.hb_uuid,r.vastUrl="https://".concat(i.hb_cache_host).concat(i.hb_cache_path,"?uuid=").concat(i.hb_uuid)),e.adm&&(r.ad=e.adm,r.vastXml=e.adm),r.vastUrl||!e.nurl||e.adm||(r.vastUrl=e.nurl),r.meta=e.meta||{},e.adomain&&(r.meta.advertiserDomains=e.adomain),r}},f={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl)if(window.bluebillywig&&window.bluebillywig.renderers){var r=f.getRendererId(e.publicationName,e.rendererCode),i=document.getElementById(e.adUnitCode),c=o()(window.bluebillywig.renderers,(function(e){return e._id===r}));c?c.bootstrap(t,i,e.rendererSettings||{}):Object(n.logWarn)("".concat(m.BIDDER_CODE,": Couldn't find a renderer with ").concat(r))}else Object(n.logWarn)("".concat(m.BIDDER_CODE,": renderer code failed to initialize..."));else Object(n.logWarn)("".concat(m.BIDDER_CODE,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=d.a.install({url:e,loaded:!1,adUnitCode:t});try{r.setRender(f.outstreamRender)}catch(e){Object(n.logWarn)("".concat(m.BIDDER_CODE,": Error tying to setRender on renderer"),e)}return r},outstreamRender:function(e){e.renderer.push((function(){f.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},E={code:m.BIDDER_CODE,supportedMediaTypes:[a.d],syncStore:{bidders:[]},isBidRequestValid:function(e){if(!e.params)return Object(n.logError)("".concat(m.BIDDER_CODE,": no params set on bid. Rejecting bid: "),e),!1;if(!e.params.hasOwnProperty("publicationName")||"string"!=typeof e.params.publicationName)return Object(n.logError)("".concat(m.BIDDER_CODE,": no publicationName specified in bid params, or it's not a string. Rejecting bid: "),e),!1;if(!/^\w+\.?\w+$/.test(e.params.publicationName))return Object(n.logError)("".concat(m.BIDDER_CODE,": publicationName must be in format 'publication' or 'publication.environment'. Rejecting bid: "),e),!1;if(!e.params.hasOwnProperty("rendererCode")||"string"!=typeof e.params.rendererCode)return Object(n.logError)("".concat(m.BIDDER_CODE,": no rendererCode was specified in bid params. Rejecting bid: "),e),!1;if(!/^[\w+_]+$/.test(e.params.rendererCode))return Object(n.logError)("".concat(m.BIDDER_CODE,": rendererCode must be alphanumeric, including underscores. Rejecting bid: "),e),!1;if(!e.params.accountId)return Object(n.logError)("".concat(m.BIDDER_CODE,": no accountId specified in bid params. Rejecting bid: "),e),!1;if(!e.params.hasOwnProperty("connections"))return Object(n.logError)("".concat(m.BIDDER_CODE,": no connections specified in bid. Rejecting bid: "),e),!1;if(!Array.isArray(e.params.connections))return Object(n.logError)("".concat(m.BIDDER_CODE,": connections is not of type array. Rejecting bid: "),e),!1;for(var t=0;t<e.params.connections.length;t++)if(!e.params.hasOwnProperty(e.params.connections[t]))return Object(n.logError)("".concat(m.BIDDER_CODE,": connection specified in params.connections, but not configured in params. Rejecting bid: "),e),!1;return!e.params.hasOwnProperty("video")||null!==e.params.video&&"object"===l(e.params.video)?!e.params.hasOwnProperty("rendererSettings")||null!==e.params.rendererSettings&&"object"===l(e.params.rendererSettings)?e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(a.d)?e.mediaTypes[a.d].hasOwnProperty("context")?"outstream"===e.mediaTypes[a.d].context||(Object(n.logError)("".concat(m.BIDDER_CODE,': video.context is invalid, must be "outstream". Rejecting bid: '),e),!1):(Object(n.logError)("".concat(m.BIDDER_CODE,": no context specified in bid. Rejecting bid: "),e),!1):(Object(n.logError)("".concat(m.BIDDER_CODE,": mediaTypes or mediaTypes.video is not specified. Rejecting bid: "),e),!1):(Object(n.logError)("".concat(m.BIDDER_CODE,": params.rendererSettings must be of type object. Rejecting bid: "),e),!1):(Object(n.logError)("".concat(m.BIDDER_CODE,": params.video must be of type object. Rejecting bid: "),e),!1)},buildRequests:function(e,t){var r=this,i=[];e.forEach((function(e){r.syncStore.publicationName||(r.syncStore.publicationName=e.params.publicationName),r.syncStore.accountId||(r.syncStore.accountId=e.params.accountId);var t=e.params.connections.reduce((function(t,n){return t[n]=e.params[n],-1===r.syncStore.bidders.indexOf(n)&&r.syncStore.bidders.push(n),t}),{}),o=g.transformVideoParams(Object(n.deepAccess)(e,"mediaTypes.video"),Object(n.deepAccess)(e,"params.video"));i.push({id:e.bidId,ext:t,secure:"https"===window.location.protocol?1:0,video:o})}));var o={id:t.auctionId,source:{tid:t.auctionId},tmax:m.DEFAULT_TIMEOUT,imp:i,test:b?1:0,ext:{prebid:{targeting:{includewinners:!0,includebidderkeys:!1}}}};if(t.gdprConsent){var c=0;"boolean"==typeof t.gdprConsent.gdprApplies&&(c=t.gdprConsent.gdprApplies?1:0),Object(n.deepSetValue)(o,"regs.ext.gdpr",c),Object(n.deepSetValue)(o,"user.ext.consent",t.gdprConsent.consentString)}return t.uspConsent&&(Object(n.deepSetValue)(o,"regs.ext.us_privacy",t.uspConsent),this.syncStore.uspConsent=t.uspConsent),1==y("coppa")&&Object(n.deepSetValue)(o,"regs.coppa",1),g.addSiteAppDevice(o,t.refererInfo&&t.refererInfo.referer),g.addSchain(o,e),g.addCurrency(o),g.addUserIds(o,e),{method:"POST",url:g.getAuctionUrl(e[0].params.publicationName),data:JSON.stringify(o),bidderRequest:t}},interpretResponse:function(e,t){if(!(e=e.body||{}).hasOwnProperty("seatbid")||!Array.isArray(e.seatbid))return[];var r=[];return e.seatbid.forEach((function(n){n.bid&&Array.isArray(n.bid)&&n.bid.forEach((function(n){n=g.transformRTBToPrebidProps(n,e);var i=o()(t.bidderRequest.bids,(function(e){return e.bidId===n.bidId})).params;n.publicationName=i.publicationName,n.rendererCode=i.rendererCode,n.accountId=i.accountId,n.rendererSettings=i.rendererSettings;var c=g.getRendererUrl(n.publicationName,n.rendererCode);n.renderer=f.newRenderer(c,n.adUnitCode),r.push(n)}))})),r},getUserSyncs:function(e,t,r){if(!e.iframeEnabled)return[];var n=[];return r.gdprApplies&&n.push("gdpr=".concat(r.gdprApplies?1:0)),r.gdprApplies&&r.consentString&&n.push("gdpr_consent=".concat(r.consentString)),this.syncStore.uspConsent&&n.push("usp_consent=".concat(this.syncStore.uspConsent)),n.push("accountId=".concat(this.syncStore.accountId)),n.push("bidders=".concat(btoa(JSON.stringify(this.syncStore.bidders)))),n.push("cb=".concat(Date.now(),"-").concat(Math.random().toString().replace(".",""))),b&&n.push("bbpbs_debug=true"),[{type:"iframe",url:"".concat(g.getSyncUrl(this.syncStore.publicationName),"&").concat(n.join("&"))}]}};Object(c.registerBidder)(E),window.pbjs.installedModules.push("bluebillywigBidAdapter")}},[205]);