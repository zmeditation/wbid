pbjsChunk([75],{27:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"COMMAND",(function(){return T})),e.command=function(t,e,n){var o=Object(p.getUniqueIdentifierStr)();E[o]={cmd:t,data:e,callback:function(){delete E[o],n&&n.apply(null,arguments)}},m.context&&A(o)};var o=n(9),a=n(6),r=n(21),i=n(16),c=n(19),s=n(5),l=n.n(s),u=n(11),d=n.n(u),p=n(0);function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var g="adlooxAnalyticsAdapter",b=2,y=6,v={client:function(t,e){return e.client},clientid:function(t,e){return e.clientid},tagid:function(t,e){return e.tagid},platformid:function(t,e){return e.platformid},targetelt:function(t,e){return e.toselector(t)},creatype:function(t,e){return"video"==t.mediaType?y:b},pbadslot:function(t,e){var n=d()(i.a.getAdUnits(),(function(e){return t.adUnitCode===e.code}));return Object(p.deepAccess)(n,"ortb2Imp.ext.data.pbadslot")||Object(p.getGptSlotInfoForAdUnitCode)(t.adUnitCode).gptSlot||t.adUnitCode}};v.pbAdSlot=v.pbadslot;var O={id1:function(t){return t.adUnitCode},id2:"%%pbadslot%%",id3:function(t){return t.bidder},id4:function(t){return t.adId},id5:function(t){return t.dealId},id6:function(t){return t.creativeId},id7:function(t){return t.size},id11:"$ADLOOX_WEBSITE"},j=function(){},m=f(Object(a.a)({analyticsType:"endpoint"}),{track:function(t){var e=t.eventType,n=t.args;m["handle_".concat(e)]&&(Object(p.logInfo)(g,"track",e,n),m["handle_".concat(e)](n))}});m.context=null,m.originEnableAnalytics=m.enableAnalytics,m.enableAnalytics=function(t){m.context=null,Object(p.logInfo)(g,"config",t),Object(p.isPlainObject)(t.options)?void 0===t.options.js||Object(p.isStr)(t.options.js)?void 0===t.options.toselector||Object(p.isFn)(t.options.toselector)?Object(p.isStr)(t.options.client)?Object(p.isNumber)(t.options.clientid)?Object(p.isNumber)(t.options.tagid)?Object(p.isNumber)(t.options.platformid)?void 0===t.options.params||Object(p.isPlainObject)(t.options.params)?(m.context={js:t.options.js||"https://j.adlooxtracking.com/ads/js/tfav_adl_%%clientid%%.js",toselector:t.options.toselector||function(t){var e=Object(p.getGptSlotInfoForAdUnitCode)(t.adUnitCode).divId||t.adUnitCode;return e=e.replace(/^\d/,"\\3$& "),"#".concat(e)},client:t.options.client,clientid:t.options.clientid,tagid:t.options.tagid,platformid:t.options.platformid,params:[]},t.options.params=Object(p.mergeDeep)({},O,t.options.params||{}),Object.keys(t.options.params).forEach((function(e){Array.isArray(t.options.params[e])||(t.options.params[e]=[t.options.params[e]]),t.options.params[e].forEach((function(t){return m.context.params.push([e,t])}))})),Object.keys(E).forEach(A),m.originEnableAnalytics(t)):Object(p.logError)(g,"invalid params options value"):Object(p.logError)(g,"invalid platformid options value"):Object(p.logError)(g,"invalid tagid options value"):Object(p.logError)(g,"invalid clientid options value"):Object(p.logError)(g,"invalid client options value"):Object(p.logError)(g,"invalid toselector options value"):Object(p.logError)(g,"invalid js options value"):Object(p.logError)(g,"missing options")},m.originDisableAnalytics=m.disableAnalytics,m.disableAnalytics=function(){m.context=null,m.originDisableAnalytics()},m.url=function(t,e,n){var o=function(t){return t.replace(/%%([a-z]+)%%/gi,(function(t,e){return v[e]?v[e](n,m.context):t}))};t=o(t);for(var a=(e=e||[]).length;a-- >0;){if(Object(p.isFn)(e[a][1]))try{e[a][1]=e[a][1](n)}catch(t){Object(p.logError)(g,"macro",e[a][0],t.message),e[a][1]="ERROR: ".concat(t.message)}Object(p.isStr)(e[a][1])&&(e[a][1]=o(e[a][1]))}return t+function(t){function e(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)}))}for(var n=[],o=t.length;o-- >0;)void 0!==t[o][1]&&null!==t[o][1]&&!1!==t[o][1]&&n.unshift(e(t[o][0])+(!0!==t[o][1]?"="+e(t[o][1]):""));return n.join("&")}(e)},m["handle_".concat(l.a.EVENTS.AUCTION_END)]=function(t){if(t.auctionStatus==c.a&&t.bidsReceived.length>0){m["handle_".concat(l.a.EVENTS.AUCTION_END)]=j,Object(p.logMessage)(g,"preloading verification JS");var e=Object(p.parseUrl)(m.url("".concat(m.context.js,"#"))),n=document.createElement("link");n.setAttribute("href","".concat(e.protocol,"://").concat(e.host).concat(e.pathname)),n.setAttribute("rel","preload"),n.setAttribute("as","script"),Object(p.insertElement)(n)}},m["handle_".concat(l.a.EVENTS.BID_WON)]=function(t){if(Object(p.deepAccess)(t,"ext.adloox.video.adserver"))Object(p.logMessage)(g,"measuring '".concat(t.mediaType,"' ad unit code '").concat(t.adUnitCode,"' via Ad Server module"));else{var e,n=m.context.toselector(t);try{e=document.querySelector(n)}catch(t){}if(e){Object(p.logMessage)(g,"measuring '".concat(t.mediaType,"' unit at '").concat(t.adUnitCode,"'"));var o=m.context.params.concat([["tagid","%%tagid%%"],["platform","%%platformid%%"],["fwtype",4],["targetelt","%%targetelt%%"],["creatype","%%creatype%%"]]);Object(r.a)(m.url("".concat(m.context.js,"#"),o,t),"adloox")}else Object(p.logWarn)(g,"unable to find ad unit code '".concat(t.adUnitCode,"' slot using selector '").concat(n,"' (use options.toselector to change), ignoring"))}},o.default.registerAnalyticsAdapter({adapter:m,code:"adloox",gvlid:93}),e.default=m;var E={},T={CONFIG:"config",TOSELECTOR:"toselector",URL:"url",TRACK:"track"};function A(t){var e=E[t],n=e.cmd,o=e.data,a=e.callback;switch(Object(p.logInfo)(g,"command",n,o),n){case T.CONFIG:a({client:m.context.client,clientid:m.context.clientid,tagid:m.context.tagid,platformid:m.context.platformid});break;case T.TOSELECTOR:a(m.context.toselector(o.bid));break;case T.URL:o.ids&&(o.args=o.args.concat(m.context.params.filter((function(t){return/^id([1-9]|10)$/.test(t[0])})))),a(m.url(o.url,o.args,o.bid));break;case T.TRACK:m.track(o),a();break;default:Object(p.logWarn)(g,"command unknown",n)}}window.pbjs.installedModules.push("adlooxAnalyticsAdapter")},6:function(t,e,n){"use strict";e.a=function(t){var e,n=t.url,o=t.analyticsType,a=t.global,u=t.handler,D=[],N=0,U=!0;(function(){if(U){for(var t=0;t<D.length;t++)D[t]();D.push=function(t){t()},U=!1}Object(i.logMessage)("event count sent to ".concat(a,": ").concat(N))})();return{track:function(t){var e=t.eventType,n=t.args;this.getAdapterType()===S&&window[a](u,e,n);this.getAdapterType()===I&&C.apply(void 0,arguments)},enqueue:x,enableAnalytics:k,disableAnalytics:function(){Object(i._each)(e,(function(t,e){l.off(e,t)})),this.enableAnalytics=this._oldEnable?this._oldEnable:k},getAdapterType:function(){return o},getGlobal:function(){return a},getHandler:function(){return u},getUrl:function(){return n}};function C(t){var e=t.eventType,o=t.args,a=t.callback;Object(r.a)(n,a,JSON.stringify({eventType:e,args:o}))}function x(t){var e=t.eventType,n=t.args,o=this;a&&window[a]&&e&&n?this.track({eventType:e,args:n}):D.push((function(){N++,o.track({eventType:e,args:n})}))}function k(t){var n,o=this,r=this;"object"!==s(t)||"object"!==s(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(l.getEvents().forEach((function(t){if(t){var e=t.eventType,n=t.args;e!==b&&x.call(r,{eventType:e,args:n})}})),c(n={},f,(function(t){return o.enqueue({eventType:f,args:t})})),c(n,g,(function(t){return o.enqueue({eventType:g,args:t})})),c(n,y,(function(t){return o.enqueue({eventType:y,args:t})})),c(n,v,(function(t){return o.enqueue({eventType:v,args:t})})),c(n,b,(function(t){return o.enqueue({eventType:b,args:t})})),c(n,O,(function(t){return o.enqueue({eventType:O,args:t})})),c(n,j,(function(t){return o.enqueue({eventType:j,args:t})})),c(n,m,(function(t){return o.enqueue({eventType:m,args:t})})),c(n,E,(function(t){return o.enqueue({eventType:E,args:t})})),c(n,p,(function(t){return o.enqueue({eventType:p,args:t})})),c(n,T,(function(t){return o.enqueue({eventType:T,args:t})})),c(n,A,(function(t){return o.enqueue({eventType:A,args:t})})),c(n,h,(function(t){return o.enqueue({eventType:h,args:t})})),c(n,_,(function(t){return o.enqueue({eventType:_,args:t})})),c(n,d,(function(e){e.config="object"===s(t)&&t.options||{},o.enqueue({eventType:d,args:e})})),e=n,Object(i._each)(e,(function(t,e){l.on(e,t)}))):Object(i.logMessage)('Analytics adapter for "'.concat(a,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return Object(i.logMessage)('Analytics adapter for "'.concat(a,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var o=n(5),a=n.n(o),r=n(4),i=n(0);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=n(10),u=a.a.EVENTS,d=u.AUCTION_INIT,p=u.AUCTION_END,f=u.REQUEST_BIDS,g=u.BID_REQUESTED,b=u.BID_TIMEOUT,y=u.BID_RESPONSE,v=u.NO_BID,O=u.BID_WON,j=u.BID_ADJUSTMENT,m=u.BIDDER_DONE,E=u.SET_TARGETING,T=u.AD_RENDER_FAILED,A=u.AD_RENDER_SUCCEEDED,h=u.AUCTION_DEBUG,_=u.ADD_AD_UNITS,I="endpoint",S="bundle"},78:function(t,e,n){t.exports=n(27)}},[78]);