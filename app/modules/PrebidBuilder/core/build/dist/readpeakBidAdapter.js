pbjsChunk([35],{20:function(e,r){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},646:function(e,r,t){e.exports=t(647)},647:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){t.d(r,"ENDPOINT",(function(){return d})),t.d(r,"spec",(function(){return m}));var n=t(0),i=t(1),a=t(3),o=t(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d="https://app.readpeak.com/header/prebid",s=70,p=120,c=50,l=150,f=50,m={code:"readpeak",supportedMediaTypes:[o.c],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.publisherId&&e.nativeParams)},buildRequests:function(r,t){var n=a.b.getConfig("currency"),i=n&&n.adServerCurrency||"USD",o={id:r[0].bidderRequestId,imp:r.map((function(e){return function(e){var r;if("function"==typeof e.getFloor){var t=e.getFloor({currency:"USD",mediaType:"native",size:"*"});r="USD"===t.currency?t.floor:void 0}return{id:e.bidId,native:g(e),bidfloor:r||e.params.bidfloor||0,bidfloorcur:(r?"USD":e.params.bidfloorcur)||"USD",tagId:e.params.tagId||"0"}}(e)})).filter((function(e){return null!=e.native})),site:y(r,t),app:h(r),device:{ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(e.navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(e.navigator.userAgent)?3:2},cur:[i],source:{fd:1,tid:r[0].transactionId,ext:{prebid:"6.10.0-pre"}}};return t.gdprConsent&&(o.user={ext:{consent:t.gdprConsent.consentString||""}},o.regs={ext:{gdpr:void 0===t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}}),{method:"POST",url:d,data:JSON.stringify(o)}},interpretResponse:function(e,r){return function(e,r){var t={},n={};if(!r.body)return[];r=r.body,S(e.data).imp.forEach((function(e){t[e.id]=e})),r&&r.seatbid.forEach((function(e){return e.bid.forEach((function(e){n[e.impid]=e}))}));var i=[];return Object.keys(t).forEach((function(e){if(n[e]){var a={requestId:e,cpm:n[e].price,creativeId:n[e].crid,ttl:300,netRevenue:!0,mediaType:o.c,currency:r.cur,native:I(t[e],n[e])};n[e].adomain&&(a.meta={advertiserDomains:n[e].adomain}),i.push(a)}})),i}(r,e)}};function g(e){if(e.nativeParams){var r=[];return v(r,function(e,r,t){if(r)return{id:e,required:r.required?1:0,title:{len:r.len||t}};return null}(1,e.nativeParams.title,s)),v(r,(t=2,n=e.nativeParams.image,i=3,a=e.nativeParams.wmin||l,o=e.nativeParams.hmin||l,n?{id:t,required:n.required?1:0,img:{type:i,wmin:n.wmin||a,hmin:n.hmin||o}}:null)),v(r,b(3,e.nativeParams.sponsoredBy,1,c)),v(r,b(4,e.nativeParams.body,2,p)),v(r,b(5,e.nativeParams.cta,12,f)),{request:JSON.stringify({assets:r}),ver:"1.1"}}var t,n,i,a,o;return null}function v(e,r){r&&e.push(r)}function b(e,r,t,n){return r?{id:e,required:r.required?1:0,data:{type:t,len:r.len||n}}:null}function y(e,r){var t=a.b.getConfig("pageUrl")||r&&r.refererInfo&&r.refererInfo.referer,i=e&&e.length>0?e[0].params.publisherId:"0",o=e&&e.length>0?e[0].params.siteId:"0";if(!e[0].params.app)return{publisher:{id:i.toString(),domain:a.b.getConfig("publisherDomain")},id:o?o.toString():i.toString(),page:t,domain:t&&Object(n.parseUrl)(t).hostname||a.b.getConfig("publisherDomain")}}function h(e){var r=e&&e.length>0?e[0].params.publisherId:"0",t=e[0].params.app;if(t)return{publisher:{id:r.toString()},bundle:t.bundle,storeurl:t.storeUrl,domain:t.domain}}function S(e){try{if(e)return"object"===u(e)?e:JSON.parse(e)}catch(e){Object(n.logError)("readpeakBidAdapter.safeParse","ERROR",e)}return null}function I(e,r){if(e&&e.native){var t=S(r.adm),i={};if(t&&t.assets){t.assets.forEach((function(e){i.title=e.title?e.title.text:i.title,i.body=e.data&&4===e.id?e.data.value:i.body,i.sponsoredBy=e.data&&3===e.id?e.data.value:i.sponsoredBy,i.image=e.img&&2===e.id?{url:e.img.url,width:e.img.w||750,height:e.img.h||500}:i.image,i.cta=e.data&&5===e.id?e.data.value:i.cta})),t.link&&(i.clickUrl=encodeURIComponent(t.link.url));var a=t.imptrackers||[];return a.unshift(Object(n.replaceAuctionPrice)(r.burl,r.price)),i.impressionTrackers=a,i}}return null}Object(i.registerBidder)(m),window.pbjs.installedModules.push("readpeakBidAdapter")}.call(r,t(20))}},[646]);