pbjsChunk([340],{203:function(e,t,n){e.exports=n(204)},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"BIDDER_CODE",(function(){return c})),n.d(t,"BLIINK_ENDPOINT_ENGINE",(function(){return s})),n.d(t,"BLIINK_ENDPOINT_ENGINE_VAST",(function(){return u})),n.d(t,"BLIINK_ENDPOINT_COOKIE_SYNC",(function(){return d})),n.d(t,"META_KEYWORDS",(function(){return p})),n.d(t,"META_DESCRIPTION",(function(){return l})),t.getMetaList=y,t.getOneMetaValue=f,t.getMetaValue=b,t.getKeywords=v,n.d(t,"parseXML",(function(){return I})),n.d(t,"buildBid",(function(){return h})),n.d(t,"isBidRequestValid",(function(){return E})),n.d(t,"buildRequests",(function(){return _})),n.d(t,"spec",(function(){return k}));var r=n(1);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c="bliink",s="https://engine.bliink.io/delivery",u="https://engine.bliink.io/vast",d="https://cookiesync.api.bliink.io",p="keywords",l="description",m="video",g="banner";function y(e){return e&&0!==e.length?[{key:"name",value:e},{key:"name*",value:e},{key:"itemprop*",value:e},{key:"property",value:"'og:".concat(e,"'")},{key:"property",value:"'twitter:".concat(e,"'")},{key:"property",value:"'article:".concat(e,"'")}]:[]}function f(e){var t=document.querySelector(e);return t&&t.content?t.content:null}function b(e){for(var t=y(e),n=0;n<t.length;n++){var r=t[n],i=f("meta[".concat(r.key,"=").concat(r.value,"]"));if(i)return i}return""}function v(){var e=b(p);if(e){var t=a(e.split(","));if(t&&t.length>0)return t.filter((function(e){return e})).map((function(e){return e.trim()}))}return[]}var I=function(e){if("string"!=typeof e||0===e.length)return null;var t,n=new DOMParser;try{t=n.parseFromString(e,"text/xml")}catch(e){}return t&&t.getElementsByTagName("VAST")[0]&&"VAST"===t.getElementsByTagName("VAST")[0].tagName?t:null},h=function(e,t){if(!e&&!t)return null;var n={requestId:e.bidId,currency:t.currency,cpm:t.price,creativeId:t.creativeId,width:e.sizes&&e.sizes[0][0]||1,height:e.sizes&&e.sizes[0][1]||1,netRevenue:!1,ttl:3600};if(t&&e&&!e.bidId||!e.sizes||!e.params||!e.params.placement)return null;switch(delete e.bids,t.media_type){case m:return i(n,{mediaType:m,vastXml:t.content});case g:return i(n,{mediaType:g,ad:t&&t.content&&t.content.creative&&t.content.creative.adm||""})}},E=function(e){return!!(e&&e.params&&e.params.placement&&e.params.tagId)},_=function(e,t){if(!t)return null;var n={pageUrl:t.refererInfo.referer,pageDescription:b(l),keywords:v().join(","),gdpr:!1,gdpr_consent:"",pageTitle:document.title},r=t.bids[0].params.placement===m?u:s,a={bidderRequestId:t.bidderRequestId,bidderCode:t.bidderCode,bids:t.bids,refererInfo:t.refererInfo};return t.gdprConsent&&(n=i(n,{gdpr:t.gdprConsent&&t.gdprConsent.gdprApplies,gdpr_consent:t.gdprConsent.consentString})),t.bids&&t.bids.length>0&&t.bids[0].sizes&&t.bids[0].sizes[0]?(n=i(n,{width:t.bids[0].sizes[0][0],height:t.bids[0].sizes[0][1]}),{method:"GET",url:"".concat(r,"/").concat(t.bids[0].params.tagId),data:n,params:a}):null},k={code:c,aliases:["bk"],supportedMediaTypes:[g,m],isBidRequestValid:E,buildRequests:_,interpretResponse:function(e,t){if(e&&"no-ad"===e.mode)return[];var n,r=e.body,i=t.params,a=I(r);switch(i.bids[0].params.placement){case a&&m:var o=a.getElementsByTagName("Price")&&a.getElementsByTagName("Price")[0],c=a.getElementsByTagName("Currency")&&a.getElementsByTagName("Currency")[0],s=a.getElementsByTagName("CreativeId")&&a.getElementsByTagName("CreativeId")[0];return n={content:r,price:o&&o.textContent||0,currency:c&&c.textContent||"EUR",creativeId:s||0,media_type:"video"},h(i.bids[0],n);case g:if(r)return n={content:r,price:r.price,currency:r.currency,creativeId:0,media_type:"banner"},h(i.bids[0],n)}},getUserSyncs:function(e,t,n){if(e.pixelEnabled&&t.length>0&&n){var r="consentString=".concat(n.consentString),i=encodeURIComponent("".concat(d,"/cookiesync?partner=smart&uid=[sas_uid]")),a=encodeURIComponent("".concat(d,"/cookiesync?partner=azerion&uid={PUB_USER_ID}")),o=encodeURIComponent("".concat(d,"/cookiesync?partner=azerion&uid=$UID"));return[{type:"script",url:"https://prg.smartadserver.com/ac?out=js&nwid=3392&siteid=305791&pgname=rg&fmtid=81127&tgt=[sas_target]&visit=m&tmstp=[timestamp]&clcturl=[countgo]"},{type:"image",url:"https://sync.smartadserver.com/getuid?nwid=3392&".concat(r,"&url=").concat(i)},{type:"image",url:"https://ad.360yield.com/server_match?partner_id=1531&".concat(r,"&r=").concat(a)},{type:"image",url:"https://ads.stickyadstv.com/auto-user-sync?".concat(r)},{type:"image",url:"https://cookiesync.api.bliink.io/getuid?url=https%3A%2F%2Fvisitor.omnitagjs.com%2Fvisitor%2Fsync%3Fuid%3D1625272249969090bb9d544bd6d8d645%26name%3DBLIINK%26visitor%3D%24UID%26external%3Dtrue&".concat(r)},{type:"image",url:"https://cookiesync.api.bliink.io/getuid?url=https://pixel.advertising.com/ups/58444/sync?&gdpr=1&gdpr_consent=".concat(n.consentString,"&redir=true&uid=$UID")},{type:"image",url:"https://ups.analytics.yahoo.com/ups/58499/occ?gdpr=1&gdpr_consent=".concat(n.consentString)},{type:"image",url:"https://secure.adnxs.com/getuid?".concat(o)}]}return[]}};Object(r.registerBidder)(k),window.pbjs.installedModules.push("bliinkBidAdapter")}},[203]);