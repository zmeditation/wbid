pbjsChunk([226],{477:function(e,t,r){e.exports=r(478)},478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"storage",(function(){return b})),r.d(t,"URL",(function(){return m})),r.d(t,"spec",(function(){return g}));var n=r(0),i=r(1),a=r(3),o=r(11),d=r.n(o),u=r(2),s=r(7);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=Object(s.b)(),l="livewrapped",m="https://lwadm.com/ad",g={code:l,supportedMediaTypes:[u.b,u.c,u.d],gvlid:919,isBidRequestValid:function(e){return void 0!==(e.params.adUnitId||(e.params.adUnitName||e.adUnitCode||e.placementCode)&&e.params.publisherId)},buildRequests:function(e,t){var r=d()(e,v),i=d()(e,T),o=d()(e,y),u=d()(e,w),s=d()(e,I),f=d()(e,h),l=d()(e,C),g=d()(e,j),R=d()(e,A),z=d()(e,S),N=d()(e,O),P=d()(e,U),W=e[0].schain,_=a.b.getConfig("ortb2"),H=function(e){var t=e[0];if(t&&t.userIdAsEids)return{user:{ext:{eids:t.userIdAsEids}}};return}(e);s=s?s.params.bidUrl:m,f=f?f.params.url:function(){if("object"===c(a.b.getConfig("app")))return a.b.getConfig("app").domain}()||function(e){var t=e&&e.refererInfo&&e.refererInfo.referer;return a.b.getConfig("pageUrl")||t}(t),l=l?l.params.test:void 0;var J=e.map(E);H&&(_=Object(n.mergeDeep)(_||{},H));var L={auctionId:u?u.auctionId:void 0,publisherId:o?o.params.publisherId:void 0,userId:r?r.params.userId:i?i.crumbs.pubcid:void 0,url:f,test:l,seats:g?g.params.seats:void 0,deviceId:R?R.params.deviceId:void 0,ifa:z?z.params.ifa:q(),bundle:N?N.params.bundle:M(),width:x(),height:D(),tid:P?P.params.tid:void 0,version:"1.4",gdprApplies:t.gdprConsent?t.gdprConsent.gdprApplies:void 0,gdprConsent:t.gdprConsent?t.gdprConsent.consentString:void 0,coppa:k(),usPrivacy:t.uspConsent,cookieSupport:!Object(n.isSafariBrowser)()&&b.cookiesAreEnabled(),rcv:B(),adRequests:p(J),rtbData:_,schain:W};return a.b.getConfig().debug&&(L.dbg=!0),{method:"POST",url:s,data:JSON.stringify(L)}},interpretResponse:function(e){var t=[];return e.body.dbg&&window.livewrapped&&window.livewrapped.s2sDebug&&window.livewrapped.s2sDebug(e.body.dbg),e.body.ads.forEach((function(r){var n={requestId:r.bidId,bidderCode:l,cpm:r.cpmBid,width:r.width,height:r.height,ad:r.tag,ttl:r.ttl,creativeId:r.creativeId,netRevenue:!0,currency:e.body.currency,meta:r.meta};r.native&&(n.native=r.native,n.mediaType=u.c),r.video&&(n.mediaType=u.d,n.vastXml=r.tag),t.push(n)})),t},getUserSyncs:function(e,t){if(0==t.length)return[];var r=[];return(t[0].body.pixels||[]).forEach((function(t){e.pixelEnabled&&"Redirect"==t.type&&r.push({type:"image",url:t.url}),e.iframeEnabled&&"Iframe"==t.type&&r.push({type:"iframe",url:t.url})})),r}};function v(e){return!!e.params.userId}function y(e){return!!e.params.publisherId}function h(e){return!!e.params.url}function I(e){return!!e.params.bidUrl}function w(e){return!!e.auctionId}function C(e){return!!e.params.test}function j(e){return!!e.params.seats}function A(e){return!!e.params.deviceId}function S(e){return!!e.params.ifa}function O(e){return!!e.params.bundle}function U(e){return!!e.params.tid}function T(e){return!!e.crumbs&&!!e.crumbs.pubcid}function E(e){var t={adUnitId:e.params.adUnitId,callerAdUnitId:e.params.adUnitName||e.adUnitCode||e.placementCode,bidId:e.bidId,transactionId:e.transactionId,formats:R(e).map(z),options:e.params.options};return void 0!==e.auc&&(t.auc=e.auc),t.native=Object(n.deepAccess)(e,"mediaTypes.native"),t.video=Object(n.deepAccess)(e,"mediaTypes.video"),(t.native||t.video)&&Object(n.deepAccess)(e,"mediaTypes.banner")&&(t.banner=!0),t}function R(e){return Object(n.deepAccess)(e,"mediaTypes.banner.sizes")?e.mediaTypes.banner.sizes:Array.isArray(e.sizes)&&e.sizes.length>0?e.sizes:[]}function z(e){return{width:e[0],height:e[1]}}function B(){try{return Object(n.getWindowTop)().I12C&&1===Object(n.getWindowTop)().I12C.Morph}catch(e){}}function M(){if("object"===c(a.b.getConfig("app")))return a.b.getConfig("app").bundle}function q(){if("object"===c(a.b.getConfig("device")))return a.b.getConfig("device").ifa}function x(){var e=a.b.getConfig("device");return"object"===c(e)&&e.width?e.width:window.innerWidth}function D(){var e=a.b.getConfig("device");return"object"===c(e)&&e.height?e.height:window.innerHeight}function k(){if("boolean"==typeof a.b.getConfig("coppa"))return a.b.getConfig("coppa")}Object(i.registerBidder)(g),window.pbjs.installedModules.push("livewrappedBidAdapter")}},[477]);