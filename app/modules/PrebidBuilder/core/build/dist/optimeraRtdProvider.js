pbjsChunk([186],{573:function(t,e,n){t.exports=n(574)},574:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"optimeraKeyName",(function(){return u})),n.d(e,"scoresBaseURL",(function(){return l})),n.d(e,"scoresURL",(function(){return r})),n.d(e,"clientID",(function(){return o})),n.d(e,"device",(function(){return d})),n.d(e,"optimeraTargeting",(function(){return f})),n.d(e,"fetchScoreFile",(function(){return p})),e.scoreFileRequest=m,e.returnTargetingData=g,e.onAuctionInit=b,e.init=h,e.setScoresURL=O,e.setScores=v,n.d(e,"optimeraSubmodule",(function(){return j}));var r,o,i=n(0),c=n(8),a=n(4),s={},u="hb_deal_optimera",l="https://dyv1bugovvq1g.cloudfront.net/",d="default",f={},p=!0;function m(){Object(i.logInfo)("Fetch Optimera score file."),Object(a.b)()(r,{success:function(t,e){if(200===e.status)try{v(t)}catch(t){Object(i.logError)("Unable to parse Optimera Score File.",t)}else 403===e.status&&Object(i.logError)("Unable to fetch the Optimera Score File - 403")},error:function(){Object(i.logError)("Unable to fetch the Optimera Score File.")}})}function g(t,e){var n={};try{t.forEach((function(t){f[t]&&(n[t]={},n[t][u]=[f[t]])}))}catch(t){Object(i.logError)("error",t)}return Object(i.logInfo)("Apply Optimera targeting"),n}function b(t,e,n){O(),p&&m()}function h(t){return(s=t.params)&&s.clientID?(o=s.clientID,s.optimeraKeyName&&(u=s.optimeraKeyName),s.device&&(d=s.device),O(),m(),!0):(s.clientID||Object(i.logError)("Optimera clientID is missing in the Optimera RTD configuration."),!1)}function O(){var t=window.location.host,e=window.location.pathname,n="".concat(l).concat(o,"/").concat(t).concat(e,".js");r!==n?(r=n,p=!0):p=!1}function v(t){var e={};try{e=JSON.parse(t),"default"!==d&&e.device[d]&&(e=e.device[d]),Object(i.logInfo)(e),e.insights&&(window.optimeraInsights=window.optimeraInsights||{},window.optimeraInsights.data=e.insights)}catch(t){Object(i.logError)("Optimera score file could not be parsed.")}f=e}var j={name:"optimeraRTD",onAuctionInitEvent:b,getTargetingData:g,init:h};Object(c.e)("realTimeData",j),window.pbjs.installedModules.push("optimeraRtdProvider")}},[573]);