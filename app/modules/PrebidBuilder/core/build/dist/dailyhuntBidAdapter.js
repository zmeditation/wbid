pbjsChunk([307],{284:function(e,t,r){e.exports=r(285)},285:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProtocols=R,r.d(t,"spec",(function(){return U}));var n=r(1),i=r(2),a=r(0),o=r(4),d=r(11),c=r.n(d),u=r(17);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=[i.b,i.c,i.d],v="https://pbs.dailyhunt.in/openrtb2/auction?partner=",y="https://qa-pbs-van.dailyhunt.in/openrtb2/auction?partner=",h={3:"image",1:"icon"},g={1:"sponsoredBy",2:"body",3:"rating",4:"likes",5:"downloads",6:"price",7:"salePrice",8:"phone",9:"address",10:"body2",11:"displayUrl",12:"cta"},O={title:{id:0,name:"title"},icon:{id:1,type:1,name:"img"},image:{id:2,type:3,name:"img"},sponsoredBy:{id:3,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:5,type:12,name:"data"},body2:{id:4,name:"data",type:10}},_=function(e,t){for(var r,n=0;n<e.length;n++)if(r=Object(a.deepAccess)(e[n].params,t))return r},w=function(e){var t=p({},_(e,"device"));return t.ua=navigator.userAgent,t},j=function(e){return p({},_(e,"user"))},k=function(e,t){var r=p(p({},_(e,"site")),{},{page:t}),n=A(e);return r.publisher||(r.publisher=n),r},A=function(e){return p({},_(e,"publisher"))};function S(e,t){var r="function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:t,size:"*"}):{};return Math.floor(r.floor||(e.params.bidfloor?e.params.bidfloor:0))}var T=function(e,t){var r=[];return t.sizes.forEach((function(e){return r.push({w:e[0],h:e[1]})})),{id:"banner-"+e.bidId,format:r}},P=function(e,t){var r={assets:Object(a._map)(e.nativeParams,(function(e,t){var r,n,i=O[t],a={required:1&e.required};if(i){var o=0,d=0;if(a.id=i.id,e.sizes){var c=(r=e.sizes,(n=[]).concat.apply(n,m(r)));d=c[0],o=c[1]}return a[i.name]={len:e.len?e.len:20,type:i.type,w:d,h:o},a}})).filter(Boolean),ver:"1,0"};return{request:JSON.stringify(r)}},I=function(e,t){var r={},n=e.params;return(r=Object(a.isEmpty)(e.params.video)?{mimes:["video/mp4"]}:{topframe:1,skip:n.video.skippable||0,linearity:n.video.linearity||1,minduration:n.video.minduration||5,maxduration:n.video.maxduration||60,mimes:n.video.mimes||["video/mp4"],protocols:R(n.video),w:n.video.playerSize[0][0],h:n.video.playerSize[0][1]}).ext=p({},t),r};function R(e){var t=e.protocols;return t?[{key:"VAST_1_0",value:1},{key:"VAST_2_0",value:2},{key:"VAST_3_0",value:3},{key:"VAST_1_0_WRAPPER",value:4},{key:"VAST_2_0_WRAPPER",value:5},{key:"VAST_3_0_WRAPPER",value:6},{key:"VAST_4_0",value:7},{key:"VAST_4_0_WRAPPER",value:8}].filter((function(e){return-1!==t.indexOf(e.key)})).map((function(e){return e.value})):[2,3,5,6,7,8]}var E=function(e){var t,r,n=JSON.parse(e.adm).native,i=n.assets,o=n.link,d=n.imptrackers,c=n.jstracker,u={clickUrl:(t=o.url,r=window.encodeURIComponent(t),r=r.replace(/'/g,"%27")),clickTrackers:o.clicktrackers||[],impressionTrackers:d||[],javascriptTrackers:c?[c]:[]};return i.forEach((function(e){Object(a.isEmpty)(e.title)?Object(a.isEmpty)(e.img)?Object(a.isEmpty)(e.data)||(u[g[e.data.type]]=e.data.value):u[h[e.img.type]]={url:e.img.url,height:e.img.h,width:e.img.w}:u.title=e.title.text})),u},U={code:"dailyhunt",aliases:["dh"],supportedMediaTypes:b,isBidRequestValid:function(e){return!!e.params.placement_id&&!!e.params.publisher_id&&!!e.params.partner_name},buildRequests:function(e,t){var r=[],n=function(e,t){var r=w(e),n=j(e),i=k(e,t.refererInfo.referer);return{id:t.auctionId,imp:[],site:i,device:r,user:n}}(e,t);return e.forEach((function(e){var t=function(e){var t=e.params,r=!!e.params.test_mode,n=Object(a.deepAccess)(e.mediaTypes,"banner"),i=Object(a.deepAccess)(e.mediaTypes,"native"),o=Object(a.deepAccess)(e.mediaTypes,"video"),d={id:e.bidId,ext:{dailyhunt:{placement_id:t.placement_id,publisher_id:t.publisher_id,partner:t.partner_name}}};return r&&(d.ext.test_mode=r),n?(d.banner=p({},T(e,n)),d.bidfloor=S(e,"banner")):i?(d.native=p({},P(e,i)),d.bidfloor=S(e,"native")):o&&(d.video=p({},I(e,o)),d.bidfloor=S(e,"video")),d}(e);n.imp.push(t)})),r.push(p({},function(e,t){return{method:"POST",url:"true"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"false")?y+t[0].params.partner_name:v+t[0].params.partner_name,data:JSON.stringify(e),options:{contentType:"application/json",withCredentials:!0},bids:t}}(n,e,function(e){for(var t=window.location.search.substring(1).split("&"),r=0;r<t.length;r++){var n=t[r].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return!1}("dh_test")))),r},interpretResponse:function(e,t){var r=e.body.seatbid,n=t.bids,a=[];return r[0].bid.forEach((function(e){var t,r,o=e.impid,d=c()(n,(function(e){return e.bidId===o}));switch(e.ext.prebid.type){case i.b:a.push((r=e,{requestId:(t=d).bidId,cpm:r.price.toFixed(2),creativeId:r.crid,width:r.w,height:r.h,ttl:360,netRevenue:"net"===t.netRevenue,currency:"USD",ad:r.adm,mediaType:"banner",winUrl:r.nurl,adomain:r.adomain}));break;case i.c:a.push(function(e,t){return{requestId:e.bidId,cpm:t.price.toFixed(2),creativeId:t.crid,currency:"USD",ttl:360,netRevenue:"net"===e.netRevenue,native:E(t),mediaType:"native",winUrl:t.nurl,width:t.w,height:t.h,adomain:t.adomain}}(d,e));break;case i.d:a.push(function(e,t){var r={requestId:e.bidId,cpm:t.price.toFixed(2),creativeId:t.crid,width:t.w,height:t.h,ttl:360,netRevenue:"net"===e.netRevenue,currency:"USD",mediaType:"video",winUrl:t.nurl,adomain:t.adomain};switch(e.mediaTypes.video.context){case u.b:r.vastXml=t.adm;break;case u.a:r.videoCacheKey=t.ext.bidder.cacheKey,r.vastUrl=t.ext.bidder.vastUrl}return r}(d,e))}})),a},onBidWon:function(e){Object(o.a)(e.winUrl,null,null,{method:"GET"})}};Object(n.registerBidder)(U),window.pbjs.installedModules.push("dailyhuntBidAdapter")}},[284]);