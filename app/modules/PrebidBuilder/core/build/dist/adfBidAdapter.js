pbjsChunk([396],{62:function(e,t,r){e.exports=r(63)},63:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return b}));var n=r(1),i=r(2),a=r(0),o=r(3),d=r(13);function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,d=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){d=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(d)throw i}}return a}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=o.b.getConfig,f={0:"title",2:"icon",3:"image",5:"sponsoredBy",4:"body",1:"cta"},y={title:{id:0,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},sponsoredBy:{id:5,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:1,type:12,name:"data"}},b={code:"adf",aliases:[{code:"adformOpenRTB",gvlid:50},{code:"adform",gvlid:50}],gvlid:50,supportedMediaTypes:[i.c,i.b,i.d],isBidRequestValid:function(e){var t=e.params||{},r=t.mid,n=t.inv,i=t.mname;return!!(r||n&&i)},buildRequests:function(e,t){var r,n,i=m("ortb2")||{},o=i.user;"object"===l(m("app"))?(r=m("app")||{},i.app&&Object(a.mergeDeep)(r,i.app)):(n=m("site")||{},i.site&&Object(a.mergeDeep)(n,i.site),n.page||(n.page=t.refererInfo.referer));var d=m("device")||{};d.w=d.w||window.innerWidth,d.h=d.h||window.innerHeight,d.ua=d.ua||navigator.userAgent;var s=v(e,"params.adxDomain")||"adx.adform.net",u=v(e,"params.pt")||v(e,"params.priceType")||"net",p=e[0].transactionId,f=v(e,"params.test"),b=m("currency.adServerCurrency"),h=b&&[b],j=v(e,"userIdAsEids"),w=v(e,"schain"),S=e.map((function(e,t){e.netRevenue=u;var r=e.getFloor?e.getFloor({currency:b||"USD"}):{},n=r.floor,i=r.currency,o=e.params,d={id:t+1,tagid:o.mid,bidfloor:n,bidfloorcur:i,ext:{bidder:{inv:o.inv,mname:o.mname}}},s=Object(a._map)(e.nativeParams,(function(e,t){var r=y[t],n={required:1&e.required};if(r){var i,a,o,d;n.id=r.id;var s=e.aspect_ratios;if(s&&s[0]&&(i=(s=s[0]).min_width||0,a=s.ratio_height*i/s.ratio_width|0),e.sizes){var c=g(e.sizes);o=c[0],d=c[1]}return n[r.name]={len:e.len,type:r.type,wmin:i,hmin:a,w:o,h:d},n}})).filter(Boolean);s.length&&(d.native={request:{assets:s}});var p=Object(a.deepAccess)(e,"mediaTypes.banner");if(p&&p.sizes){var l=Object(a.parseSizesInput)(p.sizes).map((function(e){var t=c(e.split("x"),2),r=t[0],n=t[1];return{w:parseInt(r,10),h:parseInt(n,10)}}));d.banner={format:l}}var m=Object(a.deepAccess)(e,"mediaTypes.video");return m&&(d.video=m),d})),O={id:t.auctionId,site:n,app:r,user:o,device:d,source:{tid:p,fd:1},ext:{pt:u},cur:h,imp:S};return f&&(O.is_debug=!!f,O.test=1),void 0!==Object(a.deepAccess)(t,"gdprConsent.gdprApplies")&&(Object(a.deepSetValue)(O,"user.ext.consent",t.gdprConsent.consentString),Object(a.deepSetValue)(O,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&Object(a.deepSetValue)(O,"regs.ext.us_privacy",t.uspConsent),j&&Object(a.deepSetValue)(O,"user.ext.eids",j),w&&Object(a.deepSetValue)(O,"source.ext.schain",w),{method:"POST",url:"https://"+s+"/adx/openrtb",data:JSON.stringify(O),options:{contentType:"application/json"},bids:e}},interpretResponse:function(e,t){var r=t.bids;if(e.body){var n=e.body,o=n.seatbid,s=n.cur,c=g(o.map((function(e){return e.bid}))).reduce((function(e,t){return e[t.impid-1]=t,e}),[]);return r.map((function(e,t){var r=c[t];if(r){var n=Object(a.deepAccess)(r,"ext.prebid.type"),o={requestId:e.bidId,cpm:r.price,creativeId:r.crid,ttl:360,netRevenue:"net"===e.netRevenue,currency:s,mediaType:n,width:r.w,height:r.h,dealId:r.dealid,meta:{mediaType:n,advertiserDomains:r.adomain}};return r.native?o.native=function(e){var t=e.native,r=t.assets,n=t.link,i=t.imptrackers,a=t.jstracker,o={clickUrl:n.url,clickTrackers:n.clicktrackers||void 0,impressionTrackers:i||void 0,javascriptTrackers:a?[a]:void 0};return r.forEach((function(e){var t=f[e.id],r=t&&e[y[t].name];r&&(o[t]=r.text||r.value||{url:r.url,width:r.w,height:r.h})})),o}(r):o[n===i.d?"vastXml":"ad"]=r.adm,e.renderer||n!==i.d||"outstream"!==Object(a.deepAccess)(e,"mediaTypes.video.context")||(o.renderer=d.a.install({id:e.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js",adUnitCode:e.adUnitCode}),o.renderer.setRender(h)),o}})).filter(Boolean)}}};function v(e,t){for(var r,n=0;n<e.length;n++)if(r=Object(a.deepAccess)(e[n],t))return r}function g(e){var t;return(t=[]).concat.apply(t,s(e))}function h(e){e.renderer.push((function(){window.Adform.renderOutstream(e)}))}Object(n.registerBidder)(b),window.pbjs.installedModules.push("adfBidAdapter")}},[62]);