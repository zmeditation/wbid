pbjsChunk([49],{15:function(e,t,r){"use strict";t.b=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else{var n=a(e[r],r);n&&t.push(n)}return t},t.a=function(e){var t=[];return e.filter((function(e){return Object(n.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(r){Object(n.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(n.deepAccess)(i,r+".source")&&t.push({source:i[r].source,bidders:e.config.bidders})}))})),t};var n=r(0),i={trustpid:{source:"trustpid.com",atype:1,getValue:function(e){return e}},intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=Object(n.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},hadronId:{source:"audigent.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1}};function a(e,t){var r=i[t];if(r&&e){var a={};a.source=r.source;var c=Object(n.isFn)(r.getValue)?r.getValue(e):e;if(Object(n.isStr)(c)){var o={id:c,atype:r.atype};if(Object(n.isFn)(r.getUidExt)){var s=r.getUidExt(e);s&&(o.ext=s)}if(a.uids=[o],Object(n.isFn)(r.getEidExt)){var d=r.getEidExt(e);d&&(a.ext=d)}return a}}return null}},513:function(e,t,r){e.exports=r(514)},514:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return P}));var n=r(11),i=r.n(n),a=r(32),c=r.n(a),o=r(0),s=r(1),d=r(3),u=r(2),p=r(15);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m="mediakeys",y=[u.b,u.c,u.d],g="USD",O=[{name:"title",id:1,type:0},{name:"image",id:2,type:3},{name:"icon",id:3,type:1},{name:"sponsoredBy",id:5,type:1},{name:"body",id:6,type:2},{name:"rating",id:7,type:3},{name:"likes",id:8,type:4},{name:"downloads",id:9,type:5},{name:"price",id:10,type:6},{name:"salePrice",id:11,type:7},{name:"phone",id:12,type:8},{name:"address",id:13,type:9},{name:"body2",id:14,type:10},{name:"displayUrl",id:15,type:11},{name:"cta",id:16,type:12}],v={context:function(e){return-1!==[1,2,3].indexOf(e)},plcmttype:function(e){return-1!==[1,2,3,4].indexOf(e)}},h={mimes:function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e}))},minduration:function(e){return Object(o.isInteger)(e)},maxduration:function(e){return Object(o.isInteger)(e)},protocols:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==[1,2,3,4,5,6,7,8,9,10].indexOf(e)}))},w:function(e){return Object(o.isInteger)(e)},h:function(e){return Object(o.isInteger)(e)},startdelay:function(e){return Object(o.isInteger)(e)},placement:function(e){return-1!==[1,2,3,4,5].indexOf(e)},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return Object(o.isInteger)(e)},skipafter:function(e){return Object(o.isInteger)(e)},sequence:function(e){return Object(o.isInteger)(e)},battr:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==c()({length:17},(function(e,t){return t+1})).indexOf(e)}))},maxextended:function(e){return Object(o.isInteger)(e)},minbitrate:function(e){return Object(o.isInteger)(e)},maxbitrate:function(e){return Object(o.isInteger)(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==[1,2,3,4,5,6].indexOf(e)}))},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return-1!==[1,2,3].indexOf(e)},pos:function(e){return-1!==[0,1,2,3,4,5,6,7].indexOf(e)},api:function(e){return Array.isArray(e)&&e.every((function(e){return-1!==[1,2,3,4,5,6].indexOf(e)}))}};function j(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";if(!Object(o.isFn)(e.getFloor))return!1;if(-1===y.indexOf(t))return Object(o.logWarn)("".concat(m,": Unable to detect floor price for unsupported mediaType ").concat(t,". No floor will be used.")),!1;var n=e.getFloor({currency:g,mediaType:t,size:r});return!isNaN(n.floor)&&n.currency===g&&n.floor}function x(e){var t=e.mediaTypes.banner.sizes,r=Object(o.deepAccess)(e,"params",{});if(Object(o.isArray)(t)&&t.length){var n={};n.w=parseInt(t[0][0],10),n.h=parseInt(t[0][1],10);var i=[];return t.forEach((function(e){e.length&&e.length>1&&i.push({w:e[0],h:e[1]})})),n.format=i,n.topframe=Object(o.inIframe)()?0:1,n.pos=r.pos||0,n}Object(o.logWarn)("".concat(m,": mediaTypes.banner.size missing for adunit: ").concat(e.params.adUnit,". Ignoring the banner impression in the adunit."))}function k(e){if(e.nativeParams){var t=Object(o.deepClone)(e.nativeParams),r=Object(o.deepAccess)(e,"mediaTypes.native",{}),n=Object(o.deepAccess)(e,"params.native",{}),a=f(f({},r),n),c={ver:"1.2",context:1,plcmttype:1,assets:[]};Object.keys(v).forEach((function(e){a.hasOwnProperty(e)&&(v[e](a[e])?c[e]=a[e]:Object(o.logWarn)("".concat(m,": the OpenRTB native param ").concat(e," has been skipped due to misformating. Please refer to OpenRTB Native spec.")))}));var s=function(e,t){t.sizes&&t.sizes.length&&(e.img.w=t.sizes?t.sizes[0]:void 0,e.img.h=t.sizes?t.sizes[1]:void 0),e.img.w||(e.img.wmin=0),e.img.h||(e.img.hmin=0)};"image"===Object(o.deepAccess)(e,"mediaTypes.native.type")&&(t.title.len=90);var d=function(e){if(t.hasOwnProperty(e)){var r=i()(O,(function(t){return t.name===e}));if(!r)return Object(o.logWarn)("".concat(m,': the asset "').concat(e,'" has not been found in Prebid assets map. Skipped for request.')),"continue";var n=t[e],a={id:r.id,required:n.required?1:0};switch(e){case"title":if(!n.len&&!n.length)return Object(o.logWarn)("".concat(m,': "title.length" property for native asset is required. Skipped for request.')),"continue";a.title={len:n.len||n.length,ext:n.ext};break;case"image":case"icon":a.img={type:r.type,mimes:n.mimes,ext:n.ext},s(a,n);break;case"sponsoredBy":case"body":case"rating":case"likes":case"downloads":case"price":case"salePrice":case"phone":case"address":case"body2":case"displayUrl":case"cta":a.data={type:r.type,len:n.len,ext:n.ext}}c.assets.push(a)}};for(var u in t)d(u);return c.assets.length?{request:c}:void 0}Object(o.logWarn)("".concat(m,": bid.nativeParams object has not been found."))}function I(e){var t=Object(o.deepAccess)(e,"mediaTypes.video",{}),r=Object(o.deepAccess)(e,"params.video",{}),n={};if(Array.isArray(t.playerSize)){var i=Array.isArray(t.playerSize[0])?t.playerSize[0]:t.playerSize;n.w=i[0],n.h=i[1]}var a=f(f(f({},n),t),r),c={};return Object.keys(h).forEach((function(e){a.hasOwnProperty(e)&&(h[e](a[e])?c[e]=a[e]:Object(o.logWarn)("".concat(m,": the OpenRTB video param ").concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),c}function A(e){var t={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloorcur:g,secure:1},r=function(e){var t=[];for(var r in e.mediaTypes){var n=j(e,r);Object(o.isNumber)(n)&&t.push(n)}return!!t.length&&t.reduce((function(e,t){return Math.max(e,t)}))}(e);for(var n in Object(o.isNumber)(r)&&(t.bidfloor=r),e.mediaTypes)switch(n){case u.b:var i=x(e);i&&(t.banner=i);break;case u.c:var a=k(e);a&&(t.native=a);break;case u.d:var c=I(e);c&&(t.video=c)}if(Object(o.deepAccess)(e,"ortb2Imp.ext.data")){var s=f({},e.ortb2Imp);Object(o.mergeDeep)(t,s)}return t}function w(e){if(e&&(!Object(o.isArray)(e)||e.length))return Object(o.isArray)(e)?e[0]:Object(o.isStr)(e)?e:void 0}var P={code:m,gvlid:498,supportedMediaTypes:y,isBidRequestValid:function(e){return!(!e||Object(o.isEmpty)(e))},buildRequests:function(e,t){var r={id:"",at:1,cur:[g],imp:[],site:{},device:{ip:"",js:1,dnt:Object(o.getDNT)(),ua:navigator.userAgent,devicetype:/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())?5:/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())?4:2,os:-1!=navigator.userAgent.indexOf("Android")?"Android":-1!=navigator.userAgent.indexOf("like Mac")?"iOS":-1!=navigator.userAgent.indexOf("Win")?"Windows":-1!=navigator.userAgent.indexOf("Mac")?"Macintosh":-1!=navigator.userAgent.indexOf("Linux")?"Linux":-1!=navigator.appVersion.indexOf("X11")?"Unix":"Others",h:screen.height,w:screen.width,language:navigator.language,make:navigator.vendor?navigator.vendor:""},user:{},regs:{ext:{gdpr:0}},ext:{is_secure:1}};if(Object(o.deepSetValue)(r,"id",t.auctionId),Object(o.deepSetValue)(r,"source.tid",t.auctionId),e.forEach((function(e){var t=A(Object(o.deepClone)(e));r.imp.push(t)})),e[0].schain&&Object(o.deepSetValue)(r,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(Object(o.deepSetValue)(r,"user.ext.consent",t.gdprConsent.consentString),Object(o.deepSetValue)(r,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Object(o.deepSetValue)(r,"regs.ext.us_privacy",t.uspConsent),!0===d.b.getConfig("coppa")&&Object(o.deepSetValue)(r,"regs.coppa",1),Object(o.deepAccess)(e[0],"userId")&&Object(o.deepSetValue)(r,"user.ext.eids",Object(p.b)(e[0].userId)),t.refererInfo&&t.refererInfo.reachedTop){var n=t.refererInfo.referer;Object(o.deepSetValue)(r,"site.page",n),Object(o.deepSetValue)(r,"site.domain",Object(o.parseUrl)(n,{noDecodeWholeURL:!0}).hostname),function(){try{return!!Object(o.getWindowTop)().location.href}catch(e){return!1}}()&&Object(o.deepSetValue)(r,"site.ref",Object(o.getWindowTop)().document.referrer)}var i=d.b.getConfig("ortb2")||{};i.site&&Object(o.mergeDeep)(r,{site:i.site}),i.user&&Object(o.mergeDeep)(r,{user:i.user});var a=Object(o.deepAccess)(i,"device.geo");return a&&Object(o.mergeDeep)(r.device,{geo:a}),{method:"POST",url:"https://prebid.eu-central-1.bidder.mediakeys.io/bids",data:r,options:{withCredentials:!1}}},interpretResponse:function(e,t){var r=[];try{if(e.body&&e.body.seatbid&&Object(o.isArray)(e.body.seatbid)){var n=e.body.cur||g,a=t.site&&t.site.ref?t.site.ref:"";e.body.seatbid.forEach((function(e){Object(o.isArray)(e.bid)&&e.bid.length&&e.bid.forEach((function(e){var t;switch(Object(o.deepAccess)(e,"ext.prebid.type")){case"V":t=u.d;break;case"N":t=u.c;break;default:t=u.b}var c={advertiserDomains:Array.isArray(e.adomain)&&e.adomain.length?e.adomain:[],advertiserName:Object(o.deepAccess)(e,"ext.advertiser_name",null),agencyName:Object(o.deepAccess)(e,"ext.agency_name",null),primaryCatId:w(e.cat),mediaType:t},s={requestId:e.impid,cpm:parseFloat(e.price)||0,width:e.w,height:e.h,creativeId:e.crid||e.id,dealId:e.dealid||null,currency:n,netRevenue:true,ttl:360,referrer:a,ad:e.adm,mediaType:t,burl:e.burl,meta:Object(o.cleanObj)(c)};if(t===u.c){var d=function(e){var t=JSON.parse(e.adm);if(t&&t.assets.length){var r={};return t.assets.forEach((function(e){if(e.title)r.title=e.title.text;else if(e.img)switch(e.img.type){case 1:r.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;default:r.image={url:e.img.url,width:e.img.w,height:e.img.h}}else if(e.data){var t=i()(O,(function(t){return t.id===e.id}));t&&(r[t.name]=e.data.value)}})),t.link&&(t.link.url&&(r.clickUrl=t.link.url),Array.isArray(t.link.clicktrackers)&&(r.clickTrackers=t.link.clicktrackers)),Array.isArray(t.eventtrackers)&&(r.impressionTrackers=[],t.eventtrackers.forEach((function(e){if(1===e.event)switch(e.method){case 1:r.impressionTrackers.push(e.url);break;case 2:r.javascriptTrackers='<script src="'.concat(e.url,'"><\/script>')}}))),t.privacy&&(r.privacyLink=t.privacy),r}Object(o.logError)("".concat(m,": invalid native response."))}(e);d&&(s.native=d)}t===u.d&&(s.videoCacheKey="no_cache",s.vastUrl=e.ext.vast_url+"&no_cache"),r.push(s)}))}))}}catch(e){Object(o.logError)(m,e)}return r},onBidWon:function(e){if(e.burl){var t=e.burl.replace(/\$\{AUCTION_PRICE\}/,e.cpm);Object(o.triggerPixel)(t)}}};Object(s.registerBidder)(P),window.pbjs.installedModules.push("mediakeysBidAdapter")}},[513]);