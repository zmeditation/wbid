pbjsChunk([164],{636:function(e,r,t){e.exports=t(637)},637:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"QUANTCAST_DOMAIN",(function(){return b})),t.d(r,"QUANTCAST_TEST_DOMAIN",(function(){return f})),t.d(r,"QUANTCAST_NET_REVENUE",(function(){return v})),t.d(r,"QUANTCAST_TEST_PUBLISHER",(function(){return m})),t.d(r,"QUANTCAST_TTL",(function(){return y})),t.d(r,"QUANTCAST_PROTOCOL",(function(){return T})),t.d(r,"QUANTCAST_PORT",(function(){return h})),t.d(r,"QUANTCAST_FPA",(function(){return O})),t.d(r,"storage",(function(){return A})),t.d(r,"spec",(function(){return S}));var n=t(0),i=t(4),o=t(3),a=t(7),s=t(1),c=t(11),d=t.n(c);function p(){return(p=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var u="quantcast",l="11",b="qcx.quantserve.com",f="s2s-canary.quantserve.com",v=!0,m="test-publisher",y=4,T="https",h="8443",O="__qca",A=Object(a.b)(l,u);function g(e){var r=e.sizes||e.mediaTypes.banner.sizes;return{banner:{battr:e.params.battr,sizes:r.map((function(e){return{width:e[0],height:e[1]}}))},placementCode:e.placementCode,bidFloor:e.params.bidFloor||1e-10}}var C=!1,S={code:u,GVLID:l,supportedMediaTypes:["banner","video"],isBidRequestValid:function(e){return!!e.params.publisherId},buildRequests:function(e,r){var t,i,a,s,c=e||[],d=Object(n.deepAccess)(r,"gdprConsent")||{},l=Object(n.deepAccess)(r,"uspConsent"),v=Object(n.deepAccess)(r,"refererInfo.referer"),y=Object(n.deepAccess)(r,"refererInfo.canonicalUrl")||o.b.getConfig("pageUrl")||Object(n.deepAccess)(window,"location.href"),C=(t=y)?t.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0]:t;if(d.gdprApplies&&d.vendorData){if(1===d.apiVersion&&(i=d.vendorData,a=i.vendorConsents&&i.vendorConsents[11],s=i.purposeConsents&&i.purposeConsents[1],!a||!s))return void Object(n.logInfo)("".concat(u,": No purpose 1 consent for TCF v1"));if(2===d.apiVersion&&!function(e){var r=e.publisher?e.publisher.restrictions:{},t=r&&r[1]?r[1][11]:null;if(0===t||2===t)return!1;var n=e.vendor&&e.vendor.consents&&e.vendor.consents[11],i=e.purpose&&e.purpose.consents&&e.purpose.consents[1];return!(!n||!i)}(d.vendorData))return void Object(n.logInfo)("".concat(u,": No purpose 1 consent for TCF v2"))}var S=[];return c.forEach((function(e){var r;if(e.mediaTypes)if(e.mediaTypes.video&&"instream"===e.mediaTypes.video.context)r=function(e){var r=Object(n.deepAccess)(e,"mediaTypes.video")||{},t=p({},Object(n.deepAccess)(e,"params.video")||{},r);return t.playerSize&&(t.w=t.playerSize[0],t.h=t.playerSize[1]),{video:{mimes:t.mimes,minduration:t.minduration,maxduration:t.maxduration,protocols:t.protocols,startdelay:t.startdelay,linearity:t.linearity,battr:t.battr,maxbitrate:t.maxbitrate,playbackmethod:t.playbackmethod,delivery:t.delivery,placement:t.placement,api:t.api,w:t.w,h:t.h},placementCode:e.placementCode,bidFloor:e.params.bidFloor||1e-10}}(e);else{if(!e.mediaTypes.banner)return void Object(n.logInfo)("".concat(u,": No supported mediaTypes found in ").concat(JSON.stringify(e.mediaTypes)));r=g(e)}else r=g(e);var t={publisherId:e.params.publisherId,requestId:e.bidId,imp:[r],site:{page:y,referrer:v,domain:C},bidId:e.bidId,gdprSignal:d.gdprApplies?1:0,gdprConsent:d.consentString,uspSignal:l?1:0,uspConsent:l,coppa:!0===o.b.getConfig("coppa")?1:0,prebidJsVersion:"6.10.0-pre",fpa:A.getCookie(O)||""},i=JSON.stringify(t),a=e.params.publisherId===m?f:b,s="".concat(T,"://").concat(a,":").concat(h,"/qchb");S.push({data:i,method:"POST",url:s})})),S},interpretResponse:function(e){if(void 0===e)return Object(n.logError)("Server Response is undefined"),[];var r=e.body;return void 0!==r&&r.hasOwnProperty("bids")?Object(n.isEmpty)(r.bids)?[]:r.bids.map((function(e){var t=e.ad,i=e.cpm,o=e.width,a=e.height,s=e.creativeId,c=e.currency,d=e.videoUrl,p=e.dealId,u=e.meta,l={requestId:r.requestId,cpm:i,width:o,height:a,ad:t,ttl:y,creativeId:s,netRevenue:v,currency:c};return void 0!==d&&d&&(l.vastUrl=d,l.mediaType="video"),void 0!==p&&p&&(l.dealId=p),void 0!==u&&u.advertiserDomains&&Object(n.isArray)(u.advertiserDomains)&&(l.meta={},l.meta.advertiserDomains=u.advertiserDomains),l})):(Object(n.logError)("Sub-optimal JSON received from Quantcast server"),[])},onTimeout:function(e){var r="".concat(T,"://").concat(b,":").concat(h,"/qchb_notify?type=timeout");Object(i.a)(r,null,null)},getUserSyncs:function(e,r){var t=[];if(!C&&e.pixelEnabled){var i=d()(r,(function(e){return Object(n.deepAccess)(e.body,"userSync.url")}));if(i){var o=Object(n.deepAccess)(i.body,"userSync.url");t.push({type:"image",url:o})}C=!0}return t},resetUserSync:function(){C=!1}};Object(s.registerBidder)(S),window.pbjs.installedModules.push("quantcastBidAdapter")}},[636]);