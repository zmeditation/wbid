pbjsChunk([163],{678:function(e,o,t){e.exports=t(679)},679:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),t.d(o,"pubCommonIdSubmodule",function(){return m});var h=t(0),r=t(13),a=t(7),b=t(4);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y="PublisherCommonId",n="cookie",i="html5",d="00000000000000000000000000",c="_sharedid",l="Thu, 01 Jan 1970 00:00:01 GMT",s=Object(a.b)(887,"pubCommonId");function u(e,o){try{var t,r;o&&(t=e.storage.name+c,r=new Date(Date.now()+864e5*s.expires).toUTCString(),e.storage.type===n?s.cookiesAreEnabled()&&s.setCookie(t,o,r,"LAX",m.domainOverride()):e.storage.type===i&&s.hasLocalStorage()&&(s.setDataInLocalStorage("".concat(t,"_exp"),r),s.setDataInLocalStorage(t,o)))}catch(e){h.logError(e)}}function g(e){try{var o=e.storage.name+c;if(e.storage.type===n){if(s.cookiesAreEnabled())return s.getCookie(o)}else if(e.storage.type===i&&s.hasLocalStorage()){var t=s.getDataFromLocalStorage("".concat(o,"_exp"));if(!t)return s.getDataFromLocalStorage(o);if(0<new Date(t).getTime()-Date.now())return s.getDataFromLocalStorage(o)}}catch(e){h.logError(e)}}function I(t,r,a){return{success:function(e){if(e)try{var o=JSON.parse(e);h.logInfo("PubCommonId: Generated SharedId: "+o.sharedId),o.sharedId&&(o.sharedId!==d?u(a,o.sharedId):function(e){try{var o=e.storage.name+c;e.storage.type===n?s.cookiesAreEnabled()&&s.setCookie(o,"",l):e.storage.type===i&&(s.removeDataFromLocalStorage("".concat(o,"_exp")),s.removeDataFromLocalStorage(o))}catch(e){h.logError(e)}}(a)),r(t)}catch(e){h.logError(e)}},error:function(){h.logInfo("PubCommonId: failed to get sharedid")}}}var m={name:"pubCommonId",gvlid:887,makeCallback:function(e,o){var t=1<arguments.length&&void 0!==o?o:"";if(e){var r=h.parseUrl(e);r.search.id=encodeURIComponent("pubcid:"+t);var a=h.buildUrl(r);return function(){h.triggerPixel(a)}}},decode:function(e,o){var t,r={pubcid:e},a=o.params,n=(a=void 0===a?{}:a).enableSharedId;return!(void 0!==n&&n)||(t=g(o))&&(r.sharedid={id:t}),r},getId:function(e,o,t){var r=0<arguments.length&&void 0!==e?e:{},a=2<arguments.length?t:void 0,n=r.params,i=(n=void 0===n?{}:n).create,d=void 0===i||i,c=n.pixelUrl,l=n.enableSharedId,s=void 0!==l&&l,u=a;if(!u){try{"object"===p(window[y])&&(u=window[y].getId())}catch(e){}u=u||(d&&h.hasDeviceAccess()?h.generateUUID():void 0)}var g,m,f,v=this.makeCallback(c,u);return{id:u,callback:s?(g=u,m=v,f=r,function(e){"function"==typeof m&&m(),Object(b.a)("https://id.sharedid.org/id",I(g,e,f),void 0,{method:"GET",withCredentials:!0})}):v}},extendId:function(e,o){var t=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length?o:void 0,a=t.params,n=(a=void 0===a?{}:a).extend,i=void 0!==n&&n,d=a.pixelUrl,c=a.enableSharedId,l=void 0!==c&&c;if(i){try{if("object"===p(window[y]))return void(l&&u(t,g(t)))}catch(e){}return d?{callback:this.makeCallback(d,r)}:(l&&u(t,g(t)),{id:r})}},domainOverride:function(){for(var e,o,t=document.domain.split("."),r="_gd".concat(Date.now()),a=0;a<t.length;a++){var n=t.slice(a).join(".");if(s.setCookie(r,"1",void 0,void 0,n),o=s.getCookie(r),s.setCookie(r,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,n),"1"!==o)return e;e=n}}};Object(r.e)("userId",m)}},[678]);