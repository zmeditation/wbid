pbjsChunk([130],{742:function(e,r,n){e.exports=n(743)},743:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",(function(){return b}));var t=n(0),a=n(1),i=n(2),o=n(12),s=n.n(o),c=n(3);function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var t,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return u(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=["minduration","maxduration","startdelay","placement","linearity","mimes","protocols","api"],f=["1x1","1x2"],m=["liveramp.com","nextroll.com","verizonmedia.com","pubcid.org"],b={code:"synacormedia",supportedMediaTypes:[i.b,i.d],sizeMap:{},isVideoBid:function(e){return void 0!==e.mediaTypes&&e.mediaTypes.hasOwnProperty("video")},isBidRequestValid:function(e){var r=e&&e.params&&(e.params.hasOwnProperty("placementId")||e.params.hasOwnProperty("tagId"))&&e.params.hasOwnProperty("seatId"),n=e&&Object(t.getAdUnitSizes)(e).filter((function(e){return-1===f.indexOf(e.join("x"))})).length>0;return!(!r||!n)},buildRequests:function(e,r){var n=this;if(e&&e.length&&r){var a=r.refererInfo,i={id:r.auctionId,site:{domain:c.b.getConfig("publisherDomain")||location.hostname,page:a.referer,ref:document.referrer},device:{ua:navigator.userAgent},imp:[]},o=e[0].schain;o&&(i.source={ext:{schain:o}});var s=null;if(e.forEach((function(e,r){if(s&&s!==e.params.seatId)Object(t.logWarn)("Synacormedia: there is an inconsistent seatId: ".concat(e.params.seatId," but only sending bid requests for ").concat(s,", you should double check your configuration"));else{s=e.params.seatId;var a=e.params.tagId||e.params.placementId,o=parseInt(e.params.pos,10);isNaN(o)&&(Object(t.logWarn)("Synacormedia: there is an invalid POS: ".concat(e.params.pos)),o=0);var c=n.isVideoBid(e)?"video":"banner",d=Object(t.getAdUnitSizes)(e).filter((function(e){return-1===f.indexOf(e.join("x"))})),u=[];"banner"===c?u=n.buildBannerImpressions(d,e,a,o,c):"video"===c&&(u=n.buildVideoImpressions(d,e,a,o,c)),u.length>0&&u.forEach((function(e){return i.imp.push(e)}))}})),r&&r.uspConsent&&Object(t.deepSetValue)(i,"regs.ext.us_privacy",r.uspConsent),e[0]&&e[0].userIdAsEids&&Array.isArray(e[0].userIdAsEids)){var d=this.processEids(e[0].userIdAsEids);d.length&&Object(t.deepSetValue)(i,"user.ext.eids",d)}return i.imp.length&&s?{method:"POST",url:"".concat("https://").concat(s,".").concat("technoratimedia.com","/openrtb/bids/").concat(s,"?src=prebid_prebid_6.10.0-pre"),data:i,options:{contentType:"application/json",withCredentials:!0}}:void 0}},processEids:function(e){var r=[];return e.forEach((function(e){m.indexOf(e.source)>-1&&r.push(e)})),r},buildBannerImpressions:function(e,r,n,a,i){var o=[],s=[];if(e.forEach((function(e,r){e&&2===e.length&&o.push({w:e[0],h:e[1]})})),o.length>0){var c={id:"".concat(i.substring(0,1)).concat(r.bidId),banner:{format:o,pos:a},tagid:n},d=y(r,"banner","*");isNaN(d)&&Object(t.logWarn)("Synacormedia: there is an invalid bid floor: ".concat(r.params.bidfloor)),null===d||isNaN(d)||(c.bidfloor=d),s.push(c)}return s},buildVideoImpressions:function(e,r,n,a,i){var o=this,s=[];return e.forEach((function(e,c){if(e&&2==e.length){var d=e[0],u=e[1],l={id:"".concat(i.substring(0,1)).concat(r.bidId,"-").concat(d,"x").concat(u),tagid:n},p=y(r,"video",e);isNaN(p)&&Object(t.logWarn)("Synacormedia: there is an invalid bid floor: ".concat(r.params.bidfloor)),null===p||isNaN(p)||(l.bidfloor=p);var f={w:d,h:u,pos:a};r.mediaTypes.video&&(r.params.video||(r.params.video={}),o.setValidVideoParams(r.mediaTypes.video,r.params.video)),r.params.video&&o.setValidVideoParams(r.params.video,f),l[i]=f,s.push(l)}})),s},setValidVideoParams:function(e,r){Object.keys(e).filter((function(r){return s()(p,r)&&null!==e[r]&&(!isNaN(parseInt(e[r],10))||!(e[r].length<1))})).forEach((function(n){return r[n]=Array.isArray(e[n])?e[n]:parseInt(e[n],10)}))},interpretResponse:function(e,r){var n=function(e,r){return r?r.replace(/\${AUCTION_PRICE}/g,e.price):r};if(e.body&&"object"==l(e.body)){var a=e.body,o=a.id,s=a.seatbid,u=[];return o&&s&&s.forEach((function(e){e.bid.forEach((function(t){var a=n(t,t.adm),o=n(t,t.nurl),s=d(t.impid.match(/^([vb])([\w\d]+)/),3),l=s[1],p=s[2],f=t.h,m=t.w,b="v"===l,y="b"===l;(!f||!m)&&r.data&&r.data.imp&&r.data.imp.length>0&&r.data.imp.forEach((function(e){if(t.impid===e.id)if(b)f=e.video.h,m=e.video.w;else if(y){var r=1,n=1;e.banner.format&&e.banner.format.length>0&&(r=e.banner.format[0].h,n=e.banner.format[0].w),f=r,m=n}else f=1,m=1}));var h={requestId:p,cpm:parseFloat(t.price),width:parseInt(m,10),height:parseInt(f,10),creativeId:"".concat(e.seat,"_").concat(t.crid),currency:"USD",netRevenue:!0,mediaType:b?i.d:i.b,ad:a,ttl:60};if(null==t.adomain&&null==t.adomain||(h.meta={advertiserDomains:t.adomain}),b){var v=d(o.match(/ID=([^&]*)&?/),2)[1];c.b.getConfig("cache.url")||(h.videoCacheKey=encodeURIComponent(v)),h.vastUrl=o}u.push(h)}))})),u}Object(t.logWarn)("Synacormedia: server returned empty/non-json response: "+JSON.stringify(e.body))},getUserSyncs:function(e,r){var n=[];return e.iframeEnabled?n.push({type:"iframe",url:"".concat("https://ad-cdn.technoratimedia.com","/html/usersync.html?src=prebid_prebid_6.10.0-pre")}):Object(t.logWarn)("Synacormedia: Please enable iframe based user sync."),n}};function y(e,r,n){if(!Object(t.isFn)(e.getFloor))return e.params.bidfloor?parseFloat(e.params.bidfloor):null;var a=e.getFloor({currency:"USD",mediaType:r,size:n});return Object(t.isPlainObject)(a)&&!isNaN(a.floor)&&"USD"===a.currency?a.floor:null}Object(a.registerBidder)(b),window.pbjs.installedModules.push("synacormediaBidAdapter")}},[742]);