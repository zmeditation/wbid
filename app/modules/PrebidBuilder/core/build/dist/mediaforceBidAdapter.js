pbjsChunk([212],{511:function(e,t,r){e.exports=r(512)},512:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return p}));var a=r(0),i=r(1),n=r(2);function o(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c={},u={title:{id:1,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},body:{id:4,name:"data",type:2},sponsoredBy:{id:5,name:"data",type:1},cta:{id:6,type:12,name:"data"},body2:{id:7,name:"data",type:10},rating:{id:8,name:"data",type:3},likes:{id:9,name:"data",type:4},downloads:{id:10,name:"data",type:5},displayUrl:{id:11,name:"data",type:11},price:{id:12,name:"data",type:6},salePrice:{id:13,name:"data",type:7},address:{id:14,name:"data",type:9},phone:{id:15,name:"data",type:8}};Object.keys(u).forEach((function(e){c[u[e].id]=e}));var p={code:"mediaforce",supportedMediaTypes:[n.b,n.c],isBidRequestValid:function(e){return!("object"!==s(e.params)||!e.params.placement_id||!e.params.publisher_id)},buildRequests:function(e,t){if(0!==e.length){var r=t&&t.refererInfo?encodeURIComponent(t.refererInfo.referer):"",i=t&&t.auctionId,o=t&&t.timeout,d=Object(a.getDNT)()?1:0,s={},c=[],u=!1;return e.forEach((function(e){u=u||e.params.is_test;var t=e.params.placement_id,a=!1,p={id:e.bidId,tagid:t,secure:"https:"===window.location.protocol?1:0,bidfloor:0,ext:{mediaforce:{transactionId:e.transactionId}}};for(var f in e.mediaTypes)switch(f){case n.b:p.banner=l(e),a=!0;break;case n.c:p.native=m(e),a=!0;break;default:return}var b,y=s[e.params.publisher_id];y||(y={id:Math.round(1e16*Math.random()).toString(16),site:{page:window.location.href,ref:r,id:e.params.publisher_id,publisher:{id:e.params.publisher_id}},device:{ua:navigator.userAgent,js:1,dnt:d,language:(b=navigator.language?"language":"userLanguage",navigator[b].split("-")[0])},ext:{mediaforce:{hb_key:i}},tmax:o,imp:[]},s[e.params.publisher_id]=y,c.push({method:"POST",url:"https://rtb.mfadsrvr.com/header_bid",data:y})),a&&y.imp.push(p)})),c.forEach((function(e){u&&(e.url="https://rtb.mfadsrvr.com/header_bid?debug_key=abcdefghijklmnop"),e.data=JSON.stringify(e.data)})),c}},interpretResponse:function(e,t){if(!e||!e.body)return[];var r=e.body,i=[],o=r.cur;return r.seatbid.forEach((function(e){e.bid.forEach((function(e){var t,r={requestId:e.impid,cpm:parseFloat(e.price),creativeId:e.adid,currency:o,netRevenue:!0,ttl:e.ttl||300,meta:{advertiserDomains:e.adomain?e.adomain:[]},burl:e.burl};e.dealid&&(r.dealId=e.dealid);var d,s,u,p,l,m,f=e.adm,b=e.ext;try{t=JSON.parse(f)}catch(e){}t&&t.native&&((b=b||{}).native=t.native,f=null),f?(r.width=e.w,r.height=e.h,r.ad=f,r.mediaType=n.b):b&&b.native&&(r.native=(d=b.native,s=d.assets,u=d.link,p=d.imptrackers,l=d.jstracker,m={clickUrl:u.url,clickTrackers:u.clicktrackers||[],impressionTrackers:p||[],javascriptTrackers:l?[l]:[]},(s||[]).forEach((function(e){var t=e.id,r=e.img,i=e.data,n=e.title,o=c[t];o&&(Object(a.isEmpty)(n)?Object(a.isEmpty)(r)?Object(a.isEmpty)(i)||(m[o]=i.value):m[o]={url:r.url,height:r.h,width:r.w}:m.title=n.text)})),m),r.mediaType=n.c),i.push(r)}))})),i},onBidWon:function(e){var t=Object(a.deepAccess)(e,"adserverTargeting.hb_pb")||"";Object(a.isStr)(e.burl)&&""!==e.burl&&(e.burl=Object(a.replaceAuctionPrice)(e.burl,t),Object(a.triggerPixel)(e.burl))}};function l(e){var t=e.mediaTypes.banner.sizes;if(t.length){for(var r=[],i=Object(a.parseGPTSingleSizeArrayToRtbSize)(t[0]),n=1;n<t.length;n++)r.push(Object(a.parseGPTSingleSizeArrayToRtbSize)(t[n]));return r.length&&(i.format=r),i}}function m(e){var t=[];return e.nativeParams&&Object.keys(e.nativeParams).forEach((function(r){if(u[r]){var a,i=u[r],n=i.name,d=i.type,s=i.id,c=d?{type:d}:{},p=e.nativeParams[r],l=p.len,m=p.sizes,f=p.required,b=p.aspect_ratios;if(l&&(c.len=l),b&&b[0]){var y=(b=b[0]).min_width||0,h=b.ratio_height*y/b.ratio_width|0;c.wmin=y,c.hmin=h}if(m&&m.length)m=(a=[]).concat.apply(a,o(m)),c.w=m[0],c.h=m[1];var v={required:f?1:0,id:s};v[n]=c,t.push(v)}})),{ver:"1.2",request:{assets:t,context:1,plcmttype:1,ver:"1.2"}}}Object(i.registerBidder)(p),window.pbjs.installedModules.push("mediaforceBidAdapter")}},[511]);