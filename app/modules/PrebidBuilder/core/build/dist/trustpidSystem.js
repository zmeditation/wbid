pbjsChunk([116],{772:function(t,a,n){t.exports=n(773)},773:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),n.d(a,"storage",(function(){return s})),n.d(a,"trustpidSubmodule",(function(){return f}));var e=n(0),o=n(8),r=n(7),c="trustpid",i="Trustpid module",d="",u="",s=Object(r.b)(null,c);function l(t){var a="";switch(t){case"tmi.mno.link":a="ndye";break;case"tmi.vodafone.de":a="pqnx";break;case"tmi.telekom.de":a="avgw";break;case"tmi.tmid.es":a="kjws";break;case"uat.mno.link":a="xxxx";break;case"es.tmiservice.orange.com":a="aplw";break;default:return"none"}return d="-"+a}function m(){var t=JSON.parse(s.getDataFromLocalStorage("fcIdConnectDomain"))||u;if(Object(e.logInfo)("".concat(i,": Local storage domain: ").concat(t)),!t)return Object(e.logInfo)("".concat(i,": Local storage domain not found, returning null")),{trustpid:null,acr:null};var a,n=d;if(n||(l(t),n=d),Object(e.logInfo)("".concat(i,": Domain acronym found: ").concat(n)),t&&!n)return{trustpid:null,acr:null};var o=JSON.parse(s.getDataFromLocalStorage("fcIdConnectData"));return Object(e.logInfo)("".concat(i,": Local storage fcIdConnectData: ").concat(JSON.stringify(o))),o&&o.connectId&&Array.isArray(o.connectId.idGraph)&&o.connectId.idGraph.length>0&&(a=o.connectId.idGraph.find((function(a){return a.domain===t}))),Object(e.logInfo)("".concat(i,": Local storage fcIdConnectObject for domain: ").concat(JSON.stringify(a))),{trustpid:a&&a.umid?a.umid:null,acr:n}}window.addEventListener("message",(function(t){var a;try{if(t&&t.data&&"string"==typeof t.data&&t.data&&"MNOSELECTOR"===(a=JSON.parse(t.data)).msgType&&a.body&&a.body.url){var n=a.body.url.split("//")[1].split("/");u=n[0],Object(e.logInfo)("".concat(i,": Message handler set domain to ").concat(u)),l(u)}}catch(t){Object(e.logError)(t)}}),!1);var f={name:c,decode:function(t){return Object(e.logInfo)("".concat(i,": Decoded ID value ").concat(JSON.stringify(t))),t.trustpid?t:null},getId:function(t){var a=m();if(a.trustpid)return Object(e.logInfo)("".concat(i,": Local storage ID value ").concat(JSON.stringify(a))),{id:{trustpid:a.trustpid+a.acr}};t||(t={}),t.params||(t.params={}),void 0!==t.params.maxDelayTime&&null!==t.params.maxDelayTime||(t.params.maxDelayTime=1e3);var n=0;return{callback:function a(o){var r=m();if(r.trustpid){var c={trustpid:r.trustpid+r.acr};Object(e.logInfo)("".concat(i,": Returning ID value data of ").concat(JSON.stringify(c))),o(c)}else n>t.params.maxDelayTime?(Object(e.logInfo)("".concat(i,": No trustpid value set after ").concat(t.params.maxDelayTime," max allowed delay time")),o(null)):(n+=50,setTimeout((function(){a(o)}),50))}}}};Object(o.e)("userId",f),window.pbjs.installedModules.push("trustpidSystem")}},[772]);