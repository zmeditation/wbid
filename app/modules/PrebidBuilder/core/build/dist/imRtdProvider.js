pbjsChunk([252],{411:function(e,t,a){e.exports=a(412)},412:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"imUidLocalName",(function(){return m})),a.d(t,"imVidCookieName",(function(){return g})),a.d(t,"imRtdLocalName",(function(){return d})),a.d(t,"storage",(function(){return u})),t.getBidderFunction=p,t.getCustomBidderFunction=b,t.setRealTimeData=f,t.getRealTimeData=_,t.getApiCallback=w,a.d(t,"imRtdSubmodule",(function(){return D}));var n=a(4),o=a(3),i=a(14),r=a(7),s=a(0),c=a(8),m="__im_uid",g="_im_vid",d="__im_sids",u=Object(r.b)();function l(e){u.setCookie(g,e,new Date(Object(s.timestamp)()+972e8).toUTCString(),"none")}function p(e){return{ix:function(e,t){return t.im_segments&&t.im_segments.length&&o.b.setConfig({ix:{firstPartyData:{im_segments:t.im_segments}}}),e},pubmatic:function(e,t){if(t.im_segments&&t.im_segments.length){var a=Object(s.deepAccess)(e,"params.dctr");Object(s.deepSetValue)(e,"params.dctr","".concat(a?a+"|":"","im_segments=").concat(t.im_segments.join(",")))}return e}}[e]||null}function b(e,t){var a=Object(s.deepAccess)(e,"params.overwrites.".concat(t));return a&&Object(s.isFn)(a)?a:null}function f(e,t,a){var n=e.adUnits||Object(i.a)().adUnits,r={deepSetValue:s.deepSetValue,deepAccess:s.deepAccess,logInfo:s.logInfo,logError:s.logError,mergeDeep:s.mergeDeep};if(a.im_segments){var c=o.b.getConfig("ortb2")||{};Object(s.deepSetValue)(c,"user.ext.data.im_segments",a.im_segments),o.b.setConfig({ortb2:c}),!t.params.setGptKeyValues&&t.params.hasOwnProperty("setGptKeyValues")||(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("im_segments",a.im_segments)})))}n.forEach((function(e){e.bids.forEach((function(e){var n=p(e.bidder),i=b(t,e.bidder);i?i(e,a,r,o.b):n&&n(e,a)}))}))}function _(e,t,a){var o=Object(s.deepAccess)(a,"params.cid");if(!o)return Object(s.logError)("imRtdProvider requires a valid cid to be defined"),void t();var i=u.getDataFromLocalStorage(d),r=i?i.split(","):[],c=u.getDataFromLocalStorage("".concat(d,"_mt")),m=u.getCookie(g),p="https://sync6.im-apps.net/".concat(o,"/rtd"),b=!0,_=!1;m&&(p+="?vid=".concat(m),l(m)),Date.parse(c)&&Date.now()-new Date(c).getTime()<36e5&&(b=!1),null!==i&&(f(e,a,{im_segments:r}),t(),_=!0),b&&Object(n.a)(p,w(e,_?void 0:t,a),void 0,{method:"GET",withCredentials:!0})}function w(e,t,a){return{success:function(n,o){var i={};if(200===o.status){try{i=JSON.parse(n)}catch(e){Object(s.logError)("unable to get Intimate Merger segment data")}if(i.uid){var r=u.getDataFromLocalStorage(m),c=u.getDataFromLocalStorage("".concat(m,"_mt")),g=Date.parse(c)&&Date.now()-new Date(c).getTime()<18e5;r&&!g||(u.setDataInLocalStorage(m,i.uid),u.setDataInLocalStorage("".concat(m,"_mt"),new Date(Object(s.timestamp)()).toUTCString()))}i.vid&&l(i.vid),i.segments&&(f(e,a,{im_segments:i.segments}),u.setDataInLocalStorage(d,i.segments),u.setDataInLocalStorage("".concat(d,"_mt"),new Date(Object(s.timestamp)()).toUTCString()))}t&&t()},error:function(){t&&t(),Object(s.logError)("unable to get Intimate Merger segment data")}}}var D={name:"im",getBidRequestData:_,init:function(e,t){return!0}};Object(c.e)("realTimeData",D),window.pbjs.installedModules.push("imRtdProvider")}},[411]);