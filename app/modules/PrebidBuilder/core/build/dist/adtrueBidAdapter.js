pbjsChunk([370],{125:function(e,a,r){e.exports=r(126)},126:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),r.d(a,"spec",(function(){return B}));var t=r(0),i=r(1),n=r(2),s=r(3),o=r(7);function d(){return(d=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=Object(o.b)(),u="USD",m="AdTrue: ",g=void 0,b=0,l=0,h={},v="number",y="string",f="boolean",I="array",T=Object.freeze({1:"iframe",2:"image"}),w={mimes:I,minduration:v,maxduration:v,startdelay:v,playbackmethod:I,api:I,protocols:I,w:v,h:v,battr:I,linearity:v,placement:v,minbitrate:v,maxbitrate:v},x={ID:1,KEY:"title",TYPE:0},O={ID:2,KEY:"image",TYPE:0},E={ID:3,KEY:"icon",TYPE:0},j={ID:4,KEY:"sponsoredBy",TYPE:1},D={ID:5,KEY:"body",TYPE:2},S={ID:13,KEY:"rating",TYPE:3},k={ID:14,KEY:"likes",TYPE:4},z={ID:15,KEY:"downloads",TYPE:5},P={ID:16,KEY:"price",TYPE:6},Y={ID:17,KEY:"saleprice",TYPE:7},A={ID:18,KEY:"phone",TYPE:8},C={ID:19,KEY:"address",TYPE:9},U={ID:20,KEY:"desc2",TYPE:10},_={ID:21,KEY:"displayurl",TYPE:11},K={ID:22,KEY:"cta",TYPE:12};var R,W=(R=navigator.userAgent).indexOf("Android")>-1||R.indexOf("Adr")>-1?"Android":R.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?"iOS":"windows";function L(e){var a,r,t;return null==c.getDataFromLocalStorage("adtrue_user_id")&&c.setDataInLocalStorage("adtrue_user_id",(r=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==e?a:3&a|8).toString(16)})))),a=c.getDataFromLocalStorage("adtrue_user_id"),{id:""+(new Date).getTime(),at:1,cur:[u],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ip:"",ua:navigator.userAgent,os:W,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:(t=navigator.language?"language":"userLanguage",navigator[t].split("-")[0]),devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,geo:{country:"{country_code}",type:0,ipservice:1,region:"",city:""}},user:{id:a},ext:{}}}function N(e,a,r){var i,n="Ignoring param key: "+e+", expects "+r+", found "+p(a);switch(r){case f:i=t.isBoolean;break;case v:i=t.isNumber;break;case y:i=t.isStr;break;case I:i=t.isArray}return i(a)?a:(Object(t.logWarn)(m+n),g)}function V(e){var a,r=e.mediaTypes.banner.sizes,i=[];if(r!==g&&Object(t.isArray)(r)){if(a={},e.params.width||e.params.height)a.w=e.params.width,a.h=e.params.height;else{if(0===r.length)return a=g,Object(t.logWarn)("AdTrue: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),a;a.w=parseInt(r[0][0],10),a.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(i=[],r.forEach((function(e){e.length>1&&i.push({w:e[0],h:e[1]})})),i.length>0&&(a.format=i)),a.pos=0,a.topframe=Object(t.inIframe)()?0:1}else Object(t.logWarn)("AdTrue: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),a=g;return a}function M(e){var a,r=e.params.video;if(r!==g){for(var i in a={},w)r.hasOwnProperty(i)&&(a[i]=N(i,r[i],w[i]));Object(t.isArray)(e.mediaTypes.video.playerSize[0])?(a.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),a.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Object(t.isNumber)(e.mediaTypes.video.playerSize[0])&&(a.w=parseInt(e.mediaTypes.video.playerSize[0],10),a.h=parseInt(e.mediaTypes.video.playerSize[1],10)),e.params.video.hasOwnProperty("skippable")&&(a.ext={video_skippable:e.params.video.skippable?1:0})}else a=g,Object(t.logWarn)("AdTrue: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return a}var B={code:"adtrue",supportedMediaTypes:["banner","video"],isBidRequestValid:function(e){return!(!e||!e.params)&&(e.params.zoneId?e.params.publisherId?Object(t.isStr)(e.params.publisherId)?!!Object(t.isStr)(e.params.zoneId)||(Object(t.logWarn)("AdTrue: Error: zoneId is mandatory and cannot be numeric"),!1):(Object(t.logWarn)("AdTrue: Error: publisherId is mandatory and cannot be numeric"),!1):(Object(t.logWarn)("AdTrue: Error: missing publisherId"),!1):(Object(t.logWarn)("AdTrue: Error: missing zoneId"),!1))},buildRequests:function(e,a){var r;a&&a.refererInfo&&(r=a.refererInfo);var i,o,c,m=function(e){return{pageURL:e&&e.referer?e.referer:window.location.href,refURL:window.document.referrer}}(r),h=L(m),v="";if(e.forEach((function(e){(function(e){if(e.params.width=0,e.params.height=0,e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(n.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var a=0,r=[];a<e.mediaTypes.banner.sizes.length;a++)2===e.mediaTypes.banner.sizes[a].length&&r.push(e.mediaTypes.banner.sizes[a]);e.mediaTypes.banner.sizes=r,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}})(i=Object(t.deepClone)(e)),m.zoneId=m.zoneId||i.params.zoneId,m.pubId=m.pubId||i.params.publisherId,m.transactionId=i.transactionId,""===v?v=i.params.currency||g:i.params.hasOwnProperty("currency")&&v!==i.params.currency&&Object(t.logWarn)("AdTrue: Currency specifier ignored. Only one currency permitted."),i.params.currency=v;var a=function(e,a){var r,i,s={},o=e.hasOwnProperty("sizes")?e.sizes:[],d="",p=[];if(s={id:e.bidId,tagid:String(e.params.zoneId||void 0),bidfloor:0,secure:1,ext:{},bidfloorcur:u},e.hasOwnProperty("mediaTypes"))for(d in e.mediaTypes)switch(d){case n.b:(r=V(e))!==g&&(s.banner=r);break;case n.d:(i=M(e))!==g&&(s.video=i)}else r={pos:0,w:e.params.width,h:e.params.height,topframe:Object(t.inIframe)()?0:1},Object(t.isArray)(o)&&o.length>1&&((o=o.splice(1,o.length-1)).forEach((function(e){p.push({w:e[0],h:e[1]})})),r.format=p),s.banner=r;return s.hasOwnProperty(n.b)||s.hasOwnProperty(n.c)||s.hasOwnProperty(n.d)?s:g}(i);a&&h.imp.push(a)})),0!=h.imp.length)return b=m.pubId.trim(),l=m.zoneId.trim(),h.site.publisher.id=m.pubId.trim(),h.ext.wrapper={},h.ext.wrapper.transactionId=m.transactionId,h.ext.wrapper.wiid=m.wiid||a.auctionId,h.ext.wrapper.wp="pbjs",h.user.geo={},h.device.geo=h.user.geo,h.site.page=m.pageURL,h.site.domain=(o=h.site.page,(c=document.createElement("a")).href=o,c.hostname),"object"===p(s.b.getConfig("content"))&&(h.site.content=s.b.getConfig("content")),"object"===p(s.b.getConfig("device"))&&(h.device=d(h.device,s.b.getConfig("device"))),Object(t.deepSetValue)(h,"source.tid",m.transactionId),-1!==window.location.href.indexOf("adtrueTest=true")&&(h.test=1),e[0].schain&&Object(t.deepSetValue)(h,"source.ext.schain",e[0].schain),a&&a.gdprConsent&&(Object(t.deepSetValue)(h,"user.ext.consent",a.gdprConsent.consentString),Object(t.deepSetValue)(h,"regs.ext.gdpr",a.gdprConsent.gdprApplies?1:0)),a&&a.uspConsent&&Object(t.deepSetValue)(h,"regs.ext.us_privacy",a.uspConsent),!0===s.b.getConfig("coppa")&&Object(t.deepSetValue)(h,"regs.coppa",1),{method:"POST",url:"https://hb.adtrue.com/prebid/auction",data:JSON.stringify(h),bidderRequests:a}},interpretResponse:function(e,a){var r=[],i=u,s=JSON.parse(a.data),o=s.site&&s.site.ref?s.site.ref:"";try{e.body&&e.body.seatbid&&Object(t.isArray)(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach((function(e){e.bid&&Object(t.isArray)(e.bid)&&e.bid.forEach((function(a){var d={requestId:a.impid,cpm:(parseFloat(a.price)||0).toFixed(2),width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:i,netRevenue:false,ttl:300,referrer:o,ad:a.adm,partnerImpId:a.id||""};s.imp&&s.imp.length>0&&s.imp.forEach((function(e){if(a.impid===e.id)switch(function(e,a){var r="",i=new RegExp(/VAST\s+version/);if(a.mediaType=n.b,i.test(e))a.mediaType=n.d;else try{(r=JSON.parse(e.replace(/\\/g,"")))&&r.native&&(a.mediaType=n.c)}catch(a){Object(t.logWarn)("AdTrue: Error: Cannot parse native reponse for ad response: "+e)}}(a.adm,d),d.mediaType){case n.b:case n.d:break;case n.c:!function(e,a){if(a.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return}if(r&&r.native&&r.native.assets&&r.native.assets.length>0){a.mediaType=n.c;for(var t=0,i=r.native.assets.length;t<i;t++)switch(r.native.assets[t].id){case x.ID:a.native.title=r.native.assets[t].title&&r.native.assets[t].title.text;break;case O.ID:a.native.image={url:r.native.assets[t].img&&r.native.assets[t].img.url,height:r.native.assets[t].img&&r.native.assets[t].img.h,width:r.native.assets[t].img&&r.native.assets[t].img.w};break;case E.ID:a.native.icon={url:r.native.assets[t].img&&r.native.assets[t].img.url,height:r.native.assets[t].img&&r.native.assets[t].img.h,width:r.native.assets[t].img&&r.native.assets[t].img.w};break;case j.ID:case D.ID:case k.ID:case z.ID:case P:case Y.ID:case A.ID:case C.ID:case U.ID:case K.ID:case S.ID:case _.ID:a.native[h[r.native.assets[t].id]]=r.native.assets[t].data&&r.native.assets[t].data.value}a.native.clickUrl=r.native.link&&r.native.link.url,a.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],a.native.impressionTrackers=r.native.imptrackers||[],a.native.jstracker=r.native.jstracker||[],a.width||(a.width=0),a.height||(a.height=0)}}}(a,d)}})),d.meta={},a.ext&&a.ext.dspid&&(d.meta.networkId=a.ext.dspid),a.ext&&a.ext.advid&&(d.meta.buyerId=a.ext.advid),a.adomain&&a.adomain.length>0&&(d.meta.advertiserDomains=a.adomain,d.meta.clickUrl=a.adomain[0]),e.ext&&e.ext.buyid&&(d.adserverTargeting={hb_buyid_adtrue:e.ext.buyid}),r.push(d)}))})))}catch(e){Object(t.logError)(e)}return r},getUserSyncs:function(e,a,r,i){return a&&0!==a.length&&(e.iframeEnabled||e.pixelEnabled)?a.reduce((function(e,a){var n=Object(t.deepAccess)(a,"body.ext.cookie_sync");if(n){var o=n.map((function(e){return{type:T[e.type],url:e.url+"&publisherId="+b+"&zoneId="+l+"&gdpr="+(r&&r.gdprApplies?1:0)+"&gdpr_consent="+encodeURIComponent(r?r.consentString:"")+"&us_privacy="+encodeURIComponent(i||"")+"&coppa="+(!0===s.b.getConfig("coppa")?1:0)}}));return e.concat(o)}}),[]):[]}};Object(i.registerBidder)(B),window.pbjs.installedModules.push("adtrueBidAdapter")}},[125]);