pbjsChunk([395],{64:function(e,t,r){e.exports=r(65)},65:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return d}));var a=r(0),n=r(1),i=r(2),c=r(3),d={code:"adgeneration",aliases:["adg"],supportedMediaTypes:[i.b,i.c],isBidRequestValid:function(e){return!!e.params.id},buildRequests:function(e,t){for(var r=[],n=0,i=e.length;n<i;n++){var c=e[n],d=c.params.debug?"https://api-test.scaleout.jp/adsv/v1":"https://d.socdm.com/adsv/v1",s="";s=Object(a.tryAppendQueryString)(s,"posall","SSPLOC");var u=Object(a.getBidIdParameter)("id",c.params);s=Object(a.tryAppendQueryString)(s,"id",u),s=Object(a.tryAppendQueryString)(s,"sdktype","0"),s=Object(a.tryAppendQueryString)(s,"hb","true"),s=Object(a.tryAppendQueryString)(s,"t","json3"),s=Object(a.tryAppendQueryString)(s,"transactionid",c.transactionId),s=Object(a.tryAppendQueryString)(s,"sizes",o(c)),s=Object(a.tryAppendQueryString)(s,"currency",p()),s=Object(a.tryAppendQueryString)(s,"pbver","6.10.0-pre"),s=Object(a.tryAppendQueryString)(s,"sdkname","prebidjs"),s=Object(a.tryAppendQueryString)(s,"adapterver","1.2.0"),c.mediaTypes&&c.mediaTypes.native||(s=Object(a.tryAppendQueryString)(s,"imark","1")),(s=Object(a.tryAppendQueryString)(s,"tp",t.refererInfo.referer)).lastIndexOf("&")===s.length-1&&(s=s.substring(0,s.length-1)),r.push({method:"GET",url:d,data:s,bidRequest:e[n]})}return r},interpretResponse:function(e,t){var r=e.body;if(!r.results||r.results.length<1)return[];var a=t.bidRequest,n={requestId:a.bidId,cpm:r.cpm||0,width:r.w?r.w:1,height:r.h?r.h:1,creativeId:r.creativeid||"",dealId:r.dealid||"",currency:p(),netRevenue:!0,ttl:r.ttl||10};return r.adomain&&Array.isArray(r.adomain)&&r.adomain.length&&(n.meta={advertiserDomains:r.adomain}),!function(e){return!!e&&(e.native_ad&&e.native_ad.assets.length>0)}(r)?n.ad=function(e,t){var r=e.ad;if(e.vastxml&&e.vastxml.length>0)if(function(e){if(e.location_params&&e.location_params.option&&e.location_params.option.ad_type)return"upper_billboard"===e.location_params.option.ad_type;return!1}(e)){var a=t.params.marginTop?t.params.marginTop:"0";r="<body>".concat('<script type="text/javascript" src="'.concat("https://i.socdm.com/sdk/js/adg-browser-m.js",'"><\/script>')).concat(function(e,t){var r=document.createElement("script");return r.type="text/javascript",r.innerHTML="window.ADGBrowserM.init({vastXml: '".concat(e.replace(/\r?\n/g,""),"', marginTop: '").concat(t,"'});"),r.outerHTML}(e.vastxml,a),"</body>")}else r='<body><div id="apvad-'.concat(t.bidId,'"></div>').concat((o="https://cdn.apvdr.com/js/VideoAd.min.js",p=document.createElement("script"),p.type="text/javascript",p.id="apv",p.src=o,p.outerHTML)).concat((n=t.bidId,i=e.vastxml,c={s:n},(d=document.createElement("script")).type="text/javascript",d.innerHTML="(function(){ new APV.VideoAd(".concat(JSON.stringify(c),").load('").concat(i.replace(/\r?\n/g,""),"'); })();"),d.outerHTML),"</body>");var n,i,c,d;var o,p;return s(r=function(e,t){return e.replace(/<\/\s?body>/,"".concat(t,"</body>"))}(r,e.beacon))?s(r):r}(r,a):(n.native=function(e){var t={};if(e.native_ad&&e.native_ad.assets.length>0){for(var r=e.native_ad.assets,a=0,n=r.length;a<n;a++)switch(r[a].id){case 1:t.title=r[a].title.text;break;case 2:t.image={url:r[a].img.url,height:r[a].img.h,width:r[a].img.w};break;case 3:t.icon={url:r[a].img.url,height:r[a].img.h,width:r[a].img.w};break;case 4:t.sponsoredBy=r[a].data.value;break;case 5:t.body=r[a].data.value;break;case 6:t.cta=r[a].data.value;break;case 502:t.privacyLink=encodeURIComponent(r[a].data.value)}t.clickUrl=e.native_ad.link.url,t.clickTrackers=e.native_ad.link.clicktrackers||[],t.impressionTrackers=e.native_ad.imptrackers||[],e.beaconurl&&""!=e.beaconurl&&t.impressionTrackers.push(e.beaconurl)}return t}(r),n.mediaType=i.c),[n]},getUserSyncs:function(e,t){return[]}};function s(e){var t=e.indexOf("<body>"),r=e.lastIndexOf("</body>");return-1!==t&&-1!==r&&e.substr(t,r).replace("<body>","").replace("</body>","")}function o(e){var t=e.sizes;if(!t||t.length<1)return null;var r="";for(var a in t){var n=t[a];if(2!==n.length)return null;r+="".concat(n[0],"x").concat(n[1],",")}return(r||r.lastIndexOf(",")===r.length-1)&&(r=r.substring(0,r.length-1)),r}function p(){return c.b.getConfig("currency.adServerCurrency")&&"USD"===c.b.getConfig("currency.adServerCurrency").toUpperCase()?"USD":"JPY"}Object(n.registerBidder)(d),window.pbjs.installedModules.push("adgenerationBidAdapter")}},[64]);