pbjsChunk([369],{184:function(e,r,n){e.exports=n(185)},185:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",function(){return d});var t=n(1),y=n(3),g=n(2),f=n(11),I=n(0),_="adform",d={code:_,gvlid:50,supportedMediaTypes:[g.b,g.d],isBidRequestValid:function(e){return!!e.params.mid},buildRequests:function(e,r){for(var n,t,d,s,i,o,u,a,p=y.b.getConfig("currency.adServerCurrency"),c=[],g=[["adxDomain","adx.adform.net"],["fd",1],["url",null],["tid",null],["eids",function(e){if(I.isArray(e)&&0<e.length){var r=function(e){return e.reduce(function(n,e){var t=e.source;return n[t]=n[t]||{},e.uids.forEach(function(e){var r=e.id+"";n[t][r]=n[t][r]||[],n[t][r].push(e.atype)}),n},{})}(e);return btoa(JSON.stringify(r))}}(I.deepAccess(e,"0.userIdAsEids"))]],f=JSON.parse(JSON.stringify(e)),h=f[0]&&f[0].bidder||_,l=0,v=f.length;l<v;l++){for("net"!==(d=f[l]).params.priceType&&"net"!==d.params.pt||(u="net"),n=0,t=g.length;n<t;n++)(i=d[s=g[n][0]]||d.params[s])&&(d[s]=d.params[s]=null,g[n][1]=i);(o=d.params).transactionId=d.transactionId,o.rcur=o.rcur||p,c.push(function(e){var r,n=[];for(r in e)e.hasOwnProperty(r)&&e[r]&&n.push(r,"=",e[r],"&");return encodeURIComponent(btoa(n.join("").slice(0,-1)))}(o))}c.unshift("https://"+g[0][1]+"/adx/?rp=4"),u=u||"gross",c.push("pt="+u),c.push("stid="+e[0].auctionId);var b=I.deepAccess(r,"gdprConsent.gdprApplies"),m=I.deepAccess(r,"gdprConsent.consentString");for(void 0!==b&&(a={gdpr:b,gdpr_consent:m},c.push("gdpr="+(1&b)),c.push("gdpr_consent="+m)),r&&r.uspConsent&&c.push("us_privacy="+r.uspConsent),l=1,v=g.length;l<v;l++)s=g[l][0],(i=g[l][1])&&c.push(s+"="+encodeURIComponent(i));return{method:"GET",url:c.join("&"),bids:e,netRevenue:u,bidder:h,gdpr:a}},interpretResponse:function(e,r){for(var n,t,d,s,i={banner:1,vast_content:1,vast_url:1},o=[],u=r.bids,a=e.body,p=0;p<a.length;p++)s="banner"===(t=a[p]).response?g.b:g.d,d=u[p],i[t.response]&&(function(e,r){for(var n=0,t=r.length;n<t;n++)if(e.width==r[n][0]&&e.height==r[n][1])return!0;return!1}(t,I.getAdUnitSizes(d))||s===g.d)&&(n={requestId:d.bidId,cpm:t.win_bid,width:t.width,height:t.height,creativeId:d.bidId,dealId:t.deal_id,currency:t.win_cur,netRevenue:"gross"!==r.netRevenue,ttl:360,ad:t.banner,bidderCode:r.bidder,transactionId:d.transactionId,vastUrl:t.vast_url,vastXml:t.vast_content,mediaType:s},d.renderer||s!==g.d||"outstream"!==I.deepAccess(d,"mediaTypes.video.context")||(n.renderer=f.a.install({id:d.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js"}),n.renderer.setRender(c)),r.gdpr&&(n.gdpr=r.gdpr.gdpr,n.gdpr_consent=r.gdpr.gdpr_consent),o.push(n));return o;function c(e){e.renderer.push(function(){window.Adform.renderOutstream(e)})}}};Object(t.registerBidder)(d)}},[184]);