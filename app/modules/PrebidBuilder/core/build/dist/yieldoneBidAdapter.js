pbjsChunk([82],{853:function(e,n,t){e.exports=t(854)},854:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"spec",(function(){return l}));var i=t(0),r=t(3),a=t(1),d=t(13),c=t(2),o="https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/dac-video-prebid.min.js",s="https://an.cmertv.com/hb/renderer/cmertv-video-yone-prebid.min.js",p={w:640,h:360},l={code:"yieldone",aliases:["y1"],supportedMediaTypes:[c.b,c.d],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,n){return e.map((function(e){var t={v:"hb1",p:e.params.placementId,cb:Math.floor(99999999999*Math.random()),r:n.refererInfo.referer,uid:e.bidId,tid:e.transactionId,uc:e.adUnitCode,tmax:r.b.getConfig("bidderTimeout"),t:"i"};switch(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=Boolean(Object(i.deepAccess)(e,"mediaTypes.banner")),r=Boolean(Object(i.deepAccess)(e,"mediaTypes.video"));n&&(t=t||e.mediaType===c.b||Object(i.isEmpty)(e.mediaTypes)&&Object(i.isEmpty)(e.mediaType),r=r||e.mediaType===c.d);if(t&&r)return Object(i.deepAccess)(e,"params.playerParams")?c.d:c.b;if(t)return c.b;if(r)return c.d;return null}(e)){case c.b:t.sz=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=Object(i.deepAccess)(e,"mediaTypes.banner.sizes");n&&(t=t||e.sizes);return Object(i.parseSizesInput)(t).join(",")}(e);break;case c.d:var a=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(e){var n=null,t=Object(i.parseSizesInput)(e)[0];if(Object(i.isEmpty)(t))return n;var r=t.split("x"),a={w:parseInt(r[0],10),h:parseInt(r[1],10)};return!Object(i.isEmpty)(a)&&isFinite(a.w)&&isFinite(a.h)?n=a:n},a=r(Object(i.deepAccess)(e,"mediaTypes.video.playerSize"));n&&(a=a||r(e.sizes));t&&a&&1===a.w&&1===a.h&&(a=r(Object(i.deepAccess)(e,"params.playerSize")));return a||p}(e);t.w=a.w,t.h=a.h}var d=Object(i.deepAccess)(e,"userId.idl_env");Object(i.isStr)(d)&&!Object(i.isEmpty)(d)&&(t.lr_env=d);var o=Object(i.deepAccess)(e,"userId.imuid");return Object(i.isStr)(o)&&!Object(i.isEmpty)(o)&&(t.imuid=o),{method:"GET",url:"https://y.one.impact-ad.jp/h_bid",data:t}}))},interpretResponse:function(e,n){var t=[],a=e.body,p=a.crid||0,l=a.width||0,w=a.height||0,b=1e3*a.cpm||0;if(0!==l&&0!==w&&0!==b&&0!==p){var f=a.dealId||"",g=a.renderid||"",h=a.currency||"JPY",v=void 0===a.netRevenue||a.netRevenue,y=n.data.r||"",j={requestId:a.uid,cpm:b,width:a.width,height:a.height,creativeId:p,dealId:f,currency:h,netRevenue:v,ttl:r.b.getConfig("_bidderTimeout"),referrer:y,meta:{advertiserDomains:a.adomain?a.adomain:[]}};if(a.adTag&&"ViewableRendering"===g){j.mediaType=c.b;var O='\n        <script src="'.concat("https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/prebid-adformat-config.js",'"><\/script>\n        <script>\n        let width =').concat(j.width,";\n        let height =").concat(j.height,";\n        let adTag = `").concat(a.adTag.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/'/g,"\\'").replace(/"/g,'\\"'),'`;\n        let targetId ="').concat(n.data.uc,'";\n        window.YONEPBViewable = {};\n        window.YONEPBViewable.executed = false;\n        const viewablePercentage = window.pb_conf.viewablePercentage;\n        const viewableRange = height * 0.01 * viewablePercentage;\n        const iframe = document.createElement(\'iframe\');\n        iframe.setAttribute("style", "border: 0; margin: 0 auto; left: 0; top: 0; width:" + width + "px; height:" + height + "px;");\n        iframe.frameBorder = 0; iframe.scrolling = \'no\';\n        const inDap = document.createElement(\'script\');\n        inDap.innerHTML = "inDapIF = true;";\n        iframe.appendChild(inDap);\n        window.frameElement.parentElement.appendChild(iframe);\n        const doc = iframe.contentWindow ? iframe.contentWindow.document : iframe.contentDocument;\n        if(!window.parent.$sf){\n          let target = window.top.document.getElementById(targetId);\n          window.top.addEventListener(\'scroll\', () => {\n              const targetRect = target.getBoundingClientRect();\n              if (!window.YONEPBViewable.executed && window.top.innerHeight - targetRect.top > viewableRange) {\n                  window.YONEPBViewable.executed = true;\n                  doc.open(); doc.write(adTag); doc.close();\n                  window.frameElement.style.display = "none";\n              }\n            }, false);\n        }else{\n          let disp = function(){\n            if(!window.YONEPBViewable.executed && window.parent.$sf.ext.inViewPercentage() > viewablePercentage){\n                window.YONEPBViewable.executed = true;\n                doc.open(); doc.write(adTag); doc.close();\n                window.frameElement.style.display = "none";\n            }\n            let id = setTimeout(disp, 100);\n            if(window.YONEPBViewable.executed){clearTimeout(id);}\n          };\n          disp();\n        }\n        <\/script>\n        ');j.ad=O}else a.adTag?(j.mediaType=c.b,j.ad=a.adTag):a.adm&&(j.mediaType=c.d,j.vastXml=a.adm,j.renderer="cmer"===g?function(e){var n=d.a.install({id:e.uid,url:s,loaded:!1});try{n.setRender(m)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on newRenderer",e)}return n}(a):function(e){var n=d.a.install({id:e.uid,url:o,loaded:!1});try{n.setRender(u)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on newRenderer",e)}return n}(a));t.push(j)}return t},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://y.one.impact-ad.jp/push_sync"}]}};function u(e){e.renderer.push((function(){window.DACIVTPREBID.renderPrebid(e)}))}function m(e){e.renderer.push((function(){window.CMERYONEPREBID.renderPrebid(e)}))}Object(a.registerBidder)(l),window.pbjs.installedModules.push("yieldoneBidAdapter")}},[853]);