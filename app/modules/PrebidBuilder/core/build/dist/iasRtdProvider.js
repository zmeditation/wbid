pbjsChunk([256],{394:function(r,n,t){r.exports=t(395)},395:function(r,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"iasTargeting",(function(){return s})),n.init=c,n.getApiCallback=p,t.d(n,"iasSubModule",(function(){return f}));var e=t(8),o=t(0),i=t(4),a=t(14),s={},u="ias-kw";function c(r,n){var t=r.params;return!(!t||!t.pubId)||(o.logError("missing pubId param for IAS provider"),!1)}function d(r){var n=o.getAdUnitSizes(r),t=r.code,e=function(r){var n="";return o.isArray(r)&&(n="["+(n=r.reduce((function(r,n){return r.push(n.join(".")),r}),[])).join(",")+"]"),n}(n),i=o.getGptSlotInfoForAdUnitCode(r.code),a={id:t,ss:e,p:o.isEmpty(i)?r.code:i.gptSlot};return"{"+o.getKeys(a).map((function(r){return[r,a[r]].join(":")})).join(",")+"}"}function p(){return{success:function(r,n){if(200===n.status)try{!function(r){var n={};try{n=JSON.parse(r)}catch(r){o.logError("error",r)}s=n}(r)}catch(r){o.logError("Unable to parse IAS response.",r)}},error:function(){o.logError("failed to retrieve IAS data")}}}var f={name:"ias",init:c,getTargetingData:function(r,n,t){var e={};try{o.isEmpty(s)||r.forEach((function(r){e[r]=function(r){var n={};return s.brandSafety&&o.mergeDeep(n,s.brandSafety),s.fr&&(n.fr=s.fr),s.custom&&u in s.custom&&(n[u]=s.custom[u]),s.slots&&r in s.slots&&o.mergeDeep(n,s.slots[r]),n}(r)}))}catch(r){o.logError("error",r)}return o.logInfo("IAS targeting",e),e},getBidRequestData:function(r,n,t,e){var o=r.adUnits||Object(a.a)().adUnits,s=function(r,n){var t=[];return t.push(["anId",r]),(t=t.concat(n.reduce((function(r,n){return r.push(["slot",d(n)]),r}),[]))).push(["wr",[window.innerWidth||-1,window.innerHeight||-1].join(".")]),t.push(["sr",[window.screen&&window.screen.width||-1,window.screen&&window.screen.height||-1].join(".")]),t.push(["url",encodeURIComponent(window.location.href)]),encodeURI(t.map((function(r){return r.join("=")})).join("&"))}(t.params.pubId,o);Object(i.a)("".concat("https://pixel.adsafeprotected.com/services/pub","?").concat(s),p(),void 0,{method:"GET"})}};Object(e.e)("realTimeData",f),window.pbjs.installedModules.push("iasRtdProvider")}},[394]);