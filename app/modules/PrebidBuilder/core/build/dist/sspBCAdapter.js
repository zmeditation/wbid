pbjsChunk([106],{803:function(e,r,t){e.exports=t(804)},804:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",function(){return d});var f=t(0),a=t(4),n=t(1),i=t(2);function g(){return(g=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var l,c="sspBC",v=window,b=v.navigator;function w(e,r){for(var t,a=0;a<e.length;a++)if(t=f.deepAccess(e[a],r))return t}function s(e){Object(a.a)("https://ssp.wp.pl/bidder/notify",null,JSON.stringify(e),{withCredentials:!1,method:"POST",crossOrigin:!0})}function h(e){var r={id:e.params.id,banner:function(e){if("banner"===e.mediaType||f.deepAccess(e,"mediaTypes.banner")||!e.mediaType&&!e.mediaTypes)return{format:e.sizes.map(function(e){return{w:e[0],h:e[1]}}),id:e.bidId}}(e),tagid:e.params.id},t=parseFloat(e.params.bidfloor);return t&&(r.bidfloor=t),r}var d={code:c,aliases:[],supportedMediaTypes:[i.b],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.id)},buildRequests:function(e,r){if(!e||e.length<1)return!1;var t,a=w(e,"params.siteId"),n=w(e,"params.page")||r.refererInfo.referer,i=w(e,"params.domain")||f.parseUrl(n).hostname,s=w(e,"params.tmax")?parseInt(w(e,"params.tmax"),10):450,d=w(e,"params.test")?1:void 0;try{v.self===v.top&&document.referrer&&(t=document.referrer)}catch(e){}var o,p,c,m,u={id:r.auctionId,site:{id:a,page:n,domain:i,ref:t},imp:e.map(function(e){return h(e)}),tmax:s,user:{},regs:{},test:d};return p=u,(o=r)&&o.gdprConsent&&(l=o.gdprConsent.apiVersion,p.regs=g(p.regs,{"[ortb_extensions.gdpr]":o.gdprConsent.gdprApplies?1:0}),p.user=g(p.user,{"[ortb_extensions.consent]":o.gdprConsent.consentString})),function(e){var r=b.connection||!1,t=v.visualViewport||!1,a=[],n={"CH-Ect":r.effectiveType,"CH-Rtt":r.rtt,"CH-SaveData":r.saveData,"CH-Downlink":r.downlink,"CH-DeviceMemory":b.deviceMemory,"CH-Dpr":v.devicePixelRatio,"CH-ViewportWidth":t.width};Object.keys(n).forEach(function(e){var r=n[e];r&&a.push({name:e,value:r.toString()})});var i=[{id:"12",name:"NetInfo",segment:a}];e.user=g(e.user,{data:i})}(u),{method:"POST",url:"https://ssp.wp.pl/bidder/?cs="+(c=/^((?!chrome|android|crios|fxios).)*safari/i.test(b.userAgent),m=b.cookieEnabled||!!document.cookie.length,!c&&m)+"&bdver=4.6&pbver=4.20.0-pre&inver=0",data:JSON.stringify(u),bidderRequest:r}},interpretResponse:function(e,i){var s,d=e.body,o=[],p=JSON.parse(i.data).site;return p.sn=d.sn||"mc_adapter",void 0!==d.seatbid&&d.seatbid.forEach(function(e){s=e.seat,e.bid.forEach(function(r){var e=i.bidderRequest.bids.filter(function(e){return e.params.id===r.impid})[0];if(e){var t=e.params.bidFloor||0,a=e.params.flatCpm;!r.gam&&e.params.gam&&(r.gam=JSON.stringify({placement:e.params.gam,multiplier:1,floor:e.params.gamFloor,ceil:100,namedSizes:["fluid"],div:"div-gpt-ad-x01",targeting:{OAS_retarg:"0",PREBID_ON:"1",DFPHASH:"",emptygaf:"0"}}));var n={requestId:e.bidId,creativeId:r.crid||"mcad_"+i.bidderRequest.auctionId+"_"+i.bidderRequest.params.id,cpm:a||r.price,currency:d.cur,ttl:r.exp||300,width:r.w,height:r.h,bidderCode:c,mediaType:"banner",meta:{advertiserDomains:r.adomain,networkName:s},netRevenue:!0,ad:function(e,r,t,a,n){var i,s={id:r,seat:a,seatbid:[{bid:[t]}]},d=btoa(encodeURI(JSON.stringify(s)));if(t.adm)try{(i=JSON.parse(t.adm).gam)&&Object.keys(i).length?(i.namedSizes=["fluid"],i.div="div-gpt-ad-x01",i.targeting=g(i.targeting||{},{OAS_retarg:"0",PREBID_ON:"1",emptygaf:"0"})):i=void 0,i&&!i.targeting&&(i.targeting={})}catch(e){f.logWarn("Could not parse adm data",t.adm)}var o='<head>\n  <title></title>\n  <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <style>\n    body {\n    background-color: transparent;\n    margin: 0;\n    padding: 0;\n  }\n</style>\n  <script>\n  window.rekid = '.concat(e.id,';\n  window.wp_sn = "').concat(e.sn,'";\n  window.mcad = JSON.parse(decodeURI(atob("').concat(d,'")));\n  window.gdpr = ').concat(JSON.stringify(n.gdprConsent),';\n  window.page = "').concat(e.page,'";\n  window.ref = "').concat(e.ref,'";\n  ');return i&&(o+="window.gam = ".concat(JSON.stringify(i),";")),o+='<\/script>\n    </head>\n    <body>\n    <div id="c"></div>\n    <script id="wpjslib" crossorigin src="//std.wpcdn.pl/wpjslib/wpjslib-inline.js" async defer><\/script>\n  </body>\n  </html>'}(p,d.id,r,s,i.bidderRequest)};0<n.cpm&&(t<=n.cpm?o.push(n):f.logWarn("Discarding bid due to bidFloor setting",n.cpm,t))}else f.logWarn("Discarding response - no matching request",r.impid)})}),o},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://ssp.wp.pl/bidder/usersync?tcf="+l}];f.logWarn("sspBC adapter requires iframe based user sync.")},onTimeout:function(e){var r=[],t=e&&e[0];if(t){e.forEach(function(e){r.push(e.params[0]&&e.params[0].id)});var a={event:"timeout",requestId:t.auctionId,siteId:t.params?[t.params[0].siteId]:[],slotId:r,timeout:t.timeout};return s(a),a}},onBidWon:function(e){if(e&&e.auctionId){var r={event:"bidWon",requestId:e.auctionId,siteId:e.params?[e.params[0].siteId]:[],slotId:e.params?[e.params[0].id]:[],cpm:e.cpm,creativeId:e.creativeId,adomain:e.meta&&e.meta.advertiserDomains?e.meta.advertiserDomains[0]:"",networkName:e.meta&&e.meta.networkName?e.meta.networkName:""};return s(r),r}}};Object(n.registerBidder)(d)}},[803]);