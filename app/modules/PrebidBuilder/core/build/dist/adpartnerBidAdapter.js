pbjsChunk([382],{100:function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"ENDPOINT_PROTOCOL",(function(){return o})),r.d(e,"ENDPOINT_DOMAIN",(function(){return d})),r.d(e,"ENDPOINT_PATH",(function(){return s})),r.d(e,"spec",(function(){return u}));var t=r(1),i=r(0),a=r(4),o="https",d="a4p.adpartner.pro",s="/hb/bid",u={code:"adpartner",isBidRequestValid:function(n){return!!parseInt(n.params.unitId)||!!parseInt(n.params.partnerId)},buildRequests:function(n,e){var r=window.location.href;try{r=void 0===e.refererInfo?window.top.location.href:e.refererInfo.referer}catch(n){}var t=[],a={tag:[],partner:[],sizes:[],referer:""};return n.forEach((function(n){var e={adUnitCode:n.adUnitCode,sizes:n.sizes,bidId:n.bidId,referer:r};parseInt(n.params.unitId)&&(e.unitId=parseInt(n.params.unitId),a.tag.push(n.params.unitId)),parseInt(n.params.partnerId)&&(e.unitId=0,e.partnerId=parseInt(n.params.partnerId),a.partner.push(n.params.partnerId)),t.push(e),a.sizes.push(u.joinSizesToString(n.sizes)),a.referer=encodeURIComponent(r)})),a.partner.length>0?a.partner=a.partner.join(","):delete a.partner,a.tag=a.tag.join(","),a.sizes=a.sizes.join(","),{method:"POST",url:Object(i.buildUrl)({protocol:o,hostname:d,pathname:s,search:a}),data:JSON.stringify(t)}},joinSizesToString:function(n){var e=[];return n.forEach((function(n){e.push(n.join("x"))})),e.join("|")},interpretResponse:function(n,e){var r=JSON.parse(e.data);return void 0===n.body?[]:r.map((function(e){return{bid:e,ad:n.body[e.adUnitCode]}})).filter((function(n){return n.ad})).map((function(n){return u.adResponse(n.bid,n.ad)}))},adResponse:function(n,e){var r={requestId:n.bidId,ad:e.ad,cpm:e.cpm,width:e.width,height:e.height,ttl:60,creativeId:e.creativeId,netRevenue:e.netRevenue,currency:e.currency,winNotification:e.winNotification,meta:{}};return e.adomain&&e.adomain.length>0&&(r.meta.advertiserDomains=e.adomain),r},onBidWon:function(n){return n.winNotification.forEach((function(n){var e=Object(i.buildUrl)({protocol:o,hostname:d,pathname:n.path});"POST"===n.method&&u.postRequest(e,JSON.stringify(n.data))})),!0},postRequest:function(n,e){Object(a.a)(n,null,e,{method:"POST"})},getUserSyncs:function(n,e,r,t){var i=[];if(!n.iframeEnabled&&!n.pixelEnabled)return i;var a=function(n,e){return null===e?n:n+(n.indexOf("?")>=0?"&":"?")+e},o=null;return r&&(o="boolean"==typeof r.gdprApplies?"gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):"gdpr_consent=".concat(r.consentString)),e.forEach((function(e){e.body&&Object.keys(e.body).map((function(r,t){var d=e.body[r];void 0!==d.syncs&&Array.isArray(d.syncs)&&d.syncs.length>0&&(n.iframeEnabled&&d.syncs.filter((function(n){return void 0!==n.type&&void 0!==n.link&&"iframe"===n.type})).forEach((function(n){i.push({type:"iframe",url:a(n.link,o)})})),n.pixelEnabled&&d.syncs.filter((function(n){return void 0!==n.type&&void 0!==n.link&&"image"===n.type})).forEach((function(n){i.push({type:"image",url:a(n.link,o)})})))}))})),i}};Object(t.registerBidder)(u),window.pbjs.installedModules.push("adpartnerBidAdapter")},99:function(n,e,r){n.exports=r(100)}},[99]);