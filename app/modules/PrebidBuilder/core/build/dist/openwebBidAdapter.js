pbjsChunk([189],{565:function(e,t,r){e.exports=r(566)},566:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return u}));var s=r(0),c=r(1),d=r(2),a=r(3),i=r(11),n=r.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var p={},u={code:"openweb",gvlid:280,supportedMediaTypes:[d.d,d.b,d.a],isBidRequestValid:function(e){return Object(s.isNumber)(Object(s.deepAccess)(e,"params.aid"))},getUserSyncs:function(e,t){var r=[];function c(t){var s=t.cookieURLs,c=t.cookieURLSTypes||[];Array.isArray(s)&&s.forEach((function(t,s){var d=c[s]||"image";!e.pixelEnabled&&"image"===d||!e.iframeEnabled&&"iframe"===d||p[t]||(p[t]=!0,r.push({type:d,url:t}))}))}return(e.pixelEnabled||e.iframeEnabled)&&Object(s.isArray)(t)&&t.forEach((function(e){e.body&&(Object(s.isArray)(e.body)?e.body.forEach((function(e){c(e)})):c(e.body))})),r},buildRequests:function(e,t){var r=function(e,t){var r={Domain:Object(s.deepAccess)(t,"refererInfo.referer")};!0===a.b.getConfig("coppa")&&(r.Coppa=1);Object(s.deepAccess)(t,"gdprConsent.gdprApplies")&&(r.GDPR=1,r.GDPRConsent=Object(s.deepAccess)(t,"gdprConsent.consentString"));Object(s.deepAccess)(t,"uspConsent")&&(r.USP=Object(s.deepAccess)(t,"uspConsent"));Object(s.deepAccess)(e[0],"schain")&&(r.Schain=Object(s.deepAccess)(e[0],"schain"));Object(s.deepAccess)(e[0],"userId")&&(r.UserIds=Object(s.deepAccess)(e[0],"userId"));Object(s.deepAccess)(e[0],"userIdAsEids")&&(r.UserEids=Object(s.deepAccess)(e[0],"userIdAsEids"));for(var c=[],d=0,i=e.length;d<i;d++){var n=f(e[d]);c.push(n)}return{tag:r,bids:c}}(e,t);return[{data:o({},r.tag,{BidRequests:r.bids}),adapterRequest:t,method:"POST",url:"https://ghb.spotim.market/v2/auction"}]},interpretResponse:function(e,t){var r=t.adapterRequest;e=e.body;var c=[];return Object(s.isArray)(e)?(e.forEach((function(e){c=Object(s.flatten)(c,b(e,r))})),c):b(e,r)},transformBidParams:function(e){return Object(s.convertTypes)({aid:"number"},e)}};function b(e,t){var r=!e||!Object(s.isArray)(e.bids),c=[];return r||e.bids.forEach((function(e){var r=n()(t.bids,(function(t){return t.bidId===e.requestId}));if(0!==e.cpm&&void 0!==r){var a=function(e,t){var r=(i=t,Object(s.deepAccess)(i,"mediaTypes.video")?d.d:d.b),c=Object(s.deepAccess)(t,"mediaTypes.video.context"),a={requestId:e.requestId,creativeId:e.cmpId,height:e.height,currency:e.cur,width:e.width,cpm:e.cpm,netRevenue:!0,mediaType:r,ttl:300,meta:{advertiserDomains:e.adomain||[]}};var i;if(r===d.b)return o(a,{ad:e.ad,adUrl:e.adUrl});c===d.a&&o(a,{meta:{primaryCatId:e.primaryCatId},video:{context:d.a,durationSeconds:e.durationSeconds}});return o(a,{vastUrl:e.vastUrl}),a}(e,r);c.push(a)}})),c}function f(e){var t=Object(s.deepAccess)(e,"mediaTypes.video")?d.d:"display",r=t===d.d?Object(s.deepAccess)(e,"mediaTypes.video.playerSize"):Object(s.deepAccess)(e,"mediaTypes.banner.sizes"),c={CallbackId:e.bidId,Aid:e.params.aid,AdType:t,Sizes:Object(s.parseSizesInput)(r).join(",")};(c.PlacementId=e.adUnitCode,e.params.iframe&&(c.AdmType="iframe"),t===d.d)&&(Object(s.deepAccess)(e,"mediaTypes.video.context")===d.a&&(c.Adpod=Object(s.deepAccess)(e,"mediaTypes.video")));return c}Object(c.registerBidder)(u),window.pbjs.installedModules.push("openwebBidAdapter")}},[565]);