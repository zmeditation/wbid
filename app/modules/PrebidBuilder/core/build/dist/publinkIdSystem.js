pbjsChunk([170],{610:function(e,r,t){e.exports=t(611)},611:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"storage",(function(){return u})),t.d(r,"publinkIdSubmodule",(function(){return l}));var n=t(8),a=t(7),i=t(4),s=t(0),o=t(9),u=Object(a.b)(24);function c(e){return/^[A-F0-9]+$/i.test(e)}function p(e,r){var t=Object(s.parseUrl)("https://proc.ad.cpe.dotomi.com/cvx/client/sync/publink");t.search={deh:e.e,mpn:"Prebid.js",mpv:"6.10.0-pre"},r&&(t.search.gdpr=r.gdprApplies?1:0,t.search.gdpr_consent=r.consentString),e.site_id&&(t.search.sid=e.site_id),e.api_key&&(t.search.apikey=e.api_key);var n=o.uspDataHandler.getConsentData();return n&&"string"==typeof n&&(t.search.us_privacy=n),Object(s.buildUrl)(t)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return function(t){e.params&&e.params.e&&(c(e.params.e)?Object(i.a)(p(e.params,r),(function(e,r){if(200===r.status){var n=JSON.parse(e);n&&t(n.publink)}}),void 0,{method:"GET",withCredentials:!0}):Object(s.logError)("params.e must be a hex string"))}}var l={name:"publinkId",gvlid:24,decode:function(e){return{publinkId:e}},getId:function(e,r,t){var n=function(){var e;function r(e){var r;if(u.hasLocalStorage()&&(r=u.getDataFromLocalStorage(e)),r||(r=u.getCookie(e)),"string"==typeof r){if("{"!==r.charAt(0))return r;try{var t=JSON.parse(r);if(t)return t.publink}catch(e){Object(s.logError)(e)}}}return(e=r("_publink_srv"))||(e=r("_publink")),e}();return n?{id:n}:t?void 0:{callback:d(e,r)}}};Object(n.e)("userId",l),window.pbjs.installedModules.push("publinkIdSystem")}},[610]);