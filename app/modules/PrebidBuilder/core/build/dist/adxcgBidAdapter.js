pbjsChunk([368],{137:function(e,t,r){e.exports=r(138)},138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return f}));var n=r(1),a=r(2),i=r(0),o=r(3);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return i}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=o.b.getConfig,m={0:"title",2:"icon",3:"image",5:"sponsoredBy",4:"body",1:"cta"},b={title:{id:0,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},sponsoredBy:{id:5,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:1,type:12,name:"data"}},f={code:"adxcg",supportedMediaTypes:[a.c,a.b,a.d],isBidRequestValid:function(e){return!!(e.params||{}).adzoneid},buildRequests:function(e,t){var r,n,a=l("ortb2")||{},o=a.user;"object"===p(l("app"))?(r=l("app")||{},a.app&&Object(i.mergeDeep)(r,a.app)):(n=l("site")||{},a.site&&Object(i.mergeDeep)(n,a.site),n.page||(n.page=t.refererInfo.referer,n.domain=Object(i.parseUrl)(t.refererInfo.referer).hostname));var c=l("device")||{};c.w=c.w||window.innerWidth,c.h=c.h||window.innerHeight,c.ua=c.ua||navigator.userAgent,c.dnt=Object(i.getDNT)()?1:0,c.language=navigator&&navigator.language?navigator.language.split("-")[0]:"";var d=e[0].transactionId,u=y(e,"params.test"),m=l("currency.adServerCurrency"),f=m&&[m],v=y(e,"userIdAsEids"),h=y(e,"schain"),j=e.map((function(e,t){var r=e.getFloor?e.getFloor({currency:m||"USD"}):{},n=r.floor,a=r.currency,o={id:t+1,tagid:e.params.adzoneid,secure:1,bidfloor:n,bidfloorcur:a,ext:{}},c=Object(i._map)(e.nativeParams,(function(e,t){var r=b[t],n={required:1&e.required};if(r){var a,i,o,c;n.id=r.id;var s=e.aspect_ratios;if(s&&s[0]&&(a=(s=s[0]).min_width||0,i=s.ratio_height*a/s.ratio_width|0),e.sizes){var d=g(e.sizes);o=d[0],c=d[1]}return n[r.name]={len:e.len,type:r.type,wmin:a,hmin:i,w:o,h:c},n}})).filter(Boolean);c.length&&(o.native={request:JSON.stringify({assets:c})});var d=Object(i.deepAccess)(e,"mediaTypes.banner");if(d&&d.sizes){var u=Object(i.parseSizesInput)(d.sizes).map((function(e){var t=s(e.split("x"),2),r=t[0],n=t[1];return{w:parseInt(r,10),h:parseInt(n,10)}}));o.banner={format:u}}var p=Object(i.deepAccess)(e,"mediaTypes.video");return p&&(o.video=p),o})),O={id:t.auctionId,site:n,app:r,user:o,geo:{utcoffset:(new Date).getTimezoneOffset()},device:c,source:{tid:d,fd:1},ext:{prebid:{channel:{name:"pbjs",version:"6.10.0-pre"}}},cur:f,imp:j};return u&&(O.is_debug=!!u,O.test=1),void 0!==Object(i.deepAccess)(t,"gdprConsent.gdprApplies")&&(Object(i.deepSetValue)(O,"user.ext.consent",t.gdprConsent.consentString),Object(i.deepSetValue)(O,"regs.ext.gdpr",1&t.gdprConsent.gdprApplies)),t.uspConsent&&Object(i.deepSetValue)(O,"regs.ext.us_privacy",t.uspConsent),v&&Object(i.deepSetValue)(O,"user.ext.eids",v),h&&Object(i.deepSetValue)(O,"source.ext.schain",h),{method:"POST",url:"https://pbc.adxcg.net/rtb/ortb/pbc?adExchangeId=1",data:JSON.stringify(O),options:{contentType:"application/json"},bids:e}},interpretResponse:function(e,t){var r=t.bids;if(e.body){var n=e.body,o=n.seatbid,c=n.cur,s=g(o.map((function(e){return e.bid}))).reduce((function(e,t){return e[t.impid-1]=t,e}),[]);return r.map((function(e,t){var r=s[t];if(r){var n=Object(i.deepAccess)(r,"ext.crType"),o={requestId:e.bidId,cpm:r.price,creativeId:r.crid,ttl:r.ttl?r.ttl:300,netRevenue:"net"===e.netRevenue,currency:c,burl:e.burl||"",mediaType:n,width:r.w,height:r.h,dealId:r.dealid};return Object(i.deepSetValue)(o,"meta.mediaType",n),Object(i.isArray)(r.adomain)&&Object(i.deepSetValue)(o,"meta.advertiserDomains",r.adomain),Object(i.isPlainObject)(r.ext)&&(Object(i.isStr)(r.ext.mediaType)&&Object(i.deepSetValue)(o,"meta.mediaType",n),Object(i.isStr)(r.ext.advertiser_id)&&Object(i.deepSetValue)(o,"meta.advertiserId",r.ext.advertiser_id),Object(i.isStr)(r.ext.advertiser_name)&&Object(i.deepSetValue)(o,"meta.advertiserName",r.ext.advertiser_name),Object(i.isStr)(r.ext.agency_name)&&Object(i.deepSetValue)(o,"meta.agencyName",r.ext.agency_name)),n===a.b?o.ad=r.adm:n===a.c?(o.native=function(e){var t=JSON.parse(e.adm),r=t.assets,n=t.link,a=t.imptrackers,i=t.jstracker,o={clickUrl:n.url,clickTrackers:n.clicktrackers||void 0,impressionTrackers:a||void 0,javascriptTrackers:i?[i]:void 0};return r.forEach((function(e){var t=m[e.id],r=t&&e[b[t].name];r&&(o[t]=r.text||r.value||{url:r.url,width:r.w,height:r.h})})),o}(r),o.width=0,o.height=0):n===a.d&&(o.vastUrl=r.nurl,o.vastXml=r.adm),o}})).filter(Boolean)}},getUserSyncs:function(e,t,r,n){var a=[],i=o.b.getConfig("adxcg.usersyncUrl"),c=[];return e.pixelEnabled&&i&&(r&&(c.push("gdpr="+(1&r.gdprApplies)),c.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),n&&c.push("us_privacy="+encodeURIComponent(n)),a.push({type:"image",url:i+(c.length?"?"+c.join("&"):"")})),a},onBidWon:function(e){e.nurl&&Object(i.triggerPixel)(Object(i.replaceAuctionPrice)(e.nurl,e.originalCpm))}};function y(e,t){for(var r,n=0;n<e.length;n++)if(r=Object(i.deepAccess)(e[n],t))return r}function g(e){var t;return(t=[]).concat.apply(t,c(e))}Object(n.registerBidder)(f),window.pbjs.installedModules.push("adxcgBidAdapter")}},[137]);