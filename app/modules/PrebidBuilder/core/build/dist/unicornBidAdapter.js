pbjsChunk([110],{786:function(e,t,n){e.exports=n(787)},787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"buildRequests",(function(){return c})),n.d(t,"spec",(function(){return f}));var r=n(0),i=n(2),a=n(1),d=n(7),s=Object(d.b)(),o="unicorn",u="__pb_unicorn_aud",c=function(e,t){return{method:"POST",url:"https://ds.uncn.jp/pb/0/bid.json",data:p(e,t)}};function p(e,t){Object(r.logInfo)("[UNICORN] buildOpenRtbBidRequestPayload.validBidRequests:",e),Object(r.logInfo)("[UNICORN] buildOpenRtbBidRequestPayload.bidderRequest:",t);var n=e.map((function(e){return{id:e.bidId,banner:{format:l(e.sizes),w:e.sizes[0][0],h:e.sizes[0][1]},tagid:Object(r.deepAccess)(e,"params.placementId")||e.adUnitCode,secure:1,bidfloor:parseFloat(0)}})),i={id:t.auctionId,at:1,imp:n,cur:["JPY"],site:{id:Object(r.deepAccess)(e[0],"params.mediaId")||"",publisher:{id:String(Object(r.deepAccess)(e[0],"params.publisherId")||0)},domain:window.location.hostname,page:window.location.href,ref:t.refererInfo.referer},device:{language:navigator.language,ua:navigator.userAgent},user:{id:b()},bcat:Object(r.deepAccess)(e[0],"params.bcat")||[],source:{ext:{stype:"prebid_uncn",bidder:o,prebid_version:"1.1"}},ext:{accountId:Object(r.deepAccess)(e[0],"params.accountId")}};return Object(r.logInfo)("[UNICORN] OpenRTB Formatted Request:",i),JSON.stringify(i)}var b=function(){var e=s.getCookie(u);if(e)return JSON.parse(e).uid;var t={uid:Object(r.generateUUID)()},n=new Date(Date.now()+864e6).toUTCString();return s.setCookie(u,JSON.stringify(t),n),t.uid},l=function(e){return e.map((function(e){return{w:e[0],h:e[1]}}))},f={code:o,aliases:["uncn"],supportedMediaTypes:[i.b],isBidRequestValid:function(e){return!!e.adUnitCode&&!!e.params.accountId},buildRequests:c,interpretResponse:function(e,t){Object(r.logInfo)("[UNICORN] interpretResponse.serverResponse:",e),Object(r.logInfo)("[UNICORN] interpretResponse.request:",t);var n=e.body,i=[];return n&&n.seatbid.forEach((function(e){e.bid.forEach((function(e){var t={requestId:e.impid,cpm:e.price||0,width:e.w,height:e.h,ad:e.adm,ttl:1e3,creativeId:e.crid,netRevenue:!1,currency:n.cur};null==e.adomain&&null==e.adomain||(t.meta={advertiserDomains:e.adomain}),i.push(t)}))})),Object(r.logInfo)("[UNICORN] interpretResponse bids:",i),i}};Object(a.registerBidder)(f),window.pbjs.installedModules.push("unicornBidAdapter")}},[786]);