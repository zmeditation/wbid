pbjsChunk([157],{656:function(e,r,n){e.exports=n(657)},657:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",(function(){return d}));var t=n(0),i=n(3),s=n(1),d={code:"resetdigital",supportedMediaTypes:["banner","video"],isBidRequestValid:function(e){return!(!e.params.pubId&&!e.params.zoneId)},buildRequests:function(e,r){var n=r.refererInfo&&r.refererInfo.stack?r.refererInfo.stack:[],s=i.b.getConfig("userSync")&&i.b.getConfig("userSync").syncsPerBidder?i.b.getConfig("userSync").syncsPerBidder:5,d={start_time:Object(t.timestamp)(),language:window.navigator.userLanguage||window.navigator.language,site:{domain:Object(t.getOrigin)(),iframe:!r.refererInfo.reachedTop,url:n&&n.length>0?[n.length-1]:null,https:"https:"===window.location.protocol,referrer:r.refererInfo.referer},imps:[],user_ids:e[0].userId,sync_limit:s};r&&r.gdprConsent&&(d.gdpr={applies:r.gdprConsent.gdprApplies,consent:r.gdprConsent.consentString});for(var a=0;a<e.length;a++){var o=e[a];d.imps.push({pub_id:o.params.pubId,zone_id:o.params.zoneId,bid_id:o.bidId,imp_id:o.transactionId,sizes:o.sizes,force_bid:o.params.forceBid,media_types:Object(t.deepAccess)(o,"mediaTypes")})}var p=e[0].params;return{method:"POST",url:p.endpoint?p.endpoint:"//ads.resetsrv.com",data:JSON.stringify(d)}},interpretResponse:function(e,r){var n=[];if(!e||!e.body)return n;var t=e.body;if(!t.bids||!t.bids.length)return[];for(var i=0;i<e.body.bids.length;i++){var s=e.body.bids[i];n.push({requestId:s.bid_id,cpm:s.cpm,width:s.w,height:s.h,ad:s.html,vastUrl:s.vast_url,vastXml:s.vast_xml,mediaType:s.html?"banner":"video",ttl:120,creativeId:s.crid,dealId:s.deal_id,netRevenue:!0,currency:"USD",meta:{advertiserDomains:s.adomain}})}return n},getUserSyncs:function(e,r,n){var t=[];if(!r.length||!r[0].body)return t;var i=r[0].body.pixels;if(!i||!i.length)return t;var s=null;n&&(s="boolean"==typeof n.gdprApplies?"gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):"gdpr_consent=".concat(n.consentString));for(var d=0;d<i.length;d++){var a=i[d];("iframe"===a.type&&e.iframeEnabled||"image"===a.type&&e.pixelEnabled)&&(s&&s.length&&(a=(-1===a.indexOf("?")?"?":"&")+s),t.push(a))}return t}};Object(s.registerBidder)(d),window.pbjs.installedModules.push("resetdigitalBidAdapter")}},[656]);